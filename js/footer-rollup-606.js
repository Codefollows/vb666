/*
 =======================================================================*\
|| ###################################################################### ||
|| # vBulletin 6.0.6
|| # ------------------------------------------------------------------ # ||
|| # Copyright 2000-2024 MH Sub I, LLC dba vBulletin. All Rights Reserved.  # ||
|| # This file may not be redistributed in whole or significant part.   # ||
|| # ----------------- VBULLETIN IS NOT FREE SOFTWARE ----------------- # ||
|| # http://www.vbulletin.com | http://www.vbulletin.com/license.html   # ||
|| ###################################################################### ||
\*========================================================================*/
// ***************************
// js.compressed/jquery-fallback.js
// ***************************
if(!window.jQuery){let a=vBulletin.data().jqueryversion;document.write('<script type="text/javascript" src="js/jquery/jquery-'+a+'.min.js">\x3c/script>')};
;

// ***************************
// js.compressed/jquery/jquery-ui-1.13.2.custom.min.js
// ***************************
/*
 jQuery UI - v1.13.2 - 2023-09-13
 http://jqueryui.com
 Includes: widget.js, position.js, data.js, disable-selection.js, focusable.js, form-reset-mixin.js, keycode.js, labels.js, scroll-parent.js, tabbable.js, unique-id.js, widgets/draggable.js, widgets/droppable.js, widgets/resizable.js, widgets/sortable.js, widgets/accordion.js, widgets/autocomplete.js, widgets/button.js, widgets/checkboxradio.js, widgets/controlgroup.js, widgets/dialog.js, widgets/menu.js, widgets/mouse.js, widgets/slider.js, widgets/tabs.js
 Copyright jQuery Foundation and other contributors; Licensed MIT  jQuery UI Widget 1.13.2
 http://jqueryui.com

 Copyright jQuery Foundation and other contributors
 Released under the MIT license.
 http://jquery.org/license
 jQuery UI Position 1.13.2
 http://jqueryui.com

 Copyright jQuery Foundation and other contributors
 Released under the MIT license.
 http://jquery.org/license

 http://api.jqueryui.com/position/
 jQuery UI :data 1.13.2
 http://jqueryui.com

 Copyright jQuery Foundation and other contributors
 Released under the MIT license.
 http://jquery.org/license
 jQuery UI Disable Selection 1.13.2
 http://jqueryui.com

 Copyright jQuery Foundation and other contributors
 Released under the MIT license.
 http://jquery.org/license
 jQuery UI Focusable 1.13.2
 http://jqueryui.com

 Copyright jQuery Foundation and other contributors
 Released under the MIT license.
 http://jquery.org/license
 jQuery UI Form Reset Mixin 1.13.2
 http://jqueryui.com

 Copyright jQuery Foundation and other contributors
 Released under the MIT license.
 http://jquery.org/license
 jQuery UI Keycode 1.13.2
 http://jqueryui.com

 Copyright jQuery Foundation and other contributors
 Released under the MIT license.
 http://jquery.org/license
 jQuery UI Labels 1.13.2
 http://jqueryui.com

 Copyright jQuery Foundation and other contributors
 Released under the MIT license.
 http://jquery.org/license
 jQuery UI Scroll Parent 1.13.2
 http://jqueryui.com

 Copyright jQuery Foundation and other contributors
 Released under the MIT license.
 http://jquery.org/license
 jQuery UI Tabbable 1.13.2
 http://jqueryui.com

 Copyright jQuery Foundation and other contributors
 Released under the MIT license.
 http://jquery.org/license
 jQuery UI Unique ID 1.13.2
 http://jqueryui.com

 Copyright jQuery Foundation and other contributors
 Released under the MIT license.
 http://jquery.org/license
 jQuery UI Mouse 1.13.2
 http://jqueryui.com

 Copyright jQuery Foundation and other contributors
 Released under the MIT license.
 http://jquery.org/license
 jQuery UI Draggable 1.13.2
 http://jqueryui.com

 Copyright jQuery Foundation and other contributors
 Released under the MIT license.
 http://jquery.org/license
 jQuery UI Droppable 1.13.2
 http://jqueryui.com

 Copyright jQuery Foundation and other contributors
 Released under the MIT license.
 http://jquery.org/license
 jQuery UI Resizable 1.13.2
 http://jqueryui.com

 Copyright jQuery Foundation and other contributors
 Released under the MIT license.
 http://jquery.org/license
 jQuery UI Sortable 1.13.2
 http://jqueryui.com

 Copyright jQuery Foundation and other contributors
 Released under the MIT license.
 http://jquery.org/license
 jQuery UI Accordion 1.13.2
 http://jqueryui.com

 Copyright jQuery Foundation and other contributors
 Released under the MIT license.
 http://jquery.org/license
 jQuery UI Menu 1.13.2
 http://jqueryui.com

 Copyright jQuery Foundation and other contributors
 Released under the MIT license.
 http://jquery.org/license
 jQuery UI Autocomplete 1.13.2
 http://jqueryui.com

 Copyright jQuery Foundation and other contributors
 Released under the MIT license.
 http://jquery.org/license
 jQuery UI Controlgroup 1.13.2
 http://jqueryui.com

 Copyright jQuery Foundation and other contributors
 Released under the MIT license.
 http://jquery.org/license
 jQuery UI Checkboxradio 1.13.2
 http://jqueryui.com

 Copyright jQuery Foundation and other contributors
 Released under the MIT license.
 http://jquery.org/license
 jQuery UI Button 1.13.2
 http://jqueryui.com

 Copyright jQuery Foundation and other contributors
 Released under the MIT license.
 http://jquery.org/license
 jQuery UI Dialog 1.13.2
 http://jqueryui.com

 Copyright jQuery Foundation and other contributors
 Released under the MIT license.
 http://jquery.org/license
 jQuery UI Slider 1.13.2
 http://jqueryui.com

 Copyright jQuery Foundation and other contributors
 Released under the MIT license.
 http://jquery.org/license
 jQuery UI Tabs 1.13.2
 http://jqueryui.com

 Copyright jQuery Foundation and other contributors
 Released under the MIT license.
 http://jquery.org/license
*/
(function(d){"function"===typeof define&&define.amd?define(["jquery"],d):d(jQuery)})(function(d){d.ui=d.ui||{};d.ui.version="1.13.2";var E=0,F=Array.prototype.hasOwnProperty,C=Array.prototype.slice;d.cleanData=function(a){return function(b){var c,e,f;for(f=0;null!=(e=b[f]);f++)(c=d._data(e,"events"))&&c.remove&&d(e).triggerHandler("remove");a(b)}}(d.cleanData);d.widget=function(a,b,c){var e={},f=a.split(".")[0];a=a.split(".")[1];var g=f+"-"+a;c||(c=b,b=d.Widget);Array.isArray(c)&&(c=
d.extend.apply(null,[{}].concat(c)));d.expr.pseudos[g.toLowerCase()]=function(a){return!!d.data(a,g)};d[f]=d[f]||{};var h=d[f][a];var k=d[f][a]=function(a,b){if(!this||!this._createWidget)return new k(a,b);arguments.length&&this._createWidget(a,b)};d.extend(k,h,{version:c.version,_proto:d.extend({},c),_childConstructors:[]});var l=new b;l.options=d.widget.extend({},l.options);d.each(c,function(a,c){e[a]="function"!==typeof c?c:function(){function d(){return b.prototype[a].apply(this,arguments)}function e(c){return b.prototype[a].apply(this,
c)}return function(){var a=this._super,b=this._superApply;this._super=d;this._superApply=e;var f=c.apply(this,arguments);this._super=a;this._superApply=b;return f}}()});k.prototype=d.widget.extend(l,{widgetEventPrefix:h?l.widgetEventPrefix||a:a},e,{constructor:k,namespace:f,widgetName:a,widgetFullName:g});h?(d.each(h._childConstructors,function(a,b){a=b.prototype;d.widget(a.namespace+"."+a.widgetName,k,b._proto)}),delete h._childConstructors):b._childConstructors.push(k);d.widget.bridge(a,k);return k};
d.widget.extend=function(a){for(var b=C.call(arguments,1),c=0,e=b.length,f,g;c<e;c++)for(f in b[c])g=b[c][f],F.call(b[c],f)&&void 0!==g&&(d.isPlainObject(g)?a[f]=d.isPlainObject(a[f])?d.widget.extend({},a[f],g):d.widget.extend({},g):a[f]=g);return a};d.widget.bridge=function(a,b){var c=b.prototype.widgetFullName||a;d.fn[a]=function(e){var f="string"===typeof e,g=C.call(arguments,1),h=this;f?this.length||"instance"!==e?this.each(function(){var b=d.data(this,c);if("instance"===e)return h=b,!1;if(!b)return d.error("cannot call methods on "+
a+" prior to initialization; attempted to call method '"+e+"'");if("function"!==typeof b[e]||"_"===e.charAt(0))return d.error("no such method '"+e+"' for "+a+" widget instance");var f=b[e].apply(b,g);if(f!==b&&void 0!==f)return h=f&&f.jquery?h.pushStack(f.get()):f,!1}):h=void 0:(g.length&&(e=d.widget.extend.apply(null,[e].concat(g))),this.each(function(){var a=d.data(this,c);a?(a.option(e||{}),a._init&&a._init()):d.data(this,c,new b(e,this))}));return h}};d.Widget=function(){};d.Widget._childConstructors=
[];d.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(a,b){b=d(b||this.defaultElement||this)[0];this.element=d(b);this.uuid=E++;this.eventNamespace="."+this.widgetName+this.uuid;this.bindings=d();this.hoverable=d();this.focusable=d();this.classesElementLookup={};b!==this&&(d.data(b,this.widgetFullName,this),this._on(!0,this.element,{remove:function(a){a.target===b&&this.destroy()}}),this.document=
d(b.style?b.ownerDocument:b.document||b),this.window=d(this.document[0].defaultView||this.document[0].parentWindow));this.options=d.widget.extend({},this.options,this._getCreateOptions(),a);this._create();this.options.disabled&&this._setOptionDisabled(this.options.disabled);this._trigger("create",null,this._getCreateEventData());this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:d.noop,_create:d.noop,_init:d.noop,destroy:function(){var a=this;this._destroy();d.each(this.classesElementLookup,
function(b,c){a._removeClass(c,b)});this.element.off(this.eventNamespace).removeData(this.widgetFullName);this.widget().off(this.eventNamespace).removeAttr("aria-disabled");this.bindings.off(this.eventNamespace)},_destroy:d.noop,widget:function(){return this.element},option:function(a,b){var c=a,e;if(0===arguments.length)return d.widget.extend({},this.options);if("string"===typeof a){c={};var f=a.split(".");a=f.shift();if(f.length){var g=c[a]=d.widget.extend({},this.options[a]);for(e=0;e<f.length-
1;e++)g[f[e]]=g[f[e]]||{},g=g[f[e]];a=f.pop();if(1===arguments.length)return void 0===g[a]?null:g[a];g[a]=b}else{if(1===arguments.length)return void 0===this.options[a]?null:this.options[a];c[a]=b}}this._setOptions(c);return this},_setOptions:function(a){for(var b in a)this._setOption(b,a[b]);return this},_setOption:function(a,b){"classes"===a&&this._setOptionClasses(b);this.options[a]=b;"disabled"===a&&this._setOptionDisabled(b);return this},_setOptionClasses:function(a){var b;for(b in a){var c=
this.classesElementLookup[b];if(a[b]!==this.options.classes[b]&&c&&c.length){var e=d(c.get());this._removeClass(c,b);e.addClass(this._classes({element:e,keys:b,classes:a,add:!0}))}}},_setOptionDisabled:function(a){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!a);a&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},
_classes:function(a){function b(){var b=[];a.element.each(function(a,c){d.map(f.classesElementLookup,function(a){return a}).some(function(a){return a.is(c)})||b.push(c)});f._on(d(b),{remove:"_untrackClassesElement"})}function c(c,h){var g;for(g=0;g<c.length;g++){var l=f.classesElementLookup[c[g]]||d();a.add?(b(),l=d(d.uniqueSort(l.get().concat(a.element.get())))):l=d(l.not(a.element).get());f.classesElementLookup[c[g]]=l;e.push(c[g]);h&&a.classes[c[g]]&&e.push(a.classes[c[g]])}}var e=[],f=this;a=
d.extend({element:this.element,classes:this.options.classes||{}},a);a.keys&&c(a.keys.match(/\S+/g)||[],!0);a.extra&&c(a.extra.match(/\S+/g)||[]);return e.join(" ")},_untrackClassesElement:function(a){var b=this;d.each(b.classesElementLookup,function(c,e){-1!==d.inArray(a.target,e)&&(b.classesElementLookup[c]=d(e.not(a.target).get()))});this._off(d(a.target))},_removeClass:function(a,b,c){return this._toggleClass(a,b,c,!1)},_addClass:function(a,b,c){return this._toggleClass(a,b,c,!0)},_toggleClass:function(a,
b,c,d){d="boolean"===typeof d?d:c;var e="string"===typeof a||null===a;a={extra:e?b:c,keys:e?a:b,element:e?this.element:a,add:d};a.element.toggleClass(this._classes(a),d);return this},_on:function(a,b,c){var e,f=this;"boolean"!==typeof a&&(c=b,b=a,a=!1);c?(b=e=d(b),this.bindings=this.bindings.add(b)):(c=b,b=this.element,e=this.widget());d.each(c,function(c,h){function g(){if(a||!0!==f.options.disabled&&!d(this).hasClass("ui-state-disabled"))return("string"===typeof h?f[h]:h).apply(f,arguments)}"string"!==
typeof h&&(g.guid=h.guid=h.guid||g.guid||d.guid++);var l=c.match(/^([\w:-]*)\s*(.*)$/);c=l[1]+f.eventNamespace;if(l=l[2])e.on(c,l,g);else b.on(c,g)})},_off:function(a,b){b=(b||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace;a.off(b);this.bindings=d(this.bindings.not(a).get());this.focusable=d(this.focusable.not(a).get());this.hoverable=d(this.hoverable.not(a).get())},_delay:function(a,b){var c=this;return setTimeout(function(){return("string"===typeof a?c[a]:a).apply(c,arguments)},
b||0)},_hoverable:function(a){this.hoverable=this.hoverable.add(a);this._on(a,{mouseenter:function(a){this._addClass(d(a.currentTarget),null,"ui-state-hover")},mouseleave:function(a){this._removeClass(d(a.currentTarget),null,"ui-state-hover")}})},_focusable:function(a){this.focusable=this.focusable.add(a);this._on(a,{focusin:function(a){this._addClass(d(a.currentTarget),null,"ui-state-focus")},focusout:function(a){this._removeClass(d(a.currentTarget),null,"ui-state-focus")}})},_trigger:function(a,
b,c){var e,f=this.options[a];c=c||{};b=d.Event(b);b.type=(a===this.widgetEventPrefix?a:this.widgetEventPrefix+a).toLowerCase();b.target=this.element[0];if(a=b.originalEvent)for(e in a)e in b||(b[e]=a[e]);this.element.trigger(b,c);return!("function"===typeof f&&!1===f.apply(this.element[0],[b].concat(c))||b.isDefaultPrevented())}};d.each({show:"fadeIn",hide:"fadeOut"},function(a,b){d.Widget.prototype["_"+a]=function(c,e,f){"string"===typeof e&&(e={effect:e});var g=e?!0===e||"number"===typeof e?b:e.effect||
b:a;e=e||{};"number"===typeof e?e={duration:e}:!0===e&&(e={});var h=!d.isEmptyObject(e);e.complete=f;e.delay&&c.delay(e.delay);if(h&&d.effects&&d.effects.effect[g])c[a](e);else if(g!==a&&c[g])c[g](e.duration,e.easing,f);else c.queue(function(b){d(this)[a]();f&&f.call(c[0]);b()})}});(function(){function a(a,b,c){return[parseFloat(a[0])*(m.test(a[0])?b/100:1),parseFloat(a[1])*(m.test(a[1])?c/100:1)]}function b(a){var b=a[0];return 9===b.nodeType?{width:a.width(),height:a.height(),offset:{top:0,left:0}}:
null!=b&&b===b.window?{width:a.width(),height:a.height(),offset:{top:a.scrollTop(),left:a.scrollLeft()}}:b.preventDefault?{width:0,height:0,offset:{top:b.pageY,left:b.pageX}}:{width:a.outerWidth(),height:a.outerHeight(),offset:a.offset()}}var c,e=Math.max,f=Math.abs,g=/left|center|right/,h=/top|center|bottom/,k=/[\+\-]\d+(\.[\d]+)?%?/,l=/^\w+/,m=/%$/,n=d.fn.position;d.position={scrollbarWidth:function(){if(void 0!==c)return c;var a=d("<div style='display:block;position:absolute;width:200px;height:200px;overflow:hidden;'><div style='height:300px;width:auto;'></div></div>");
var b=a.children()[0];d("body").append(a);var e=b.offsetWidth;a.css("overflow","scroll");b=b.offsetWidth;e===b&&(b=a[0].clientWidth);a.remove();return c=e-b},getScrollInfo:function(a){var b=a.isWindow||a.isDocument?"":a.element.css("overflow-x"),c=a.isWindow||a.isDocument?"":a.element.css("overflow-y");b="scroll"===b||"auto"===b&&a.width<a.element[0].scrollWidth;return{width:"scroll"===c||"auto"===c&&a.height<a.element[0].scrollHeight?d.position.scrollbarWidth():0,height:b?d.position.scrollbarWidth():
0}},getWithinInfo:function(a){var b=d(a||window);var c=b[0];c=null!=c&&c===c.window;var e=!!b[0]&&9===b[0].nodeType;return{element:b,isWindow:c,isDocument:e,offset:c||e?{left:0,top:0}:d(a).offset(),scrollLeft:b.scrollLeft(),scrollTop:b.scrollTop(),width:b.outerWidth(),height:b.outerHeight()}}};d.fn.position=function(c){if(!c||!c.of)return n.apply(this,arguments);c=d.extend({},c);var v="string"===typeof c.of?d(document).find(c.of):d(c.of),m=d.position.getWithinInfo(c.within),p=d.position.getScrollInfo(m),
r=(c.collision||"flip").split(" "),t={};var w=b(v);v[0].preventDefault&&(c.at="left top");var x=w.width;var A=w.height;var B=w.offset;var u=d.extend({},B);d.each(["my","at"],function(){var a=(c[this]||"").split(" ");1===a.length&&(a=g.test(a[0])?a.concat(["center"]):h.test(a[0])?["center"].concat(a):["center","center"]);a[0]=g.test(a[0])?a[0]:"center";a[1]=h.test(a[1])?a[1]:"center";var b=k.exec(a[0]);var d=k.exec(a[1]);t[this]=[b?b[0]:0,d?d[0]:0];c[this]=[l.exec(a[0])[0],l.exec(a[1])[0]]});1===r.length&&
(r[1]=r[0]);"right"===c.at[0]?u.left+=x:"center"===c.at[0]&&(u.left+=x/2);"bottom"===c.at[1]?u.top+=A:"center"===c.at[1]&&(u.top+=A/2);var z=a(t.at,x,A);u.left+=z[0];u.top+=z[1];return this.each(function(){var b,g=d(this),h=g.outerWidth(),k=g.outerHeight(),l=parseInt(d.css(this,"marginLeft"),10)||0,y=parseInt(d.css(this,"marginTop"),10)||0,n=h+l+(parseInt(d.css(this,"marginRight"),10)||0)+p.width,w=k+y+(parseInt(d.css(this,"marginBottom"),10)||0)+p.height,q=d.extend({},u),D=a(t.my,g.outerWidth(),
g.outerHeight());"right"===c.my[0]?q.left-=h:"center"===c.my[0]&&(q.left-=h/2);"bottom"===c.my[1]?q.top-=k:"center"===c.my[1]&&(q.top-=k/2);q.left+=D[0];q.top+=D[1];var C={marginLeft:l,marginTop:y};d.each(["left","top"],function(a,b){if(d.ui.position[r[a]])d.ui.position[r[a]][b](q,{targetWidth:x,targetHeight:A,elemWidth:h,elemHeight:k,collisionPosition:C,collisionWidth:n,collisionHeight:w,offset:[z[0]+D[0],z[1]+D[1]],my:c.my,at:c.at,within:m,elem:g})});c.using&&(b=function(a){var b=B.left-q.left,
d=b+x-h,l=B.top-q.top,m=l+A-k,p={target:{element:v,left:B.left,top:B.top,width:x,height:A},element:{element:g,left:q.left,top:q.top,width:h,height:k},horizontal:0>d?"left":0<b?"right":"center",vertical:0>m?"top":0<l?"bottom":"middle"};x<h&&f(b+d)<x&&(p.horizontal="center");A<k&&f(l+m)<A&&(p.vertical="middle");e(f(b),f(d))>e(f(l),f(m))?p.important="horizontal":p.important="vertical";c.using.call(this,a,p)});g.offset(d.extend(q,{using:b}))})};d.ui.position={fit:{left:function(a,b){var c=b.within,d=
c.isWindow?c.scrollLeft:c.offset.left,f=c.width,g=a.left-b.collisionPosition.marginLeft;c=d-g;var h=g+b.collisionWidth-f-d;b.collisionWidth>f?0<c&&0>=h?(b=a.left+c+b.collisionWidth-f-d,a.left+=c-b):a.left=0<h&&0>=c?d:c>h?d+f-b.collisionWidth:d:a.left=0<c?a.left+c:0<h?a.left-h:e(a.left-g,a.left)},top:function(a,b){var c=b.within,d=c.isWindow?c.scrollTop:c.offset.top,f=b.within.height,g=a.top-b.collisionPosition.marginTop;c=d-g;var h=g+b.collisionHeight-f-d;b.collisionHeight>f?0<c&&0>=h?(b=a.top+c+
b.collisionHeight-f-d,a.top+=c-b):a.top=0<h&&0>=c?d:c>h?d+f-b.collisionHeight:d:a.top=0<c?a.top+c:0<h?a.top-h:e(a.top-g,a.top)}},flip:{left:function(a,b){var c=b.within,d=c.offset.left+c.scrollLeft,e=c.width,g=c.isWindow?c.scrollLeft:c.offset.left,h=a.left-b.collisionPosition.marginLeft;c=h-g;var k=h+b.collisionWidth-e-g;h="left"===b.my[0]?-b.elemWidth:"right"===b.my[0]?b.elemWidth:0;var l="left"===b.at[0]?b.targetWidth:"right"===b.at[0]?-b.targetWidth:0,m=-2*b.offset[0];if(0>c){if(b=a.left+h+l+m+
b.collisionWidth-e-d,0>b||b<f(c))a.left+=h+l+m}else 0<k&&(b=a.left-b.collisionPosition.marginLeft+h+l+m-g,0<b||f(b)<k)&&(a.left+=h+l+m)},top:function(a,b){var c=b.within,d=c.offset.top+c.scrollTop,e=c.height,g=c.isWindow?c.scrollTop:c.offset.top,h=a.top-b.collisionPosition.marginTop;c=h-g;var k=h+b.collisionHeight-e-g;h="top"===b.my[1]?-b.elemHeight:"bottom"===b.my[1]?b.elemHeight:0;var l="top"===b.at[1]?b.targetHeight:"bottom"===b.at[1]?-b.targetHeight:0,m=-2*b.offset[1];if(0>c){if(b=a.top+h+l+m+
b.collisionHeight-e-d,0>b||b<f(c))a.top+=h+l+m}else 0<k&&(b=a.top-b.collisionPosition.marginTop+h+l+m-g,0<b||f(b)<k)&&(a.top+=h+l+m)}},flipfit:{left:function(){d.ui.position.flip.left.apply(this,arguments);d.ui.position.fit.left.apply(this,arguments)},top:function(){d.ui.position.flip.top.apply(this,arguments);d.ui.position.fit.top.apply(this,arguments)}}}})();d.extend(d.expr.pseudos,{data:d.expr.createPseudo?d.expr.createPseudo(function(a){return function(b){return!!d.data(b,a)}}):function(a,b,c){return!!d.data(a,
c[3])}});d.fn.extend({disableSelection:function(){var a="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.on(a+".ui-disableSelection",function(a){a.preventDefault()})}}(),enableSelection:function(){return this.off(".ui-disableSelection")}});d.ui.focusable=function(a,b){var c=a.nodeName.toLowerCase();if("area"===c){b=a.parentNode;c=b.name;if(!a.href||!c||"map"!==b.nodeName.toLowerCase())return!1;a=d("img[usemap='#"+c+"']");return 0<a.length&&a.is(":visible")}/^(input|select|textarea|button|object)$/.test(c)?
(b=!a.disabled)&&(c=d(a).closest("fieldset")[0])&&(b=!c.disabled):b="a"===c?a.href||b:b;if(b=b&&d(a).is(":visible")){a=d(a);for(b=a.css("visibility");"inherit"===b;)a=a.parent(),b=a.css("visibility");b="visible"===b}return b};d.extend(d.expr.pseudos,{focusable:function(a){return d.ui.focusable(a,null!=d.attr(a,"tabindex"))}});d.fn._form=function(){return"string"===typeof this[0].form?this.closest("form"):d(this[0].form)};d.ui.formResetMixin={_formResetHandler:function(){var a=d(this);setTimeout(function(){var b=
a.data("ui-form-reset-instances");d.each(b,function(){this.refresh()})})},_bindFormResetHandler:function(){this.form=this.element._form();if(this.form.length){var a=this.form.data("ui-form-reset-instances")||[];if(!a.length)this.form.on("reset.ui-form-reset",this._formResetHandler);a.push(this);this.form.data("ui-form-reset-instances",a)}},_unbindFormResetHandler:function(){if(this.form.length){var a=this.form.data("ui-form-reset-instances");a.splice(d.inArray(this,a),1);a.length?this.form.data("ui-form-reset-instances",
a):this.form.removeData("ui-form-reset-instances").off("reset.ui-form-reset")}}};d.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38};d.fn.labels=function(){var a;if(!this.length)return this.pushStack([]);if(this[0].labels&&this[0].labels.length)return this.pushStack(this[0].labels);var b=this.eq(0).parents("label");if(a=this.attr("id")){var c=this.eq(0).parents().last();c=c.add(c.length?c.siblings():
this.siblings());a="label[for='"+d.escapeSelector(a)+"']";b=b.add(c.find(a).addBack(a))}return this.pushStack(b)};d.fn.scrollParent=function(a){var b=this.css("position"),c="absolute"===b,e=a?/(auto|scroll|hidden)/:/(auto|scroll)/;a=this.parents().filter(function(){var a=d(this);return c&&"static"===a.css("position")?!1:e.test(a.css("overflow")+a.css("overflow-y")+a.css("overflow-x"))}).eq(0);return"fixed"!==b&&a.length?a:d(this[0].ownerDocument||document)};d.extend(d.expr.pseudos,{tabbable:function(a){var b=
d.attr(a,"tabindex"),c=null!=b;return(!c||0<=b)&&d.ui.focusable(a,c)}});d.fn.extend({uniqueId:function(){var a=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++a)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&d(this).removeAttr("id")})}});d.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());var z=!1;d(document).on("mouseup",function(){z=!1});d.widget("ui.mouse",{version:"1.13.2",options:{cancel:"input, textarea, button, select, option",
distance:1,delay:0},_mouseInit:function(){var a=this;this.element.on("mousedown."+this.widgetName,function(b){return a._mouseDown(b)}).on("click."+this.widgetName,function(b){if(!0===d.data(b.target,a.widgetName+".preventClickEvent"))return d.removeData(b.target,a.widgetName+".preventClickEvent"),b.stopImmediatePropagation(),!1});this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName);this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+
this.widgetName,this._mouseUpDelegate)},_mouseDown:function(a){if(!z){this._mouseMoved=!1;this._mouseStarted&&this._mouseUp(a);this._mouseDownEvent=a;var b=this,c=1===a.which,e="string"===typeof this.options.cancel&&a.target.nodeName?d(a.target).closest(this.options.cancel).length:!1;if(!c||e||!this._mouseCapture(a))return!0;this.mouseDelayMet=!this.options.delay;this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){b.mouseDelayMet=!0},this.options.delay));if(this._mouseDistanceMet(a)&&
this._mouseDelayMet(a)&&(this._mouseStarted=!1!==this._mouseStart(a),!this._mouseStarted))return a.preventDefault(),!0;!0===d.data(a.target,this.widgetName+".preventClickEvent")&&d.removeData(a.target,this.widgetName+".preventClickEvent");this._mouseMoveDelegate=function(a){return b._mouseMove(a)};this._mouseUpDelegate=function(a){return b._mouseUp(a)};this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate);a.preventDefault();return z=
!0}},_mouseMove:function(a){if(this._mouseMoved){if(d.ui.ie&&(!document.documentMode||9>document.documentMode)&&!a.button)return this._mouseUp(a);if(!a.which)if(a.originalEvent.altKey||a.originalEvent.ctrlKey||a.originalEvent.metaKey||a.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(a)}if(a.which||a.button)this._mouseMoved=!0;if(this._mouseStarted)return this._mouseDrag(a),a.preventDefault();this._mouseDistanceMet(a)&&this._mouseDelayMet(a)&&
((this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,a))?this._mouseDrag(a):this._mouseUp(a));return!this._mouseStarted},_mouseUp:function(a){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate);this._mouseStarted&&(this._mouseStarted=!1,a.target===this._mouseDownEvent.target&&d.data(a.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(a));this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer);
z=this.ignoreMissingWhich=!1;a.preventDefault()},_mouseDistanceMet:function(a){return Math.max(Math.abs(this._mouseDownEvent.pageX-a.pageX),Math.abs(this._mouseDownEvent.pageY-a.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}});d.ui.plugin={add:function(a,b,c){var e;a=d.ui[a].prototype;for(e in c)a.plugins[e]=a.plugins[e]||[],a.plugins[e].push([b,c[e]])},
call:function(a,b,c,d){if((b=a.plugins[b])&&(d||a.element[0].parentNode&&11!==a.element[0].parentNode.nodeType))for(d=0;d<b.length;d++)a.options[b[d][0]]&&b[d][1].apply(a.element,c)}};d.ui.safeActiveElement=function(a){try{var b=a.activeElement}catch(c){b=a.body}b||(b=a.body);b.nodeName||(b=a.body);return b};d.ui.safeBlur=function(a){a&&"body"!==a.nodeName.toLowerCase()&&d(a).trigger("blur")};d.widget("ui.draggable",d.ui.mouse,{version:"1.13.2",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",
axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative();this.options.addClasses&&this._addClass("ui-draggable");this._setHandleClassName();this._mouseInit()},
_setOption:function(a,b){this._super(a,b);"handle"===a&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){(this.helper||this.element).is(".ui-draggable-dragging")?this.destroyOnClear=!0:(this._removeHandleClassName(),this._mouseDestroy())},_mouseCapture:function(a){var b=this.options;if(this.helper||b.disabled||0<d(a.target).closest(".ui-resizable-handle").length)return!1;this.handle=this._getHandle(a);if(!this.handle)return!1;this._blurActiveElement(a);this._blockFrames(!0===
b.iframeFix?"iframe":b.iframeFix);return!0},_blockFrames:function(a){this.iframeBlocks=this.document.find(a).map(function(){var a=d(this);return d("<div>").css("position","absolute").appendTo(a.parent()).outerWidth(a.outerWidth()).outerHeight(a.outerHeight()).offset(a.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(a){var b=d.ui.safeActiveElement(this.document[0]);d(a.target).closest(b).length||d.ui.safeBlur(b)},
_mouseStart:function(a){var b=this.options;this.helper=this._createHelper(a);this._addClass(this.helper,"ui-draggable-dragging");this._cacheHelperProportions();d.ui.ddmanager&&(d.ui.ddmanager.current=this);this._cacheMargins();this.cssPosition=this.helper.css("position");this.scrollParent=this.helper.scrollParent(!0);this.offsetParent=this.helper.offsetParent();this.hasFixedAncestor=0<this.helper.parents().filter(function(){return"fixed"===d(this).css("position")}).length;this.positionAbs=this.element.offset();
this._refreshOffsets(a);this.originalPosition=this.position=this._generatePosition(a,!1);this.originalPageX=a.pageX;this.originalPageY=a.pageY;b.cursorAt&&this._adjustOffsetFromHelper(b.cursorAt);this._setContainment();if(!1===this._trigger("start",a))return this._clear(),!1;this._cacheHelperProportions();d.ui.ddmanager&&!b.dropBehaviour&&d.ui.ddmanager.prepareOffsets(this,a);this._mouseDrag(a,!0);d.ui.ddmanager&&d.ui.ddmanager.dragStart(this,a);return!0},_refreshOffsets:function(a){this.offset={top:this.positionAbs.top-
this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()};this.offset.click={left:a.pageX-this.offset.left,top:a.pageY-this.offset.top}},_mouseDrag:function(a,b){this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset());this.position=this._generatePosition(a,!0);this.positionAbs=this._convertPositionTo("absolute");if(!b){b=this._uiHash();if(!1===this._trigger("drag",a,b))return this._mouseUp(new d.Event("mouseup",
a)),!1;this.position=b.position}this.helper[0].style.left=this.position.left+"px";this.helper[0].style.top=this.position.top+"px";d.ui.ddmanager&&d.ui.ddmanager.drag(this,a);return!1},_mouseStop:function(a){var b=this,c=!1;d.ui.ddmanager&&!this.options.dropBehaviour&&(c=d.ui.ddmanager.drop(this,a));this.dropped&&(c=this.dropped,this.dropped=!1);"invalid"===this.options.revert&&!c||"valid"===this.options.revert&&c||!0===this.options.revert||"function"===typeof this.options.revert&&this.options.revert.call(this.element,
c)?d(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==b._trigger("stop",a)&&b._clear()}):!1!==this._trigger("stop",a)&&this._clear();return!1},_mouseUp:function(a){this._unblockFrames();d.ui.ddmanager&&d.ui.ddmanager.dragStop(this,a);this.handleElement.is(a.target)&&this.element.trigger("focus");return d.ui.mouse.prototype._mouseUp.call(this,a)},cancel:function(){this.helper.is(".ui-draggable-dragging")?this._mouseUp(new d.Event("mouseup",{target:this.element[0]})):
this._clear();return this},_getHandle:function(a){return this.options.handle?!!d(a.target).closest(this.element.find(this.options.handle)).length:!0},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element;this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(a){var b=this.options,c="function"===typeof b.helper;
a=c?d(b.helper.apply(this.element[0],[a])):"clone"===b.helper?this.element.clone().removeAttr("id"):this.element;a.parents("body").length||a.appendTo("parent"===b.appendTo?this.element[0].parentNode:b.appendTo);c&&a[0]===this.element[0]&&this._setPositionRelative();a[0]===this.element[0]||/(fixed|absolute)/.test(a.css("position"))||a.css("position","absolute");return a},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(a){"string"===
typeof a&&(a=a.split(" "));Array.isArray(a)&&(a={left:+a[0],top:+a[1]||0});"left"in a&&(this.offset.click.left=a.left+this.margins.left);"right"in a&&(this.offset.click.left=this.helperProportions.width-a.right+this.margins.left);"top"in a&&(this.offset.click.top=a.top+this.margins.top);"bottom"in a&&(this.offset.click.top=this.helperProportions.height-a.bottom+this.margins.top)},_isRootNode:function(a){return/(html|body)/i.test(a.tagName)||a===this.document[0]},_getParentOffset:function(){var a=
this.offsetParent.offset(),b=this.document[0];"absolute"===this.cssPosition&&this.scrollParent[0]!==b&&d.contains(this.scrollParent[0],this.offsetParent[0])&&(a.left+=this.scrollParent.scrollLeft(),a.top+=this.scrollParent.scrollTop());this._isRootNode(this.offsetParent[0])&&(a={top:0,left:0});return{top:a.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:a.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,
left:0};var a=this.element.position(),b=this._isRootNode(this.scrollParent[0]);return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+(b?0:this.scrollParent.scrollTop()),left:a.left-(parseInt(this.helper.css("left"),10)||0)+(b?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),
10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var a;var b=this.options;var c=this.document[0];this.relativeContainer=null;if(b.containment)if("window"===b.containment)this.containment=[d(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,d(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,d(window).scrollLeft()+d(window).width()-this.helperProportions.width-
this.margins.left,d(window).scrollTop()+(d(window).height()||c.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];else if("document"===b.containment)this.containment=[0,0,d(c).width()-this.helperProportions.width-this.margins.left,(d(c).height()||c.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];else if(b.containment.constructor===Array)this.containment=b.containment;else{if("parent"===b.containment&&(b.containment=this.helper[0].parentNode),
c=d(b.containment),a=c[0])b=/(scroll|auto)/.test(c.css("overflow")),this.containment=[(parseInt(c.css("borderLeftWidth"),10)||0)+(parseInt(c.css("paddingLeft"),10)||0),(parseInt(c.css("borderTopWidth"),10)||0)+(parseInt(c.css("paddingTop"),10)||0),(b?Math.max(a.scrollWidth,a.offsetWidth):a.offsetWidth)-(parseInt(c.css("borderRightWidth"),10)||0)-(parseInt(c.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(b?Math.max(a.scrollHeight,a.offsetHeight):a.offsetHeight)-
(parseInt(c.css("borderBottomWidth"),10)||0)-(parseInt(c.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=c}else this.containment=null},_convertPositionTo:function(a,b){b||(b=this.position);a="absolute"===a?1:-1;var c=this._isRootNode(this.scrollParent[0]);return{top:b.top+this.offset.relative.top*a+this.offset.parent.top*a-("fixed"===this.cssPosition?-this.offset.scroll.top:c?0:this.offset.scroll.top)*a,left:b.left+this.offset.relative.left*
a+this.offset.parent.left*a-("fixed"===this.cssPosition?-this.offset.scroll.left:c?0:this.offset.scroll.left)*a}},_generatePosition:function(a,b){var c=this.options,d=this._isRootNode(this.scrollParent[0]);var f=a.pageX;var g=a.pageY;d&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()});if(b){if(this.containment){if(this.relativeContainer){var h=this.relativeContainer.offset();h=[this.containment[0]+h.left,this.containment[1]+h.top,this.containment[2]+
h.left,this.containment[3]+h.top]}else h=this.containment;a.pageX-this.offset.click.left<h[0]&&(f=h[0]+this.offset.click.left);a.pageY-this.offset.click.top<h[1]&&(g=h[1]+this.offset.click.top);a.pageX-this.offset.click.left>h[2]&&(f=h[2]+this.offset.click.left);a.pageY-this.offset.click.top>h[3]&&(g=h[3]+this.offset.click.top)}c.grid&&(g=c.grid[1]?this.originalPageY+Math.round((g-this.originalPageY)/c.grid[1])*c.grid[1]:this.originalPageY,g=h?g-this.offset.click.top>=h[1]||g-this.offset.click.top>
h[3]?g:g-this.offset.click.top>=h[1]?g-c.grid[1]:g+c.grid[1]:g,f=c.grid[0]?this.originalPageX+Math.round((f-this.originalPageX)/c.grid[0])*c.grid[0]:this.originalPageX,f=h?f-this.offset.click.left>=h[0]||f-this.offset.click.left>h[2]?f:f-this.offset.click.left>=h[0]?f-c.grid[0]:f+c.grid[0]:f);"y"===c.axis&&(f=this.originalPageX);"x"===c.axis&&(g=this.originalPageY)}return{top:g-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:
d?0:this.offset.scroll.top),left:f-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:d?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging");this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove();this.helper=null;this.cancelHelperRemoval=!1;this.destroyOnClear&&this.destroy()},_trigger:function(a,b,c){c=c||this._uiHash();d.ui.plugin.call(this,a,[b,c,
this],!0);/^(drag|start|stop)/.test(a)&&(this.positionAbs=this._convertPositionTo("absolute"),c.offset=this.positionAbs);return d.Widget.prototype._trigger.call(this,a,b,c)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}});d.ui.plugin.add("draggable","connectToSortable",{start:function(a,b,c){var e=d.extend({},b,{item:c.element});c.sortables=[];d(c.options.connectToSortable).each(function(){var b=d(this).sortable("instance");
b&&!b.options.disabled&&(c.sortables.push(b),b.refreshPositions(),b._trigger("activate",a,e))})},stop:function(a,b,c){var e=d.extend({},b,{item:c.element});c.cancelHelperRemoval=!1;d.each(c.sortables,function(){this.isOver?(this.isOver=0,c.cancelHelperRemoval=!0,this.cancelHelperRemoval=!1,this._storedCSS={position:this.placeholder.css("position"),top:this.placeholder.css("top"),left:this.placeholder.css("left")},this._mouseStop(a),this.options.helper=this.options._helper):(this.cancelHelperRemoval=
!0,this._trigger("deactivate",a,e))})},drag:function(a,b,c){d.each(c.sortables,function(){var e=!1,f=this;f.positionAbs=c.positionAbs;f.helperProportions=c.helperProportions;f.offset.click=c.offset.click;f._intersectsWith(f.containerCache)&&(e=!0,d.each(c.sortables,function(){this.positionAbs=c.positionAbs;this.helperProportions=c.helperProportions;this.offset.click=c.offset.click;this!==f&&this._intersectsWith(this.containerCache)&&d.contains(f.element[0],this.element[0])&&(e=!1);return e}));e?(f.isOver||
(f.isOver=1,c._parent=b.helper.parent(),f.currentItem=b.helper.appendTo(f.element).data("ui-sortable-item",!0),f.options._helper=f.options.helper,f.options.helper=function(){return b.helper[0]},a.target=f.currentItem[0],f._mouseCapture(a,!0),f._mouseStart(a,!0,!0),f.offset.click.top=c.offset.click.top,f.offset.click.left=c.offset.click.left,f.offset.parent.left-=c.offset.parent.left-f.offset.parent.left,f.offset.parent.top-=c.offset.parent.top-f.offset.parent.top,c._trigger("toSortable",a),c.dropped=
f.element,d.each(c.sortables,function(){this.refreshPositions()}),c.currentItem=c.element,f.fromOutside=c),f.currentItem&&(f._mouseDrag(a),b.position=f.position)):f.isOver&&(f.isOver=0,f.cancelHelperRemoval=!0,f.options._revert=f.options.revert,f.options.revert=!1,f._trigger("out",a,f._uiHash(f)),f._mouseStop(a,!0),f.options.revert=f.options._revert,f.options.helper=f.options._helper,f.placeholder&&f.placeholder.remove(),b.helper.appendTo(c._parent),c._refreshOffsets(a),b.position=c._generatePosition(a,
!0),c._trigger("fromSortable",a),c.dropped=!1,d.each(c.sortables,function(){this.refreshPositions()}))})}});d.ui.plugin.add("draggable","cursor",{start:function(a,b,c){a=d("body");c=c.options;a.css("cursor")&&(c._cursor=a.css("cursor"));a.css("cursor",c.cursor)},stop:function(a,b,c){a=c.options;a._cursor&&d("body").css("cursor",a._cursor)}});d.ui.plugin.add("draggable","opacity",{start:function(a,b,c){a=d(b.helper);c=c.options;a.css("opacity")&&(c._opacity=a.css("opacity"));a.css("opacity",c.opacity)},
stop:function(a,b,c){a=c.options;a._opacity&&d(b.helper).css("opacity",a._opacity)}});d.ui.plugin.add("draggable","scroll",{start:function(a,b,c){c.scrollParentNotHidden||(c.scrollParentNotHidden=c.helper.scrollParent(!1));c.scrollParentNotHidden[0]!==c.document[0]&&"HTML"!==c.scrollParentNotHidden[0].tagName&&(c.overflowOffset=c.scrollParentNotHidden.offset())},drag:function(a,b,c){b=c.options;var e=!1,f=c.scrollParentNotHidden[0],g=c.document[0];f!==g&&"HTML"!==f.tagName?(b.axis&&"x"===b.axis||
(c.overflowOffset.top+f.offsetHeight-a.pageY<b.scrollSensitivity?f.scrollTop=e=f.scrollTop+b.scrollSpeed:a.pageY-c.overflowOffset.top<b.scrollSensitivity&&(f.scrollTop=e=f.scrollTop-b.scrollSpeed)),b.axis&&"y"===b.axis||(c.overflowOffset.left+f.offsetWidth-a.pageX<b.scrollSensitivity?f.scrollLeft=e=f.scrollLeft+b.scrollSpeed:a.pageX-c.overflowOffset.left<b.scrollSensitivity&&(f.scrollLeft=e=f.scrollLeft-b.scrollSpeed))):(b.axis&&"x"===b.axis||(a.pageY-d(g).scrollTop()<b.scrollSensitivity?e=d(g).scrollTop(d(g).scrollTop()-
b.scrollSpeed):d(window).height()-(a.pageY-d(g).scrollTop())<b.scrollSensitivity&&(e=d(g).scrollTop(d(g).scrollTop()+b.scrollSpeed))),b.axis&&"y"===b.axis||(a.pageX-d(g).scrollLeft()<b.scrollSensitivity?e=d(g).scrollLeft(d(g).scrollLeft()-b.scrollSpeed):d(window).width()-(a.pageX-d(g).scrollLeft())<b.scrollSensitivity&&(e=d(g).scrollLeft(d(g).scrollLeft()+b.scrollSpeed))));!1!==e&&d.ui.ddmanager&&!b.dropBehaviour&&d.ui.ddmanager.prepareOffsets(c,a)}});d.ui.plugin.add("draggable","snap",{start:function(a,
b,c){a=c.options;c.snapElements=[];d(a.snap.constructor!==String?a.snap.items||":data(ui-draggable)":a.snap).each(function(){var a=d(this),b=a.offset();this!==c.element[0]&&c.snapElements.push({item:this,width:a.outerWidth(),height:a.outerHeight(),top:b.top,left:b.left})})},drag:function(a,b,c){var e,f=c.options,g=f.snapTolerance,h=b.offset.left,k=h+c.helperProportions.width,l=b.offset.top,m=l+c.helperProportions.height;for(e=c.snapElements.length-1;0<=e;e--){var n=c.snapElements[e].left-c.margins.left;
var p=n+c.snapElements[e].width;var v=c.snapElements[e].top-c.margins.top;var y=v+c.snapElements[e].height;if(k<n-g||h>p+g||m<v-g||l>y+g||!d.contains(c.snapElements[e].item.ownerDocument,c.snapElements[e].item))c.snapElements[e].snapping&&c.options.snap.release&&c.options.snap.release.call(c.element,a,d.extend(c._uiHash(),{snapItem:c.snapElements[e].item})),c.snapElements[e].snapping=!1;else{if("inner"!==f.snapMode){var q=Math.abs(v-m)<=g;var r=Math.abs(y-l)<=g;var t=Math.abs(n-k)<=g;var w=Math.abs(p-
h)<=g;q&&(b.position.top=c._convertPositionTo("relative",{top:v-c.helperProportions.height,left:0}).top);r&&(b.position.top=c._convertPositionTo("relative",{top:y,left:0}).top);t&&(b.position.left=c._convertPositionTo("relative",{top:0,left:n-c.helperProportions.width}).left);w&&(b.position.left=c._convertPositionTo("relative",{top:0,left:p}).left)}var x=q||r||t||w;"outer"!==f.snapMode&&(q=Math.abs(v-l)<=g,r=Math.abs(y-m)<=g,t=Math.abs(n-h)<=g,w=Math.abs(p-k)<=g,q&&(b.position.top=c._convertPositionTo("relative",
{top:v,left:0}).top),r&&(b.position.top=c._convertPositionTo("relative",{top:y-c.helperProportions.height,left:0}).top),t&&(b.position.left=c._convertPositionTo("relative",{top:0,left:n}).left),w&&(b.position.left=c._convertPositionTo("relative",{top:0,left:p-c.helperProportions.width}).left));!c.snapElements[e].snapping&&(q||r||t||w||x)&&c.options.snap.snap&&c.options.snap.snap.call(c.element,a,d.extend(c._uiHash(),{snapItem:c.snapElements[e].item}));c.snapElements[e].snapping=q||r||t||w||x}}}});
d.ui.plugin.add("draggable","stack",{start:function(a,b,c){a=d.makeArray(d(c.options.stack)).sort(function(a,b){return(parseInt(d(a).css("zIndex"),10)||0)-(parseInt(d(b).css("zIndex"),10)||0)});if(a.length){var e=parseInt(d(a[0]).css("zIndex"),10)||0;d(a).each(function(a){d(this).css("zIndex",e+a)});this.css("zIndex",e+a.length)}}});d.ui.plugin.add("draggable","zIndex",{start:function(a,b,c){a=d(b.helper);c=c.options;a.css("zIndex")&&(c._zIndex=a.css("zIndex"));a.css("zIndex",c.zIndex)},stop:function(a,
b,c){a=c.options;a._zIndex&&d(b.helper).css("zIndex",a._zIndex)}});d.widget("ui.droppable",{version:"1.13.2",widgetEventPrefix:"drop",options:{accept:"*",addClasses:!0,greedy:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var a,b=this.options,c=b.accept;this.isover=!1;this.isout=!0;this.accept="function"===typeof c?c:function(a){return a.is(c)};this.proportions=function(){if(arguments.length)a=arguments[0];else return a?a:a=
{width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}};this._addToManager(b.scope);b.addClasses&&this._addClass("ui-droppable")},_addToManager:function(a){d.ui.ddmanager.droppables[a]=d.ui.ddmanager.droppables[a]||[];d.ui.ddmanager.droppables[a].push(this)},_splice:function(a){for(var b=0;b<a.length;b++)a[b]===this&&a.splice(b,1)},_destroy:function(){this._splice(d.ui.ddmanager.droppables[this.options.scope])},_setOption:function(a,b){"accept"===a?this.accept="function"===typeof b?
b:function(a){return a.is(b)}:"scope"===a&&(this._splice(d.ui.ddmanager.droppables[this.options.scope]),this._addToManager(b));this._super(a,b)},_activate:function(a){var b=d.ui.ddmanager.current;this._addActiveClass();b&&this._trigger("activate",a,this.ui(b))},_deactivate:function(a){var b=d.ui.ddmanager.current;this._removeActiveClass();b&&this._trigger("deactivate",a,this.ui(b))},_over:function(a){var b=d.ui.ddmanager.current;b&&(b.currentItem||b.element)[0]!==this.element[0]&&this.accept.call(this.element[0],
b.currentItem||b.element)&&(this._addHoverClass(),this._trigger("over",a,this.ui(b)))},_out:function(a){var b=d.ui.ddmanager.current;b&&(b.currentItem||b.element)[0]!==this.element[0]&&this.accept.call(this.element[0],b.currentItem||b.element)&&(this._removeHoverClass(),this._trigger("out",a,this.ui(b)))},_drop:function(a,b){var c=b||d.ui.ddmanager.current,e=!1;if(!c||(c.currentItem||c.element)[0]===this.element[0])return!1;this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var b=
d(this).droppable("instance");if(b.options.greedy&&!b.options.disabled&&b.options.scope===c.options.scope&&b.accept.call(b.element[0],c.currentItem||c.element)&&d.ui.intersect(c,d.extend(b,{offset:b.element.offset()}),b.options.tolerance,a))return e=!0,!1});return e?!1:this.accept.call(this.element[0],c.currentItem||c.element)?(this._removeActiveClass(),this._removeHoverClass(),this._trigger("drop",a,this.ui(c)),this.element):!1},ui:function(a){return{draggable:a.currentItem||a.element,helper:a.helper,
position:a.position,offset:a.positionAbs}},_addHoverClass:function(){this._addClass("ui-droppable-hover")},_removeHoverClass:function(){this._removeClass("ui-droppable-hover")},_addActiveClass:function(){this._addClass("ui-droppable-active")},_removeActiveClass:function(){this._removeClass("ui-droppable-active")}});d.ui.intersect=function(){return function(a,b,c,d){if(!b.offset)return!1;var e=(a.positionAbs||a.position.absolute).left+a.margins.left,g=(a.positionAbs||a.position.absolute).top+a.margins.top,
h=e+a.helperProportions.width,k=g+a.helperProportions.height,l=b.offset.left,m=b.offset.top,n=l+b.proportions().width,p=m+b.proportions().height;switch(c){case "fit":return l<=e&&h<=n&&m<=g&&k<=p;case "intersect":return l<e+a.helperProportions.width/2&&h-a.helperProportions.width/2<n&&m<g+a.helperProportions.height/2&&k-a.helperProportions.height/2<p;case "pointer":a=d.pageY;c=b.proportions().height;if(m=a>=m&&a<m+c)d=d.pageX,b=b.proportions().width,m=d>=l&&d<l+b;return m;case "touch":return(g>=m&&
g<=p||k>=m&&k<=p||g<m&&k>p)&&(e>=l&&e<=n||h>=l&&h<=n||e<l&&h>n);default:return!1}}}();d.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(a,b){var c,e=d.ui.ddmanager.droppables[a.options.scope]||[],f=b?b.type:null,g=(a.currentItem||a.element).find(":data(ui-droppable)").addBack();var h=0;a:for(;h<e.length;h++)if(!(e[h].options.disabled||a&&!e[h].accept.call(e[h].element[0],a.currentItem||a.element))){for(c=0;c<g.length;c++)if(g[c]===e[h].element[0]){e[h].proportions().height=
0;continue a}e[h].visible="none"!==e[h].element.css("display");e[h].visible&&("mousedown"===f&&e[h]._activate.call(e[h],b),e[h].offset=e[h].element.offset(),e[h].proportions({width:e[h].element[0].offsetWidth,height:e[h].element[0].offsetHeight}))}},drop:function(a,b){var c=!1;d.each((d.ui.ddmanager.droppables[a.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&d.ui.intersect(a,this,this.options.tolerance,b)&&(c=this._drop.call(this,b)||c),!this.options.disabled&&
this.visible&&this.accept.call(this.element[0],a.currentItem||a.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,b)))});return c},dragStart:function(a,b){a.element.parentsUntil("body").on("scroll.droppable",function(){a.options.refreshPositions||d.ui.ddmanager.prepareOffsets(a,b)})},drag:function(a,b){a.options.refreshPositions&&d.ui.ddmanager.prepareOffsets(a,b);d.each(d.ui.ddmanager.droppables[a.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var c=
d.ui.intersect(a,this,this.options.tolerance,b);var e=!c&&this.isover?"isout":c&&!this.isover?"isover":null;if(e){if(this.options.greedy){var f=this.options.scope;c=this.element.parents(":data(ui-droppable)").filter(function(){return d(this).droppable("instance").options.scope===f});if(c.length){var g=d(c[0]).droppable("instance");g.greedyChild="isover"===e}}g&&"isover"===e&&(g.isover=!1,g.isout=!0,g._out.call(g,b));this[e]=!0;this["isout"===e?"isover":"isout"]=!1;this["isover"===e?"_over":"_out"].call(this,
b);g&&"isout"===e&&(g.isout=!1,g.isover=!0,g._over.call(g,b))}}})},dragStop:function(a,b){a.element.parentsUntil("body").off("scroll.droppable");a.options.refreshPositions||d.ui.ddmanager.prepareOffsets(a,b)}};!1!==d.uiBackCompat&&d.widget("ui.droppable",d.ui.droppable,{options:{hoverClass:!1,activeClass:!1},_addActiveClass:function(){this._super();this.options.activeClass&&this.element.addClass(this.options.activeClass)},_removeActiveClass:function(){this._super();this.options.activeClass&&this.element.removeClass(this.options.activeClass)},
_addHoverClass:function(){this._super();this.options.hoverClass&&this.element.addClass(this.options.hoverClass)},_removeHoverClass:function(){this._super();this.options.hoverClass&&this.element.removeClass(this.options.hoverClass)}});d.widget("ui.resizable",d.ui.mouse,{version:"1.13.2",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,classes:{"ui-resizable-se":"ui-icon ui-icon-gripsmall-diagonal-se"},containment:!1,
ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(a){return parseFloat(a)||0},_isNumber:function(a){return!isNaN(parseFloat(a))},_hasScroll:function(a,b){if("hidden"===d(a).css("overflow"))return!1;b=b&&"left"===b?"scrollLeft":"scrollTop";var c=!1;if(0<a[b])return!0;try{a[b]=1,c=0<a[b],a[b]=0}catch(e){}return c},_create:function(){var a=this.options,b=this;this._addClass("ui-resizable");d.extend(this,
{_aspectRatio:!!a.aspectRatio,aspectRatio:a.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:a.helper||a.ghost||a.animate?a.helper||"ui-resizable-helper":null});if(this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)){this.element.wrap(d("<div class='ui-wrapper'></div>").css({overflow:"hidden",position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")}));
this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance"));this.elementIsWrapper=!0;var c={marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom"),marginLeft:this.originalElement.css("marginLeft")};this.element.css(c);this.originalElement.css("margin",0);this.originalResizeStyle=this.originalElement.css("resize");this.originalElement.css("resize","none");this._proportionallyResizeElements.push(this.originalElement.css({position:"static",
zoom:1,display:"block"}));this.originalElement.css(c);this._proportionallyResize()}this._setupHandles();if(a.autoHide)d(this.element).on("mouseenter",function(){a.disabled||(b._removeClass("ui-resizable-autohide"),b._handles.show())}).on("mouseleave",function(){a.disabled||b.resizing||(b._addClass("ui-resizable-autohide"),b._handles.hide())});this._mouseInit()},_destroy:function(){this._mouseDestroy();this._addedHandles.remove();var a=function(a){d(a).removeData("resizable").removeData("ui-resizable").off(".resizable")};
if(this.elementIsWrapper){a(this.element);var b=this.element;this.originalElement.css({position:b.css("position"),width:b.outerWidth(),height:b.outerHeight(),top:b.css("top"),left:b.css("left")}).insertAfter(b);b.remove()}this.originalElement.css("resize",this.originalResizeStyle);a(this.originalElement);return this},_setOption:function(a,b){this._super(a,b);switch(a){case "handles":this._removeHandles();this._setupHandles();break;case "aspectRatio":this._aspectRatio=!!b}},_setupHandles:function(){var a=
this.options,b,c=this;this.handles=a.handles||(d(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se");this._handles=d();this._addedHandles=d();if(this.handles.constructor===String){"all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw");var e=this.handles.split(",");this.handles={};for(b=0;b<e.length;b++){var f=String.prototype.trim.call(e[b]);
var g="ui-resizable-"+f;var h=d("<div>");this._addClass(h,"ui-resizable-handle "+g);h.css({zIndex:a.zIndex});this.handles[f]=".ui-resizable-"+f;this.element.children(this.handles[f]).length||(this.element.append(h),this._addedHandles=this._addedHandles.add(h))}}this._renderAxis=function(a){var b;a=a||this.element;for(b in this.handles){if(this.handles[b].constructor===String)this.handles[b]=this.element.children(this.handles[b]).first().show();else if(this.handles[b].jquery||this.handles[b].nodeType)this.handles[b]=
d(this.handles[b]),this._on(this.handles[b],{mousedown:c._mouseDown});if(this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)){var e=d(this.handles[b],this.element);var f=/sw|ne|nw|se|n|s/.test(b)?e.outerHeight():e.outerWidth();e=["padding",/ne|nw|n/.test(b)?"Top":/se|sw|s/.test(b)?"Bottom":/^e$/.test(b)?"Right":"Left"].join("");a.css(e,f);this._proportionallyResize()}this._handles=this._handles.add(this.handles[b])}};this._renderAxis(this.element);this._handles=
this._handles.add(this.element.find(".ui-resizable-handle"));this._handles.disableSelection();this._handles.on("mouseover",function(){c.resizing||(this.className&&(h=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),c.axis=h&&h[1]?h[1]:"se")});a.autoHide&&(this._handles.hide(),this._addClass("ui-resizable-autohide"))},_removeHandles:function(){this._addedHandles.remove()},_mouseCapture:function(a){var b,c=!1;for(b in this.handles){var e=d(this.handles[b])[0];if(e===a.target||d.contains(e,
a.target))c=!0}return!this.options.disabled&&c},_mouseStart:function(a){var b=this.options,c=this.element;this.resizing=!0;this._renderProxy();var e=this._num(this.helper.css("left"));var f=this._num(this.helper.css("top"));b.containment&&(e+=d(b.containment).scrollLeft()||0,f+=d(b.containment).scrollTop()||0);this.offset=this.helper.offset();this.position={left:e,top:f};this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:c.width(),height:c.height()};this.originalSize=
this._helper?{width:c.outerWidth(),height:c.outerHeight()}:{width:c.width(),height:c.height()};this.sizeDiff={width:c.outerWidth()-c.width(),height:c.outerHeight()-c.height()};this.originalPosition={left:e,top:f};this.originalMousePosition={left:a.pageX,top:a.pageY};this.aspectRatio="number"===typeof b.aspectRatio?b.aspectRatio:this.originalSize.width/this.originalSize.height||1;e=d(".ui-resizable-"+this.axis).css("cursor");d("body").css("cursor","auto"===e?this.axis+"-resize":e);this._addClass("ui-resizable-resizing");
this._propagate("start",a);return!0},_mouseDrag:function(a){var b=this.originalMousePosition;var c=a.pageX-b.left||0;b=a.pageY-b.top||0;var e=this._change[this.axis];this._updatePrevProperties();if(!e)return!1;c=e.apply(this,[a,c,b]);this._updateVirtualBoundaries(a.shiftKey);if(this._aspectRatio||a.shiftKey)c=this._updateRatio(c,a);c=this._respectSize(c,a);this._updateCache(c);this._propagate("resize",a);c=this._applyChanges();!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize();
d.isEmptyObject(c)||(this._updatePrevProperties(),this._trigger("resize",a,this.ui()),this._applyChanges());return!1},_mouseStop:function(a){this.resizing=!1;var b,c=this.options;if(this._helper){var e=this._proportionallyResizeElements;e=(b=e.length&&/textarea/i.test(e[0].nodeName))&&this._hasScroll(e[0],"left")?0:this.sizeDiff.height;b=b?0:this.sizeDiff.width;b={width:this.helper.width()-b,height:this.helper.height()-e};e=parseFloat(this.element.css("left"))+(this.position.left-this.originalPosition.left)||
null;var f=parseFloat(this.element.css("top"))+(this.position.top-this.originalPosition.top)||null;c.animate||this.element.css(d.extend(b,{top:f,left:e}));this.helper.height(this.size.height);this.helper.width(this.size.width);this._helper&&!c.animate&&this._proportionallyResize()}d("body").css("cursor","auto");this._removeClass("ui-resizable-resizing");this._propagate("stop",a);this._helper&&this.helper.remove();return!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,
left:this.position.left};this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var a={};this.position.top!==this.prevPosition.top&&(a.top=this.position.top+"px");this.position.left!==this.prevPosition.left&&(a.left=this.position.left+"px");this.size.width!==this.prevSize.width&&(a.width=this.size.width+"px");this.size.height!==this.prevSize.height&&(a.height=this.size.height+"px");this.helper.css(a);return a},_updateVirtualBoundaries:function(a){var b=this.options;
b={minWidth:this._isNumber(b.minWidth)?b.minWidth:0,maxWidth:this._isNumber(b.maxWidth)?b.maxWidth:Infinity,minHeight:this._isNumber(b.minHeight)?b.minHeight:0,maxHeight:this._isNumber(b.maxHeight)?b.maxHeight:Infinity};if(this._aspectRatio||a){a=b.minHeight*this.aspectRatio;var c=b.minWidth/this.aspectRatio;var d=b.maxHeight*this.aspectRatio;var f=b.maxWidth/this.aspectRatio;a>b.minWidth&&(b.minWidth=a);c>b.minHeight&&(b.minHeight=c);d<b.maxWidth&&(b.maxWidth=d);f<b.maxHeight&&(b.maxHeight=f)}this._vBoundaries=
b},_updateCache:function(a){this.offset=this.helper.offset();this._isNumber(a.left)&&(this.position.left=a.left);this._isNumber(a.top)&&(this.position.top=a.top);this._isNumber(a.height)&&(this.size.height=a.height);this._isNumber(a.width)&&(this.size.width=a.width)},_updateRatio:function(a){var b=this.position,c=this.size,d=this.axis;this._isNumber(a.height)?a.width=a.height*this.aspectRatio:this._isNumber(a.width)&&(a.height=a.width/this.aspectRatio);"sw"===d&&(a.left=b.left+(c.width-a.width),a.top=
null);"nw"===d&&(a.top=b.top+(c.height-a.height),a.left=b.left+(c.width-a.width));return a},_respectSize:function(a){var b=this._vBoundaries,c=this.axis,d=this._isNumber(a.width)&&b.maxWidth&&b.maxWidth<a.width,f=this._isNumber(a.height)&&b.maxHeight&&b.maxHeight<a.height,g=this._isNumber(a.width)&&b.minWidth&&b.minWidth>a.width,h=this._isNumber(a.height)&&b.minHeight&&b.minHeight>a.height,k=this.originalPosition.left+this.originalSize.width,l=this.originalPosition.top+this.originalSize.height,m=
/sw|nw|w/.test(c);c=/nw|ne|n/.test(c);g&&(a.width=b.minWidth);h&&(a.height=b.minHeight);d&&(a.width=b.maxWidth);f&&(a.height=b.maxHeight);g&&m&&(a.left=k-b.minWidth);d&&m&&(a.left=k-b.maxWidth);h&&c&&(a.top=l-b.minHeight);f&&c&&(a.top=l-b.maxHeight);a.width||a.height||a.left||!a.top?a.width||a.height||a.top||!a.left||(a.left=null):a.top=null;return a},_getPaddingPlusBorderDimensions:function(a){var b=0,c=[],d=[a.css("borderTopWidth"),a.css("borderRightWidth"),a.css("borderBottomWidth"),a.css("borderLeftWidth")];
for(a=[a.css("paddingTop"),a.css("paddingRight"),a.css("paddingBottom"),a.css("paddingLeft")];4>b;b++)c[b]=parseFloat(d[b])||0,c[b]+=parseFloat(a[b])||0;return{height:c[0]+c[2],width:c[1]+c[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var a,b=0,c=this.helper||this.element;b<this._proportionallyResizeElements.length;b++)a=this._proportionallyResizeElements[b],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(a)),a.css({height:c.height()-
this.outerDimensions.height||0,width:c.width()-this.outerDimensions.width||0})},_renderProxy:function(){var a=this.options;this.elementOffset=this.element.offset();this._helper?(this.helper=this.helper||d("<div></div>").css({overflow:"hidden"}),this._addClass(this.helper,this._helper),this.helper.css({width:this.element.outerWidth(),height:this.element.outerHeight(),position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++a.zIndex}),this.helper.appendTo("body").disableSelection()):
this.helper=this.element},_change:{e:function(a,b){return{width:this.originalSize.width+b}},w:function(a,b){return{left:this.originalPosition.left+b,width:this.originalSize.width-b}},n:function(a,b,c){return{top:this.originalPosition.top+c,height:this.originalSize.height-c}},s:function(a,b,c){return{height:this.originalSize.height+c}},se:function(a,b,c){return d.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[a,b,c]))},sw:function(a,b,c){return d.extend(this._change.s.apply(this,
arguments),this._change.w.apply(this,[a,b,c]))},ne:function(a,b,c){return d.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[a,b,c]))},nw:function(a,b,c){return d.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[a,b,c]))}},_propagate:function(a,b){d.ui.plugin.call(this,a,[b,this.ui()]);"resize"!==a&&this._trigger(a,b,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,
size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}});d.ui.plugin.add("resizable","animate",{stop:function(a){var b=d(this).resizable("instance"),c=b.options,e=b._proportionallyResizeElements,f=e.length&&/textarea/i.test(e[0].nodeName),g=f&&b._hasScroll(e[0],"left")?0:b.sizeDiff.height;f={width:b.size.width-(f?0:b.sizeDiff.width),height:b.size.height-g};g=parseFloat(b.element.css("left"))+(b.position.left-b.originalPosition.left)||null;var h=parseFloat(b.element.css("top"))+
(b.position.top-b.originalPosition.top)||null;b.element.animate(d.extend(f,h&&g?{top:h,left:g}:{}),{duration:c.animateDuration,easing:c.animateEasing,step:function(){var c={width:parseFloat(b.element.css("width")),height:parseFloat(b.element.css("height")),top:parseFloat(b.element.css("top")),left:parseFloat(b.element.css("left"))};e&&e.length&&d(e[0]).css({width:c.width,height:c.height});b._updateCache(c);b._propagate("resize",a)}})}});d.ui.plugin.add("resizable","containment",{start:function(){var a=
d(this).resizable("instance"),b=a.element;var c=a.options.containment;if(b=c instanceof d?c.get(0):/parent/.test(c)?b.parent().get(0):c)if(a.containerElement=d(b),/document/.test(c)||c===document)a.containerOffset={left:0,top:0},a.containerPosition={left:0,top:0},a.parentData={element:d(document),left:0,top:0,width:d(document).width(),height:d(document).height()||document.body.parentNode.scrollHeight};else{var e=d(b);var f=[];d(["Top","Right","Left","Bottom"]).each(function(b,c){f[b]=a._num(e.css("padding"+
c))});a.containerOffset=e.offset();a.containerPosition=e.position();a.containerSize={height:e.innerHeight()-f[3],width:e.innerWidth()-f[1]};c=a.containerOffset;var g=a.containerSize.height;var h=a.containerSize.width;h=a._hasScroll(b,"left")?b.scrollWidth:h;g=a._hasScroll(b)?b.scrollHeight:g;a.parentData={element:b,left:c.left,top:c.top,width:h,height:g}}},resize:function(a){var b=d(this).resizable("instance");var c=b.options;var e=b.containerOffset;var f=b.position;a=b._aspectRatio||a.shiftKey;var g=
{top:0,left:0},h=b.containerElement,k=!0;h[0]!==document&&/static/.test(h.css("position"))&&(g=e);f.left<(b._helper?e.left:0)&&(b.size.width+=b._helper?b.position.left-e.left:b.position.left-g.left,a&&(b.size.height=b.size.width/b.aspectRatio,k=!1),b.position.left=c.helper?e.left:0);f.top<(b._helper?e.top:0)&&(b.size.height+=b._helper?b.position.top-e.top:b.position.top,a&&(b.size.width=b.size.height*b.aspectRatio,k=!1),b.position.top=b._helper?e.top:0);c=b.containerElement.get(0)===b.element.parent().get(0);
f=/relative|absolute/.test(b.containerElement.css("position"));c&&f?(b.offset.left=b.parentData.left+b.position.left,b.offset.top=b.parentData.top+b.position.top):(b.offset.left=b.element.offset().left,b.offset.top=b.element.offset().top);c=Math.abs(b.sizeDiff.width+(b._helper?b.offset.left-g.left:b.offset.left-e.left));e=Math.abs(b.sizeDiff.height+(b._helper?b.offset.top-g.top:b.offset.top-e.top));c+b.size.width>=b.parentData.width&&(b.size.width=b.parentData.width-c,a&&(b.size.height=b.size.width/
b.aspectRatio,k=!1));e+b.size.height>=b.parentData.height&&(b.size.height=b.parentData.height-e,a&&(b.size.width=b.size.height*b.aspectRatio,k=!1));k||(b.position.left=b.prevPosition.left,b.position.top=b.prevPosition.top,b.size.width=b.prevSize.width,b.size.height=b.prevSize.height)},stop:function(){var a=d(this).resizable("instance"),b=a.options,c=a.containerOffset,e=a.containerPosition,f=a.containerElement,g=d(a.helper),h=g.offset(),k=g.outerWidth()-a.sizeDiff.width;g=g.outerHeight()-a.sizeDiff.height;
a._helper&&!b.animate&&/relative/.test(f.css("position"))&&d(this).css({left:h.left-e.left-c.left,width:k,height:g});a._helper&&!b.animate&&/static/.test(f.css("position"))&&d(this).css({left:h.left-e.left-c.left,width:k,height:g})}});d.ui.plugin.add("resizable","alsoResize",{start:function(){var a=d(this).resizable("instance").options;d(a.alsoResize).each(function(){var a=d(this);a.data("ui-resizable-alsoresize",{width:parseFloat(a.width()),height:parseFloat(a.height()),left:parseFloat(a.css("left")),
top:parseFloat(a.css("top"))})})},resize:function(a,b){a=d(this).resizable("instance");var c=a.originalSize,e=a.originalPosition,f={height:a.size.height-c.height||0,width:a.size.width-c.width||0,top:a.position.top-e.top||0,left:a.position.left-e.left||0};d(a.options.alsoResize).each(function(){var a=d(this),c=d(this).data("ui-resizable-alsoresize"),e={},l=a.parents(b.originalElement[0]).length?["width","height"]:["width","height","top","left"];d.each(l,function(a,b){(a=(c[b]||0)+(f[b]||0))&&0<=a&&
(e[b]=a||null)});a.css(e)})},stop:function(){d(this).removeData("ui-resizable-alsoresize")}});d.ui.plugin.add("resizable","ghost",{start:function(){var a=d(this).resizable("instance"),b=a.size;a.ghost=a.originalElement.clone();a.ghost.css({opacity:.25,display:"block",position:"relative",height:b.height,width:b.width,margin:0,left:0,top:0});a._addClass(a.ghost,"ui-resizable-ghost");!1!==d.uiBackCompat&&"string"===typeof a.options.ghost&&a.ghost.addClass(this.options.ghost);a.ghost.appendTo(a.helper)},
resize:function(){var a=d(this).resizable("instance");a.ghost&&a.ghost.css({position:"relative",height:a.size.height,width:a.size.width})},stop:function(){var a=d(this).resizable("instance");a.ghost&&a.helper&&a.helper.get(0).removeChild(a.ghost.get(0))}});d.ui.plugin.add("resizable","grid",{resize:function(){var a=d(this).resizable("instance"),b=a.options,c=a.size,e=a.originalSize,f=a.originalPosition,g=a.axis,h="number"===typeof b.grid?[b.grid,b.grid]:b.grid,k=h[0]||1,l=h[1]||1,m=Math.round((c.width-
e.width)/k)*k;c=Math.round((c.height-e.height)/l)*l;var n=e.width+m,p=e.height+c,v=b.maxWidth&&b.maxWidth<n,y=b.maxHeight&&b.maxHeight<p,q=b.minWidth&&b.minWidth>n,r=b.minHeight&&b.minHeight>p;b.grid=h;q&&(n+=k);r&&(p+=l);v&&(n-=k);y&&(p-=l);if(/^(se|s|e)$/.test(g))a.size.width=n,a.size.height=p;else if(/^(ne)$/.test(g))a.size.width=n,a.size.height=p,a.position.top=f.top-c;else if(/^(sw)$/.test(g))a.size.width=n,a.size.height=p,a.position.left=f.left-m;else{if(0>=p-l||0>=n-k)var t=a._getPaddingPlusBorderDimensions(this);
0<p-l?(a.size.height=p,a.position.top=f.top-c):(p=l-t.height,a.size.height=p,a.position.top=f.top+e.height-p);0<n-k?(a.size.width=n,a.position.left=f.left-m):(n=k-t.width,a.size.width=n,a.position.left=f.left+e.width-n)}}});d.widget("ui.sortable",d.ui.mouse,{version:"1.13.2",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",
opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1E3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(a,b,c){return a>=b&&a<b+c},_isFloating:function(a){return/left|right/.test(a.css("float"))||/inline|table-cell/.test(a.css("display"))},_create:function(){this.containerCache={};this._addClass("ui-sortable");
this.refresh();this.offset=this.element.offset();this._mouseInit();this._setHandleClassName();this.ready=!0},_setOption:function(a,b){this._super(a,b);"handle"===a&&this._setHandleClassName()},_setHandleClassName:function(){var a=this;this._removeClass(this.element.find(".ui-sortable-handle"),"ui-sortable-handle");d.each(this.items,function(){a._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,"ui-sortable-handle")})},_destroy:function(){this._mouseDestroy();
for(var a=this.items.length-1;0<=a;a--)this.items[a].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(a,b){var c=null,e=!1,f=this;if(this.reverting||this.options.disabled||"static"===this.options.type)return!1;this._refreshItems(a);d(a.target).parents().each(function(){if(d.data(this,f.widgetName+"-item")===f)return c=d(this),!1});d.data(a.target,f.widgetName+"-item")===f&&(c=d(a.target));if(!c||this.options.handle&&!b&&(d(this.options.handle,c).find("*").addBack().each(function(){this===
a.target&&(e=!0)}),!e))return!1;this.currentItem=c;this._removeCurrentsFromItems();return!0},_mouseStart:function(a,b,c){b=this.options;this.currentContainer=this;this.refreshPositions();this.appendTo=d("parent"!==b.appendTo?b.appendTo:this.currentItem.parent());this.helper=this._createHelper(a);this._cacheHelperProportions();this._cacheMargins();this.offset=this.currentItem.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};d.extend(this.offset,{click:{left:a.pageX-
this.offset.left,top:a.pageY-this.offset.top},relative:this._getRelativeOffset()});this.helper.css("position","absolute");this.cssPosition=this.helper.css("position");b.cursorAt&&this._adjustOffsetFromHelper(b.cursorAt);this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]};this.helper[0]!==this.currentItem[0]&&this.currentItem.hide();this._createPlaceholder();this.scrollParent=this.placeholder.scrollParent();d.extend(this.offset,{parent:this._getParentOffset()});b.containment&&
this._setContainment();if(b.cursor&&"auto"!==b.cursor){var e=this.document.find("body");this.storedCursor=e.css("cursor");e.css("cursor",b.cursor);this.storedStylesheet=d("<style>*{ cursor: "+b.cursor+" !important; }</style>").appendTo(e)}b.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",b.zIndex));b.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",b.opacity));this.scrollParent[0]!==
this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset());this._trigger("start",a,this._uiHash());this._preserveHelperProportions||this._cacheHelperProportions();if(!c)for(c=this.containers.length-1;0<=c;c--)this.containers[c]._trigger("activate",a,this._uiHash(this));d.ui.ddmanager&&(d.ui.ddmanager.current=this);d.ui.ddmanager&&!b.dropBehaviour&&d.ui.ddmanager.prepareOffsets(this,a);this.dragging=!0;this._addClass(this.helper,"ui-sortable-helper");
this.helper.parent().is(this.appendTo)||(this.helper.detach().appendTo(this.appendTo),this.offset.parent=this._getParentOffset());this.position=this.originalPosition=this._generatePosition(a);this.originalPageX=a.pageX;this.originalPageY=a.pageY;this.lastPositionAbs=this.positionAbs=this._convertPositionTo("absolute");this._mouseDrag(a);return!0},_scroll:function(a){var b=this.options,c=!1;this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-
a.pageY<b.scrollSensitivity?this.scrollParent[0].scrollTop=c=this.scrollParent[0].scrollTop+b.scrollSpeed:a.pageY-this.overflowOffset.top<b.scrollSensitivity&&(this.scrollParent[0].scrollTop=c=this.scrollParent[0].scrollTop-b.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-a.pageX<b.scrollSensitivity?this.scrollParent[0].scrollLeft=c=this.scrollParent[0].scrollLeft+b.scrollSpeed:a.pageX-this.overflowOffset.left<b.scrollSensitivity&&(this.scrollParent[0].scrollLeft=c=this.scrollParent[0].scrollLeft-
b.scrollSpeed)):(a.pageY-this.document.scrollTop()<b.scrollSensitivity?c=this.document.scrollTop(this.document.scrollTop()-b.scrollSpeed):this.window.height()-(a.pageY-this.document.scrollTop())<b.scrollSensitivity&&(c=this.document.scrollTop(this.document.scrollTop()+b.scrollSpeed)),a.pageX-this.document.scrollLeft()<b.scrollSensitivity?c=this.document.scrollLeft(this.document.scrollLeft()-b.scrollSpeed):this.window.width()-(a.pageX-this.document.scrollLeft())<b.scrollSensitivity&&(c=this.document.scrollLeft(this.document.scrollLeft()+
b.scrollSpeed)));return c},_mouseDrag:function(a){var b;var c=this.options;this.position=this._generatePosition(a);this.positionAbs=this._convertPositionTo("absolute");this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px");this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px");c.scroll&&!1!==this._scroll(a)&&(this._refreshItemPositions(!0),d.ui.ddmanager&&!c.dropBehaviour&&d.ui.ddmanager.prepareOffsets(this,a));this.dragDirection=
{vertical:this._getDragVerticalDirection(),horizontal:this._getDragHorizontalDirection()};for(c=this.items.length-1;0<=c;c--){var e=this.items[c];var f=e.item[0];if((b=this._intersectsWithPointer(e))&&e.instance===this.currentContainer&&f!==this.currentItem[0]&&this.placeholder[1===b?"next":"prev"]()[0]!==f&&!d.contains(this.placeholder[0],f)&&("semi-dynamic"===this.options.type?!d.contains(this.element[0],f):1)){this.direction=1===b?"down":"up";if("pointer"===this.options.tolerance||this._intersectsWithSides(e))this._rearrange(a,
e);else break;this._trigger("change",a,this._uiHash());break}}this._contactContainers(a);d.ui.ddmanager&&d.ui.ddmanager.drag(this,a);this._trigger("sort",a,this._uiHash());this.lastPositionAbs=this.positionAbs;return!1},_mouseStop:function(a,b){if(a){d.ui.ddmanager&&!this.options.dropBehaviour&&d.ui.ddmanager.drop(this,a);if(this.options.revert){var c=this;b=this.placeholder.offset();var e=this.options.axis,f={};e&&"x"!==e||(f.left=b.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===
this.document[0].body?0:this.offsetParent[0].scrollLeft));e&&"y"!==e||(f.top=b.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop));this.reverting=!0;d(this.helper).animate(f,parseInt(this.options.revert,10)||500,function(){c._clear(a)})}else this._clear(a,b);return!1}},cancel:function(){if(this.dragging){this._mouseUp(new d.Event("mouseup",{target:null}));"original"===this.options.helper?(this.currentItem.css(this._storedCSS),
this._removeClass(this.currentItem,"ui-sortable-helper")):this.currentItem.show();for(var a=this.containers.length-1;0<=a;a--)this.containers[a]._trigger("deactivate",null,this._uiHash(this)),this.containers[a].containerCache.over&&(this.containers[a]._trigger("out",null,this._uiHash(this)),this.containers[a].containerCache.over=0)}this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&
this.helper.remove(),d.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?d(this.domPosition.prev).after(this.currentItem):d(this.domPosition.parent).prepend(this.currentItem));return this},serialize:function(a){var b=this._getItemsAsjQuery(a&&a.connected),c=[];a=a||{};d(b).each(function(){var b=(d(a.item||this).attr(a.attribute||"id")||"").match(a.expression||/(.+)[\-=_](.+)/);b&&c.push((a.key||b[1]+"[]")+"="+(a.key&&a.expression?b[1]:b[2]))});!c.length&&
a.key&&c.push(a.key+"=");return c.join("&")},toArray:function(a){var b=this._getItemsAsjQuery(a&&a.connected),c=[];a=a||{};b.each(function(){c.push(d(a.item||this).attr(a.attribute||"id")||"")});return c},_intersectsWith:function(a){var b=this.positionAbs.left,c=b+this.helperProportions.width,d=this.positionAbs.top,f=d+this.helperProportions.height,g=a.left,h=g+a.width,k=a.top,l=k+a.height,m=this.offset.click.top,n=this.offset.click.left;m="x"===this.options.axis||d+m>k&&d+m<l;n="y"===this.options.axis||
b+n>g&&b+n<h;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>a[this.floating?"width":"height"]?m&&n:g<b+this.helperProportions.width/2&&c-this.helperProportions.width/2<h&&k<d+this.helperProportions.height/2&&f-this.helperProportions.height/2<l},_intersectsWithPointer:function(a){var b="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,a.top,
a.height);a="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,a.left,a.width);if(!b||!a)return!1;b=this.dragDirection.vertical;a=this.dragDirection.horizontal;return this.floating?"right"===a||"down"===b?2:1:b&&("down"===b?2:1)},_intersectsWithSides:function(a){var b=this._isOverAxis(this.positionAbs.top+this.offset.click.top,a.top+a.height/2,a.height);a=this._isOverAxis(this.positionAbs.left+this.offset.click.left,a.left+a.width/2,a.width);var c=this.dragDirection.vertical,
d=this.dragDirection.horizontal;return this.floating&&d?"right"===d&&a||"left"===d&&!a:c&&("down"===c&&b||"up"===c&&!b)},_getDragVerticalDirection:function(){var a=this.positionAbs.top-this.lastPositionAbs.top;return 0!==a&&(0<a?"down":"up")},_getDragHorizontalDirection:function(){var a=this.positionAbs.left-this.lastPositionAbs.left;return 0!==a&&(0<a?"right":"left")},refresh:function(a){this._refreshItems(a);this._setHandleClassName();this.refreshPositions();return this},_connectWith:function(){var a=
this.options;return a.connectWith.constructor===String?[a.connectWith]:a.connectWith},_getItemsAsjQuery:function(a){function b(){f.push(this)}var c,e,f=[],g=[],h=this._connectWith();if(h&&a)for(a=h.length-1;0<=a;a--){var k=d(h[a],this.document[0]);for(c=k.length-1;0<=c;c--)(e=d.data(k[c],this.widgetFullName))&&e!==this&&!e.options.disabled&&g.push(["function"===typeof e.options.items?e.options.items.call(e.element):d(e.options.items,e.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),
e])}g.push(["function"===typeof this.options.items?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):d(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);for(a=g.length-1;0<=a;a--)g[a][0].each(b);return d(f)},_removeCurrentsFromItems:function(){var a=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=d.grep(this.items,function(b){for(var c=0;c<a.length;c++)if(a[c]===b.item[0])return!1;return!0})},
_refreshItems:function(a){this.items=[];this.containers=[this];var b,c,e,f,g=this.items,h=[["function"===typeof this.options.items?this.options.items.call(this.element[0],a,{item:this.currentItem}):d(this.options.items,this.element),this]];if((f=this._connectWith())&&this.ready)for(b=f.length-1;0<=b;b--){var k=d(f[b],this.document[0]);for(c=k.length-1;0<=c;c--)(e=d.data(k[c],this.widgetFullName))&&e!==this&&!e.options.disabled&&(h.push(["function"===typeof e.options.items?e.options.items.call(e.element[0],
a,{item:this.currentItem}):d(e.options.items,e.element),e]),this.containers.push(e))}for(b=h.length-1;0<=b;b--)for(a=h[b][1],k=h[b][0],c=0,f=k.length;c<f;c++)e=d(k[c]),e.data(this.widgetName+"-item",a),g.push({item:e,instance:a,width:0,height:0,left:0,top:0})},_refreshItemPositions:function(a){var b;for(b=this.items.length-1;0<=b;b--){var c=this.items[b];if(!this.currentContainer||c.instance===this.currentContainer||c.item[0]===this.currentItem[0]){var e=this.options.toleranceElement?d(this.options.toleranceElement,
c.item):c.item;a||(c.width=e.outerWidth(),c.height=e.outerHeight());e=e.offset();c.left=e.left;c.top=e.top}}},refreshPositions:function(a){this.floating=this.items.length?"x"===this.options.axis||this._isFloating(this.items[0].item):!1;this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());this._refreshItemPositions(a);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(a=this.containers.length-1;0<=a;a--){var b=
this.containers[a].element.offset();this.containers[a].containerCache.left=b.left;this.containers[a].containerCache.top=b.top;this.containers[a].containerCache.width=this.containers[a].element.outerWidth();this.containers[a].containerCache.height=this.containers[a].element.outerHeight()}return this},_createPlaceholder:function(a){a=a||this;var b=a.options;if(!b.placeholder||b.placeholder.constructor===String){var c=b.placeholder;var e=a.currentItem[0].nodeName.toLowerCase();b.placeholder={element:function(){var b=
d("<"+e+">",a.document[0]);a._addClass(b,"ui-sortable-placeholder",c||a.currentItem[0].className)._removeClass(b,"ui-sortable-helper");"tbody"===e?a._createTrPlaceholder(a.currentItem.find("tr").eq(0),d("<tr>",a.document[0]).appendTo(b)):"tr"===e?a._createTrPlaceholder(a.currentItem,b):"img"===e&&b.attr("src",a.currentItem.attr("src"));c||b.css("visibility","hidden");return b},update:function(d,g){if(!c||b.forcePlaceholderSize)g.height()&&(!b.forcePlaceholderSize||"tbody"!==e&&"tr"!==e)||g.height(a.currentItem.innerHeight()-
parseInt(a.currentItem.css("paddingTop")||0,10)-parseInt(a.currentItem.css("paddingBottom")||0,10)),g.width()||g.width(a.currentItem.innerWidth()-parseInt(a.currentItem.css("paddingLeft")||0,10)-parseInt(a.currentItem.css("paddingRight")||0,10))}}}a.placeholder=d(b.placeholder.element.call(a.element,a.currentItem));a.currentItem.after(a.placeholder);b.placeholder.update(a,a.placeholder)},_createTrPlaceholder:function(a,b){var c=this;a.children().each(function(){d("<td>&#160;</td>",c.document[0]).attr("colspan",
d(this).attr("colspan")||1).appendTo(b)})},_contactContainers:function(a){var b,c,e,f=e=null;for(b=this.containers.length-1;0<=b;b--)d.contains(this.currentItem[0],this.containers[b].element[0])||(this._intersectsWith(this.containers[b].containerCache)?e&&d.contains(this.containers[b].element[0],e.element[0])||(e=this.containers[b],f=b):this.containers[b].containerCache.over&&(this.containers[b]._trigger("out",a,this._uiHash(this)),this.containers[b].containerCache.over=0));if(e)if(1===this.containers.length)this.containers[f].containerCache.over||
(this.containers[f]._trigger("over",a,this._uiHash(this)),this.containers[f].containerCache.over=1);else{b=1E4;var g=null;e=(c=e.floating||this._isFloating(this.currentItem))?"left":"top";var h=c?"width":"height";var k=c?"pageX":"pageY";for(c=this.items.length-1;0<=c;c--)if(d.contains(this.containers[f].element[0],this.items[c].item[0])&&this.items[c].item[0]!==this.currentItem[0]){var l=this.items[c].item.offset()[e];var m=!1;a[k]-l>this.items[c][h]/2&&(m=!0);Math.abs(a[k]-l)<b&&(b=Math.abs(a[k]-
l),g=this.items[c],this.direction=m?"up":"down")}if(g||this.options.dropOnEmpty)this.currentContainer===this.containers[f]?this.currentContainer.containerCache.over||(this.containers[f]._trigger("over",a,this._uiHash()),this.currentContainer.containerCache.over=1):(g?this._rearrange(a,g,null,!0):this._rearrange(a,null,this.containers[f].element,!0),this._trigger("change",a,this._uiHash()),this.containers[f]._trigger("change",a,this._uiHash(this)),this.currentContainer=this.containers[f],this.options.placeholder.update(this.currentContainer,
this.placeholder),this.scrollParent=this.placeholder.scrollParent(),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this.containers[f]._trigger("over",a,this._uiHash(this)),this.containers[f].containerCache.over=1)}},_createHelper:function(a){var b=this.options;a="function"===typeof b.helper?d(b.helper.apply(this.element[0],[a,this.currentItem])):"clone"===b.helper?this.currentItem.clone():this.currentItem;a.parents("body").length||
this.appendTo[0].appendChild(a[0]);a[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")});a[0].style.width&&!b.forceHelperSize||a.width(this.currentItem.width());a[0].style.height&&!b.forceHelperSize||a.height(this.currentItem.height());return a},_adjustOffsetFromHelper:function(a){"string"===typeof a&&(a=a.split(" "));Array.isArray(a)&&
(a={left:+a[0],top:+a[1]||0});"left"in a&&(this.offset.click.left=a.left+this.margins.left);"right"in a&&(this.offset.click.left=this.helperProportions.width-a.right+this.margins.left);"top"in a&&(this.offset.click.top=a.top+this.margins.top);"bottom"in a&&(this.offset.click.top=this.helperProportions.height-a.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var a=this.offsetParent.offset();"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&
d.contains(this.scrollParent[0],this.offsetParent[0])&&(a.left+=this.scrollParent.scrollLeft(),a.top+=this.scrollParent.scrollTop());if(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&d.ui.ie)a={top:0,left:0};return{top:a.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:a.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var a=
this.currentItem.position();return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var a=
this.options;"parent"===a.containment&&(a.containment=this.helper[0].parentNode);if("document"===a.containment||"window"===a.containment)this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===a.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===a.containment?this.document.height()||document.body.parentNode.scrollHeight:this.window.height()||this.document[0].body.parentNode.scrollHeight)-
this.helperProportions.height-this.margins.top];if(!/^(document|window|parent)$/.test(a.containment)){var b=d(a.containment)[0];a=d(a.containment).offset();var c="hidden"!==d(b).css("overflow");this.containment=[a.left+(parseInt(d(b).css("borderLeftWidth"),10)||0)+(parseInt(d(b).css("paddingLeft"),10)||0)-this.margins.left,a.top+(parseInt(d(b).css("borderTopWidth"),10)||0)+(parseInt(d(b).css("paddingTop"),10)||0)-this.margins.top,a.left+(c?Math.max(b.scrollWidth,b.offsetWidth):b.offsetWidth)-(parseInt(d(b).css("borderLeftWidth"),
10)||0)-(parseInt(d(b).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,a.top+(c?Math.max(b.scrollHeight,b.offsetHeight):b.offsetHeight)-(parseInt(d(b).css("borderTopWidth"),10)||0)-(parseInt(d(b).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}},_convertPositionTo:function(a,b){b||(b=this.position);a="absolute"===a?1:-1;var c="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&d.contains(this.scrollParent[0],this.offsetParent[0])?
this.scrollParent:this.offsetParent,e=/(html|body)/i.test(c[0].tagName);return{top:b.top+this.offset.relative.top*a+this.offset.parent.top*a-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():e?0:c.scrollTop())*a,left:b.left+this.offset.relative.left*a+this.offset.parent.left*a-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():e?0:c.scrollLeft())*a}},_generatePosition:function(a){var b=this.options;var c=a.pageX;var e=a.pageY;var f="absolute"!==this.cssPosition||this.scrollParent[0]!==
this.document[0]&&d.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,g=/(html|body)/i.test(f[0].tagName);"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset());this.originalPosition&&(this.containment&&(a.pageX-this.offset.click.left<this.containment[0]&&(c=this.containment[0]+this.offset.click.left),a.pageY-this.offset.click.top<this.containment[1]&&
(e=this.containment[1]+this.offset.click.top),a.pageX-this.offset.click.left>this.containment[2]&&(c=this.containment[2]+this.offset.click.left),a.pageY-this.offset.click.top>this.containment[3]&&(e=this.containment[3]+this.offset.click.top)),b.grid&&(e=this.originalPageY+Math.round((e-this.originalPageY)/b.grid[1])*b.grid[1],e=this.containment?e-this.offset.click.top>=this.containment[1]&&e-this.offset.click.top<=this.containment[3]?e:e-this.offset.click.top>=this.containment[1]?e-b.grid[1]:e+b.grid[1]:
e,c=this.originalPageX+Math.round((c-this.originalPageX)/b.grid[0])*b.grid[0],c=this.containment?c-this.offset.click.left>=this.containment[0]&&c-this.offset.click.left<=this.containment[2]?c:c-this.offset.click.left>=this.containment[0]?c-b.grid[0]:c+b.grid[0]:c));return{top:e-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():g?0:f.scrollTop()),left:c-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+
("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():g?0:f.scrollLeft())}},_rearrange:function(a,b,c,d){c?c[0].appendChild(this.placeholder[0]):b.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?b.item[0]:b.item[0].nextSibling);var e=this.counter=this.counter?++this.counter:1;this._delay(function(){e===this.counter&&this.refreshPositions(!d)})},_clear:function(a,b){function c(a,b,c){return function(d){c._trigger(a,d,b._uiHash(b))}}this.reverting=!1;var d,f=[];!this._noFinalSort&&
this.currentItem.parent().length&&this.placeholder.before(this.currentItem);this._noFinalSort=null;if(this.helper[0]===this.currentItem[0]){for(d in this._storedCSS)if("auto"===this._storedCSS[d]||"static"===this._storedCSS[d])this._storedCSS[d]="";this.currentItem.css(this._storedCSS);this._removeClass(this.currentItem,"ui-sortable-helper")}else this.currentItem.show();this.fromOutside&&!b&&f.push(function(a){this._trigger("receive",a,this._uiHash(this.fromOutside))});!this.fromOutside&&this.domPosition.prev===
this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||b||f.push(function(a){this._trigger("update",a,this._uiHash())});this===this.currentContainer||b||(f.push(function(a){this._trigger("remove",a,this._uiHash())}),f.push(function(a){return function(b){a._trigger("receive",b,this._uiHash(this))}}.call(this,this.currentContainer)),f.push(function(a){return function(b){a._trigger("update",b,this._uiHash(this))}}.call(this,this.currentContainer)));
for(d=this.containers.length-1;0<=d;d--)b||f.push(c("deactivate",this,this.containers[d])),this.containers[d].containerCache.over&&(f.push(c("out",this,this.containers[d])),this.containers[d].containerCache.over=0);this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove());this._storedOpacity&&this.helper.css("opacity",this._storedOpacity);this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex);this.dragging=
!1;b||this._trigger("beforeStop",a,this._uiHash());this.placeholder[0].parentNode.removeChild(this.placeholder[0]);this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null);if(!b){for(d=0;d<f.length;d++)f[d].call(this,a);this._trigger("stop",a,this._uiHash())}this.fromOutside=!1;return!this.cancelHelperRemoval},_trigger:function(){!1===d.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(a){var b=a||this;return{helper:b.helper,
placeholder:b.placeholder||d([]),position:b.position,originalPosition:b.originalPosition,offset:b.positionAbs,item:b.currentItem,sender:a?a.element:null}}});d.widget("ui.accordion",{version:"1.13.2",options:{active:0,animate:{},classes:{"ui-accordion-header":"ui-corner-top","ui-accordion-header-collapsed":"ui-corner-all","ui-accordion-content":"ui-corner-bottom"},collapsible:!1,event:"click",header:function(a){return a.find("> li > :first-child").add(a.find("> :not(li)").even())},heightStyle:"auto",
icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var a=this.options;this.prevShow=this.prevHide=d();this._addClass("ui-accordion","ui-widget ui-helper-reset");this.element.attr("role","tablist");a.collapsible||
!1!==a.active&&null!=a.active||(a.active=0);this._processPanels();0>a.active&&(a.active+=this.headers.length);this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():d()}},_createIcons:function(){var a=this.options.icons;if(a){var b=d("<span>");this._addClass(b,"ui-accordion-header-icon","ui-icon "+a.header);b.prependTo(this.headers);b=this.active.children(".ui-accordion-header-icon");this._removeClass(b,a.header)._addClass(b,null,a.activeHeader)._addClass(this.headers,
"ui-accordion-icons")}},_destroyIcons:function(){this._removeClass(this.headers,"ui-accordion-icons");this.headers.children(".ui-accordion-header-icon").remove()},_destroy:function(){this.element.removeAttr("role");this.headers.removeAttr("role aria-expanded aria-selected aria-controls tabIndex").removeUniqueId();this._destroyIcons();var a=this.headers.next().css("display","").removeAttr("role aria-hidden aria-labelledby").removeUniqueId();"content"!==this.options.heightStyle&&a.css("height","")},
_setOption:function(a,b){"active"===a?this._activate(b):("event"===a&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(b)),this._super(a,b),"collapsible"!==a||b||!1!==this.options.active||this._activate(0),"icons"===a&&(this._destroyIcons(),b&&this._createIcons()))},_setOptionDisabled:function(a){this._super(a);this.element.attr("aria-disabled",a);this._toggleClass(null,"ui-state-disabled",!!a);this._toggleClass(this.headers.add(this.headers.next()),null,"ui-state-disabled",
!!a)},_keydown:function(a){if(!a.altKey&&!a.ctrlKey){var b=d.ui.keyCode,c=this.headers.length,e=this.headers.index(a.target),f=!1;switch(a.keyCode){case b.RIGHT:case b.DOWN:f=this.headers[(e+1)%c];break;case b.LEFT:case b.UP:f=this.headers[(e-1+c)%c];break;case b.SPACE:case b.ENTER:this._eventHandler(a);break;case b.HOME:f=this.headers[0];break;case b.END:f=this.headers[c-1]}f&&(d(a.target).attr("tabIndex",-1),d(f).attr("tabIndex",0),d(f).trigger("focus"),a.preventDefault())}},_panelKeyDown:function(a){a.keyCode===
d.ui.keyCode.UP&&a.ctrlKey&&d(a.currentTarget).prev().trigger("focus")},refresh:function(){var a=this.options;this._processPanels();!1===a.active&&!0===a.collapsible||!this.headers.length?(a.active=!1,this.active=d()):!1===a.active?this._activate(0):this.active.length&&!d.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(a.active=!1,this.active=d()):this._activate(Math.max(0,a.active-1)):a.active=this.headers.index(this.active);this._destroyIcons();
this._refresh()},_processPanels:function(){var a=this.headers,b=this.panels;this.headers="function"===typeof this.options.header?this.options.header(this.element):this.element.find(this.options.header);this._addClass(this.headers,"ui-accordion-header ui-accordion-header-collapsed","ui-state-default");this.panels=this.headers.next().filter(":not(.ui-accordion-content-active)").hide();this._addClass(this.panels,"ui-accordion-content","ui-helper-reset ui-widget-content");b&&(this._off(a.not(this.headers)),
this._off(b.not(this.panels)))},_refresh:function(){var a=this.options,b=a.heightStyle,c=this.element.parent();this.active=this._findActive(a.active);this._addClass(this.active,"ui-accordion-header-active","ui-state-active")._removeClass(this.active,"ui-accordion-header-collapsed");this._addClass(this.active.next(),"ui-accordion-content-active");this.active.next().show();this.headers.attr("role","tab").each(function(){var a=d(this),b=a.uniqueId().attr("id"),c=a.next(),e=c.uniqueId().attr("id");a.attr("aria-controls",
e);c.attr("aria-labelledby",b)}).next().attr("role","tabpanel");this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide();this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0);this._createIcons();this._setupEvents(a.event);if("fill"===b){var e=c.height();this.element.siblings(":visible").each(function(){var a=
d(this),b=a.css("position");"absolute"!==b&&"fixed"!==b&&(e-=a.outerHeight(!0))});this.headers.each(function(){e-=d(this).outerHeight(!0)});this.headers.next().each(function(){d(this).height(Math.max(0,e-d(this).innerHeight()+d(this).height()))}).css("overflow","auto")}else"auto"===b&&(e=0,this.headers.next().each(function(){var a=d(this).is(":visible");a||d(this).show();e=Math.max(e,d(this).css("height","").height());a||d(this).hide()}).height(e))},_activate:function(a){a=this._findActive(a)[0];
a!==this.active[0]&&(a=a||this.active[0],this._eventHandler({target:a,currentTarget:a,preventDefault:d.noop}))},_findActive:function(a){return"number"===typeof a?this.headers.eq(a):d()},_setupEvents:function(a){var b={keydown:"_keydown"};a&&d.each(a.split(" "),function(a,d){b[d]="_eventHandler"});this._off(this.headers.add(this.headers.next()));this._on(this.headers,b);this._on(this.headers.next(),{keydown:"_panelKeyDown"});this._hoverable(this.headers);this._focusable(this.headers)},_eventHandler:function(a){var b,
c=this.options,e=this.active,f=d(a.currentTarget),g=(b=f[0]===e[0])&&c.collapsible,h=g?d():f.next(),k=e.next();h={oldHeader:e,oldPanel:k,newHeader:g?d():f,newPanel:h};a.preventDefault();b&&!c.collapsible||!1===this._trigger("beforeActivate",a,h)||(c.active=g?!1:this.headers.index(f),this.active=b?d():f,this._toggle(h),this._removeClass(e,"ui-accordion-header-active","ui-state-active"),c.icons&&(a=e.children(".ui-accordion-header-icon"),this._removeClass(a,null,c.icons.activeHeader)._addClass(a,null,
c.icons.header)),b||(this._removeClass(f,"ui-accordion-header-collapsed")._addClass(f,"ui-accordion-header-active","ui-state-active"),c.icons&&(b=f.children(".ui-accordion-header-icon"),this._removeClass(b,null,c.icons.header)._addClass(b,null,c.icons.activeHeader)),this._addClass(f.next(),"ui-accordion-content-active")))},_toggle:function(a){var b=a.newPanel,c=this.prevShow.length?this.prevShow:a.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0);this.prevShow=b;this.prevHide=c;this.options.animate?
this._animate(b,c,a):(c.hide(),b.show(),this._toggleComplete(a));c.attr({"aria-hidden":"true"});c.prev().attr({"aria-selected":"false","aria-expanded":"false"});b.length&&c.length?c.prev().attr({tabIndex:-1,"aria-expanded":"false"}):b.length&&this.headers.filter(function(){return 0===parseInt(d(this).attr("tabIndex"),10)}).attr("tabIndex",-1);b.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_animate:function(a,b,c){var d,f,g=this,h=0,k=a.css("box-sizing"),
l=a.length&&(!b.length||a.index()<b.index()),m=this.options.animate||{};l=l&&m.down||m;var n=function(){g._toggleComplete(c)};"number"===typeof l&&(f=l);"string"===typeof l&&(d=l);d=d||l.easing||m.easing;f=f||l.duration||m.duration;if(!b.length)return a.animate(this.showProps,f,d,n);if(!a.length)return b.animate(this.hideProps,f,d,n);var p=a.show().outerHeight();b.animate(this.hideProps,{duration:f,easing:d,step:function(a,b){b.now=Math.round(a)}});a.hide().animate(this.showProps,{duration:f,easing:d,
complete:n,step:function(a,c){c.now=Math.round(a);"height"!==c.prop?"content-box"===k&&(h+=c.now):"content"!==g.options.heightStyle&&(c.now=Math.round(p-b.outerHeight()-h),h=0)}})},_toggleComplete:function(a){var b=a.oldPanel,c=b.prev();this._removeClass(b,"ui-accordion-content-active");this._removeClass(c,"ui-accordion-header-active")._addClass(c,"ui-accordion-header-collapsed");b.length&&(b.parent()[0].className=b.parent()[0].className);this._trigger("activate",null,a)}});d.widget("ui.menu",{version:"1.13.2",
defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-caret-1-e"},items:"> *",menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element;this.mouseHandled=!1;this.lastMousePosition={x:null,y:null};this.element.uniqueId().attr({role:this.options.role,tabIndex:0});this._addClass("ui-menu","ui-widget ui-widget-content");this._on({"mousedown .ui-menu-item":function(a){a.preventDefault();this._activateItem(a)},
"click .ui-menu-item":function(a){var b=d(a.target),c=d(d.ui.safeActiveElement(this.document[0]));!this.mouseHandled&&b.not(".ui-state-disabled").length&&(this.select(a),a.isPropagationStopped()||(this.mouseHandled=!0),b.has(".ui-menu").length?this.expand(a):!this.element.is(":focus")&&c.closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":"_activateItem","mousemove .ui-menu-item":"_activateItem",
mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(a,b){var c=this.active||this._menuItems().first();b||this.focus(a,c)},blur:function(a){this._delay(function(){d.contains(this.element[0],d.ui.safeActiveElement(this.document[0]))||this.collapseAll(a)})},keydown:"_keydown"});this.refresh();this._on(this.document,{click:function(a){this._closeOnDocumentClick(a)&&this.collapseAll(a,!0);this.mouseHandled=!1}})},_activateItem:function(a){if(!this.previousFilter&&(a.clientX!==this.lastMousePosition.x||
a.clientY!==this.lastMousePosition.y)){this.lastMousePosition={x:a.clientX,y:a.clientY};var b=d(a.target).closest(".ui-menu-item"),c=d(a.currentTarget);b[0]!==c[0]||c.is(".ui-state-active")||(this._removeClass(c.siblings().children(".ui-state-active"),null,"ui-state-active"),this.focus(a,c))}},_destroy:function(){var a=this.element.find(".ui-menu-item").removeAttr("role aria-disabled").children(".ui-menu-item-wrapper").removeUniqueId().removeAttr("tabIndex role aria-haspopup");this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeAttr("role aria-labelledby aria-expanded aria-hidden aria-disabled tabIndex").removeUniqueId().show();
a.children().each(function(){var a=d(this);a.data("ui-menu-submenu-caret")&&a.remove()})},_keydown:function(a){var b=!0;switch(a.keyCode){case d.ui.keyCode.PAGE_UP:this.previousPage(a);break;case d.ui.keyCode.PAGE_DOWN:this.nextPage(a);break;case d.ui.keyCode.HOME:this._move("first","first",a);break;case d.ui.keyCode.END:this._move("last","last",a);break;case d.ui.keyCode.UP:this.previous(a);break;case d.ui.keyCode.DOWN:this.next(a);break;case d.ui.keyCode.LEFT:this.collapse(a);break;case d.ui.keyCode.RIGHT:this.active&&
!this.active.is(".ui-state-disabled")&&this.expand(a);break;case d.ui.keyCode.ENTER:case d.ui.keyCode.SPACE:this._activate(a);break;case d.ui.keyCode.ESCAPE:this.collapse(a);break;default:b=!1;var c=this.previousFilter||"";var e=!1;var f=96<=a.keyCode&&105>=a.keyCode?(a.keyCode-96).toString():String.fromCharCode(a.keyCode);clearTimeout(this.filterTimer);f===c?e=!0:f=c+f;c=this._filterMenuItems(f);c=e&&-1!==c.index(this.active.next())?this.active.nextAll(".ui-menu-item"):c;c.length||(f=String.fromCharCode(a.keyCode),
c=this._filterMenuItems(f));c.length?(this.focus(a,c),this.previousFilter=f,this.filterTimer=this._delay(function(){delete this.previousFilter},1E3)):delete this.previousFilter}b&&a.preventDefault()},_activate:function(a){this.active&&!this.active.is(".ui-state-disabled")&&(this.active.children("[aria-haspopup='true']").length?this.expand(a):this.select(a))},refresh:function(){var a=this,b=this.options.icons.submenu;var c=this.element.find(this.options.menus);this._toggleClass("ui-menu-icons",null,
!!this.element.find(".ui-icon").length);var e=c.filter(":not(.ui-menu)").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var c=d(this),e=c.prev(),f=d("<span>").data("ui-menu-submenu-caret",!0);a._addClass(f,"ui-menu-icon","ui-icon "+b);e.attr("aria-haspopup","true").prepend(f);c.attr("aria-labelledby",e.attr("id"))});this._addClass(e,"ui-menu","ui-widget ui-widget-content ui-front");e=c.add(this.element).find(this.options.items);e.not(".ui-menu-item").each(function(){var b=
d(this);a._isDivider(b)&&a._addClass(b,"ui-menu-divider","ui-widget-content")});c=e.not(".ui-menu-item, .ui-menu-divider");var f=c.children().not(".ui-menu").uniqueId().attr({tabIndex:-1,role:this._itemRole()});this._addClass(c,"ui-menu-item")._addClass(f,"ui-menu-item-wrapper");e.filter(".ui-state-disabled").attr("aria-disabled","true");this.active&&!d.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(a,
b){if("icons"===a){var c=this.element.find(".ui-menu-icon");this._removeClass(c,null,this.options.icons.submenu)._addClass(c,null,b.submenu)}this._super(a,b)},_setOptionDisabled:function(a){this._super(a);this.element.attr("aria-disabled",String(a));this._toggleClass(null,"ui-state-disabled",!!a)},focus:function(a,b){this.blur(a,a&&"focus"===a.type);this._scrollIntoView(b);this.active=b.first();var c=this.active.children(".ui-menu-item-wrapper");this._addClass(c,null,"ui-state-active");this.options.role&&
this.element.attr("aria-activedescendant",c.attr("id"));c=this.active.parent().closest(".ui-menu-item").children(".ui-menu-item-wrapper");this._addClass(c,null,"ui-state-active");a&&"keydown"===a.type?this._close():this.timer=this._delay(function(){this._close()},this.delay);c=b.children(".ui-menu");c.length&&a&&/^mouse/.test(a.type)&&this._startOpening(c);this.activeMenu=b.parent();this._trigger("focus",a,{item:b})},_scrollIntoView:function(a){if(this._hasScroll()){var b=parseFloat(d.css(this.activeMenu[0],
"borderTopWidth"))||0;var c=parseFloat(d.css(this.activeMenu[0],"paddingTop"))||0;b=a.offset().top-this.activeMenu.offset().top-b-c;c=this.activeMenu.scrollTop();var e=this.activeMenu.height();a=a.outerHeight();0>b?this.activeMenu.scrollTop(c+b):b+a>e&&this.activeMenu.scrollTop(c+b-e+a)}},blur:function(a,b){b||clearTimeout(this.timer);this.active&&(this._removeClass(this.active.children(".ui-menu-item-wrapper"),null,"ui-state-active"),this._trigger("blur",a,{item:this.active}),this.active=null)},
_startOpening:function(a){clearTimeout(this.timer);"true"===a.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close();this._open(a)},this.delay))},_open:function(a){var b=d.extend({of:this.active},this.options.position);clearTimeout(this.timer);this.element.find(".ui-menu").not(a.parents(".ui-menu")).hide().attr("aria-hidden","true");a.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(b)},collapseAll:function(a,b){clearTimeout(this.timer);this.timer=this._delay(function(){var c=
b?this.element:d(a&&a.target).closest(this.element.find(".ui-menu"));c.length||(c=this.element);this._close(c);this.blur(a);this._removeClass(c.find(".ui-state-active"),null,"ui-state-active");this.activeMenu=c},b?0:this.delay)},_close:function(a){a||(a=this.active?this.active.parent():this.element);a.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false")},_closeOnDocumentClick:function(a){return!d(a.target).closest(".ui-menu").length},_isDivider:function(a){return!/[^\-\u2014\u2013\s]/.test(a.text())},
collapse:function(a){var b=this.active&&this.active.parent().closest(".ui-menu-item",this.element);b&&b.length&&(this._close(),this.focus(a,b))},expand:function(a){var b=this.active&&this._menuItems(this.active.children(".ui-menu")).first();b&&b.length&&(this._open(b.parent()),this._delay(function(){this.focus(a,b)}))},next:function(a){this._move("next","first",a)},previous:function(a){this._move("prev","last",a)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},
isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_menuItems:function(a){return(a||this.element).find(this.options.items).filter(".ui-menu-item")},_move:function(a,b,c){var d;this.active&&(d="first"===a||"last"===a?this.active["first"===a?"prevAll":"nextAll"](".ui-menu-item").last():this.active[a+"All"](".ui-menu-item").first());d&&d.length&&this.active||(d=this._menuItems(this.activeMenu)[b]());this.focus(c,d)},nextPage:function(a){var b;if(!this.active)this.next(a);
else if(!this.isLastItem())if(this._hasScroll()){var c=this.active.offset().top;var e=this.element.innerHeight();0===d.fn.jquery.indexOf("3.2.")&&(e+=this.element[0].offsetHeight-this.element.outerHeight());this.active.nextAll(".ui-menu-item").each(function(){b=d(this);return 0>b.offset().top-c-e});this.focus(a,b)}else this.focus(a,this._menuItems(this.activeMenu)[this.active?"last":"first"]())},previousPage:function(a){var b;if(!this.active)this.next(a);else if(!this.isFirstItem())if(this._hasScroll()){var c=
this.active.offset().top;var e=this.element.innerHeight();0===d.fn.jquery.indexOf("3.2.")&&(e+=this.element[0].offsetHeight-this.element.outerHeight());this.active.prevAll(".ui-menu-item").each(function(){b=d(this);return 0<b.offset().top-c+e});this.focus(a,b)}else this.focus(a,this._menuItems(this.activeMenu).first())},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(a){this.active=this.active||d(a.target).closest(".ui-menu-item");var b={item:this.active};
this.active.has(".ui-menu").length||this.collapseAll(a,!0);this._trigger("select",a,b)},_filterMenuItems:function(a){a=a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");var b=new RegExp("^"+a,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return b.test(String.prototype.trim.call(d(this).children(".ui-menu-item-wrapper").text()))})}});d.widget("ui.autocomplete",{version:"1.13.2",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,
position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,liveRegionTimer:null,_create:function(){var a,b,c,e=this.element[0].nodeName.toLowerCase(),f="textarea"===e;e="input"===e;this.isMultiLine=f||!e&&this._isContentEditable(this.element);this.valueMethod=this.element[f||e?"val":"text"];this.isNewMenu=!0;this._addClass("ui-autocomplete-input");this.element.attr("autocomplete",
"off");this._on(this.element,{keydown:function(e){if(this.element.prop("readOnly"))b=c=a=!0;else{b=c=a=!1;var f=d.ui.keyCode;switch(e.keyCode){case f.PAGE_UP:a=!0;this._move("previousPage",e);break;case f.PAGE_DOWN:a=!0;this._move("nextPage",e);break;case f.UP:a=!0;this._keyEvent("previous",e);break;case f.DOWN:a=!0;this._keyEvent("next",e);break;case f.ENTER:this.menu.active&&(a=!0,e.preventDefault(),this.menu.select(e));break;case f.TAB:this.menu.active&&this.menu.select(e);break;case f.ESCAPE:this.menu.element.is(":visible")&&
(this.isMultiLine||this._value(this.term),this.close(e),e.preventDefault());break;default:b=!0,this._searchTimeout(e)}}},keypress:function(c){if(a)a=!1,this.isMultiLine&&!this.menu.element.is(":visible")||c.preventDefault();else if(!b){var e=d.ui.keyCode;switch(c.keyCode){case e.PAGE_UP:this._move("previousPage",c);break;case e.PAGE_DOWN:this._move("nextPage",c);break;case e.UP:this._keyEvent("previous",c);break;case e.DOWN:this._keyEvent("next",c)}}},input:function(a){c?(c=!1,a.preventDefault()):
this._searchTimeout(a)},focus:function(){this.selectedItem=null;this.previous=this._value()},blur:function(a){clearTimeout(this.searching);this.close(a);this._change(a)}});this._initSource();this.menu=d("<ul>").appendTo(this._appendTo()).menu({role:null}).hide().attr({unselectable:"on"}).menu("instance");this._addClass(this.menu.element,"ui-autocomplete","ui-front");this._on(this.menu.element,{mousedown:function(a){a.preventDefault()},menufocus:function(a,b){var c;if(this.isNewMenu&&(this.isNewMenu=
!1,a.originalEvent&&/^mouse/.test(a.originalEvent.type))){this.menu.blur();this.document.one("mousemove",function(){d(a.target).trigger(a.originalEvent)});return}var e=b.item.data("ui-autocomplete-item");!1!==this._trigger("focus",a,{item:e})&&a.originalEvent&&/^key/.test(a.originalEvent.type)&&this._value(e.value);(c=b.item.attr("aria-label")||e.value)&&String.prototype.trim.call(c).length&&(clearTimeout(this.liveRegionTimer),this.liveRegionTimer=this._delay(function(){this.liveRegion.html(d("<div>").text(c))},
100))},menuselect:function(a,b){var c=b.item.data("ui-autocomplete-item"),e=this.previous;this.element[0]!==d.ui.safeActiveElement(this.document[0])&&(this.element.trigger("focus"),this.previous=e,this._delay(function(){this.previous=e;this.selectedItem=c}));!1!==this._trigger("select",a,{item:c})&&this._value(c.value);this.term=this._value();this.close(a);this.selectedItem=c}});this.liveRegion=d("<div>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body);
this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible");this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching);this.element.removeAttr("autocomplete");this.menu.element.remove();this.liveRegion.remove()},_setOption:function(a,b){this._super(a,b);"source"===a&&this._initSource();"appendTo"===a&&this.menu.element.appendTo(this._appendTo());"disabled"===a&&b&&this.xhr&&this.xhr.abort()},_isEventTargetInWidget:function(a){var b=
this.menu.element[0];return a.target===this.element[0]||a.target===b||d.contains(b,a.target)},_closeOnClickOutside:function(a){this._isEventTargetInWidget(a)||this.close()},_appendTo:function(){var a=this.options.appendTo;a&&(a=a.jquery||a.nodeType?d(a):this.document.find(a).eq(0));a&&a[0]||(a=this.element.closest(".ui-front, dialog"));a.length||(a=this.document[0].body);return a},_initSource:function(){var a=this;if(Array.isArray(this.options.source)){var b=this.options.source;this.source=function(a,
c){c(d.ui.autocomplete.filter(b,a.term))}}else if("string"===typeof this.options.source){var c=this.options.source;this.source=function(b,f){a.xhr&&a.xhr.abort();a.xhr=d.ajax({url:c,data:b,dataType:"json",success:function(a){f(a)},error:function(){f([])}})}}else this.source=this.options.source},_searchTimeout:function(a){clearTimeout(this.searching);this.searching=this._delay(function(){var b=this.term===this._value(),c=this.menu.element.is(":visible"),d=a.altKey||a.ctrlKey||a.metaKey||a.shiftKey;
if(!b||b&&!c&&!d)this.selectedItem=null,this.search(null,a)},this.options.delay)},search:function(a,b){a=null!=a?a:this._value();this.term=this._value();if(a.length<this.options.minLength)return this.close(b);if(!1!==this._trigger("search",b))return this._search(a)},_search:function(a){this.pending++;this._addClass("ui-autocomplete-loading");this.cancelSearch=!1;this.source({term:a},this._response())},_response:function(){var a=++this.requestIndex;return function(b){a===this.requestIndex&&this.__response(b);
this.pending--;this.pending||this._removeClass("ui-autocomplete-loading")}.bind(this)},__response:function(a){a&&(a=this._normalize(a));this._trigger("response",null,{content:a});!this.options.disabled&&a&&a.length&&!this.cancelSearch?(this._suggest(a),this._trigger("open")):this._close()},close:function(a){this.cancelSearch=!0;this._close(a)},_close:function(a){this._off(this.document,"mousedown");this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",
a))},_change:function(a){this.previous!==this._value()&&this._trigger("change",a,{item:this.selectedItem})},_normalize:function(a){return a.length&&a[0].label&&a[0].value?a:d.map(a,function(a){return"string"===typeof a?{label:a,value:a}:d.extend({},a,{label:a.label||a.value,value:a.value||a.label})})},_suggest:function(a){var b=this.menu.element.empty();this._renderMenu(b,a);this.isNewMenu=!0;this.menu.refresh();b.show();this._resizeMenu();b.position(d.extend({of:this.element},this.options.position));
this.options.autoFocus&&this.menu.next();this._on(this.document,{mousedown:"_closeOnClickOutside"})},_resizeMenu:function(){var a=this.menu.element;a.outerWidth(Math.max(a.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(a,b){var c=this;d.each(b,function(b,d){c._renderItemData(a,d)})},_renderItemData:function(a,b){return this._renderItem(a,b).data("ui-autocomplete-item",b)},_renderItem:function(a,b){return d("<li>").append(d("<div>").text(b.label)).appendTo(a)},_move:function(a,
b){if(this.menu.element.is(":visible"))if(this.menu.isFirstItem()&&/^previous/.test(a)||this.menu.isLastItem()&&/^next/.test(a))this.isMultiLine||this._value(this.term),this.menu.blur();else this.menu[a](b);else this.search(null,b)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(a,b){if(!this.isMultiLine||this.menu.element.is(":visible"))this._move(a,b),b.preventDefault()},_isContentEditable:function(a){if(!a.length)return!1;
var b=a.prop("contentEditable");return"inherit"===b?this._isContentEditable(a.parent()):"true"===b}});d.extend(d.ui.autocomplete,{escapeRegex:function(a){return a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(a,b){var c=new RegExp(d.ui.autocomplete.escapeRegex(b),"i");return d.grep(a,function(a){return c.test(a.label||a.value||a)})}});d.widget("ui.autocomplete",d.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(a){return a+(1<a?" results are":" result is")+
" available, use up and down arrow keys to navigate."}}},__response:function(a){this._superApply(arguments);if(!this.options.disabled&&!this.cancelSearch){var b=a&&a.length?this.options.messages.results(a.length):this.options.messages.noResults;clearTimeout(this.liveRegionTimer);this.liveRegionTimer=this._delay(function(){this.liveRegion.html(d("<div>").text(b))},100)}}});var G=/ui-corner-([a-z]){2,6}/g;d.widget("ui.controlgroup",{version:"1.13.2",defaultElement:"<div>",options:{direction:"horizontal",
disabled:null,onlyVisible:!0,items:{button:"input[type=button], input[type=submit], input[type=reset], button, a",controlgroupLabel:".ui-controlgroup-label",checkboxradio:"input[type='checkbox'], input[type='radio']",selectmenu:"select",spinner:".ui-spinner-input"}},_create:function(){this._enhance()},_enhance:function(){this.element.attr("role","toolbar");this.refresh()},_destroy:function(){this._callChildMethod("destroy");this.childWidgets.removeData("ui-controlgroup-data");this.element.removeAttr("role");
this.options.items.controlgroupLabel&&this.element.find(this.options.items.controlgroupLabel).find(".ui-controlgroup-label-contents").contents().unwrap()},_initWidgets:function(){var a=this,b=[];d.each(this.options.items,function(c,e){var f={};e&&("controlgroupLabel"===c?(e=a.element.find(e),e.each(function(){var a=d(this);a.children(".ui-controlgroup-label-contents").length||a.contents().wrapAll("<span class='ui-controlgroup-label-contents'></span>")}),a._addClass(e,null,"ui-widget ui-widget-content ui-state-default"),
b=b.concat(e.get())):d.fn[c]&&(f=a["_"+c+"Options"]?a["_"+c+"Options"]("middle"):{classes:{}},a.element.find(e).each(function(){var e=d(this),h=e[c]("instance"),k=d.widget.extend({},f);"button"===c&&e.parent(".ui-spinner").length||(h||(h=e[c]()[c]("instance")),h&&(k.classes=a._resolveClassesValues(k.classes,h)),e[c](k),k=e[c]("widget"),d.data(k[0],"ui-controlgroup-data",h?h:e[c]("instance")),b.push(k[0]))})))});this.childWidgets=d(d.uniqueSort(b));this._addClass(this.childWidgets,"ui-controlgroup-item")},
_callChildMethod:function(a){this.childWidgets.each(function(){var b=d(this).data("ui-controlgroup-data");if(b&&b[a])b[a]()})},_updateCornerClass:function(a,b){b=this._buildSimpleOptions(b,"label").classes.label;this._removeClass(a,null,"ui-corner-top ui-corner-bottom ui-corner-left ui-corner-right ui-corner-all");this._addClass(a,null,b)},_buildSimpleOptions:function(a,b){var c="vertical"===this.options.direction,d={classes:{}};d.classes[b]={middle:"",first:"ui-corner-"+(c?"top":"left"),last:"ui-corner-"+
(c?"bottom":"right"),only:"ui-corner-all"}[a];return d},_spinnerOptions:function(a){a=this._buildSimpleOptions(a,"ui-spinner");a.classes["ui-spinner-up"]="";a.classes["ui-spinner-down"]="";return a},_buttonOptions:function(a){return this._buildSimpleOptions(a,"ui-button")},_checkboxradioOptions:function(a){return this._buildSimpleOptions(a,"ui-checkboxradio-label")},_selectmenuOptions:function(a){var b="vertical"===this.options.direction;return{width:b?"auto":!1,classes:{middle:{"ui-selectmenu-button-open":"",
"ui-selectmenu-button-closed":""},first:{"ui-selectmenu-button-open":"ui-corner-"+(b?"top":"tl"),"ui-selectmenu-button-closed":"ui-corner-"+(b?"top":"left")},last:{"ui-selectmenu-button-open":b?"":"ui-corner-tr","ui-selectmenu-button-closed":"ui-corner-"+(b?"bottom":"right")},only:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"}}[a]}},_resolveClassesValues:function(a,b){var c={};d.each(a,function(d){var e=b.options.classes[d]||"";e=String.prototype.trim.call(e.replace(G,
""));c[d]=(e+" "+a[d]).replace(/\s+/g," ")});return c},_setOption:function(a,b){"direction"===a&&this._removeClass("ui-controlgroup-"+this.options.direction);this._super(a,b);"disabled"===a?this._callChildMethod(b?"disable":"enable"):this.refresh()},refresh:function(){var a=this;this._addClass("ui-controlgroup ui-controlgroup-"+this.options.direction);"horizontal"===this.options.direction&&this._addClass(null,"ui-helper-clearfix");this._initWidgets();var b=this.childWidgets;this.options.onlyVisible&&
(b=b.filter(":visible"));b.length&&(d.each(["first","last"],function(c,d){(c=b[d]().data("ui-controlgroup-data"))&&a["_"+c.widgetName+"Options"]?(d=a["_"+c.widgetName+"Options"](1===b.length?"only":d),d.classes=a._resolveClassesValues(d.classes,c),c.element[c.widgetName](d)):a._updateCornerClass(b[d](),d)}),this._callChildMethod("refresh"))}});d.widget("ui.checkboxradio",[d.ui.formResetMixin,{version:"1.13.2",options:{disabled:null,label:null,icon:!0,classes:{"ui-checkboxradio-label":"ui-corner-all",
"ui-checkboxradio-icon":"ui-corner-all"}},_getCreateOptions:function(){var a=this._super()||{};this._readType();var b=this.element.labels();this.label=d(b[b.length-1]);this.label.length||d.error("No label found for checkboxradio widget");this.originalLabel="";b=this.label.contents().not(this.element[0]);b.length&&(this.originalLabel+=b.clone().wrapAll("<div></div>").parent().html());this.originalLabel&&(a.label=this.originalLabel);b=this.element[0].disabled;null!=b&&(a.disabled=b);return a},_create:function(){var a=
this.element[0].checked;this._bindFormResetHandler();null==this.options.disabled&&(this.options.disabled=this.element[0].disabled);this._setOption("disabled",this.options.disabled);this._addClass("ui-checkboxradio","ui-helper-hidden-accessible");this._addClass(this.label,"ui-checkboxradio-label","ui-button ui-widget");"radio"===this.type&&this._addClass(this.label,"ui-checkboxradio-radio-label");this.options.label&&this.options.label!==this.originalLabel?this._updateLabel():this.originalLabel&&(this.options.label=
this.originalLabel);this._enhance();a&&this._addClass(this.label,"ui-checkboxradio-checked","ui-state-active");this._on({change:"_toggleClasses",focus:function(){this._addClass(this.label,null,"ui-state-focus ui-visual-focus")},blur:function(){this._removeClass(this.label,null,"ui-state-focus ui-visual-focus")}})},_readType:function(){var a=this.element[0].nodeName.toLowerCase();this.type=this.element[0].type;"input"===a&&/radio|checkbox/.test(this.type)||d.error("Can't create checkboxradio on element.nodeName="+
a+" and element.type="+this.type)},_enhance:function(){this._updateIcon(this.element[0].checked)},widget:function(){return this.label},_getRadioGroup:function(){var a=this.element[0].name,b="input[name='"+d.escapeSelector(a)+"']";return a?(this.form.length?d(this.form[0].elements).filter(b):d(b).filter(function(){return 0===d(this)._form().length})).not(this.element):d([])},_toggleClasses:function(){var a=this.element[0].checked;this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",
a);this.options.icon&&"checkbox"===this.type&&this._toggleClass(this.icon,null,"ui-icon-check ui-state-checked",a)._toggleClass(this.icon,null,"ui-icon-blank",!a);"radio"===this.type&&this._getRadioGroup().each(function(){var a=d(this).checkboxradio("instance");a&&a._removeClass(a.label,"ui-checkboxradio-checked","ui-state-active")})},_destroy:function(){this._unbindFormResetHandler();this.icon&&(this.icon.remove(),this.iconSpace.remove())},_setOption:function(a,b){if("label"!==a||b)this._super(a,
b),"disabled"===a?(this._toggleClass(this.label,null,"ui-state-disabled",b),this.element[0].disabled=b):this.refresh()},_updateIcon:function(a){var b="ui-icon ui-icon-background ";this.options.icon?(this.icon||(this.icon=d("<span>"),this.iconSpace=d("<span> </span>"),this._addClass(this.iconSpace,"ui-checkboxradio-icon-space")),"checkbox"===this.type?(b+=a?"ui-icon-check ui-state-checked":"ui-icon-blank",this._removeClass(this.icon,null,a?"ui-icon-blank":"ui-icon-check")):b+="ui-icon-blank",this._addClass(this.icon,
"ui-checkboxradio-icon",b),a||this._removeClass(this.icon,null,"ui-icon-check ui-state-checked"),this.icon.prependTo(this.label).after(this.iconSpace)):void 0!==this.icon&&(this.icon.remove(),this.iconSpace.remove(),delete this.icon)},_updateLabel:function(){var a=this.label.contents().not(this.element[0]);this.icon&&(a=a.not(this.icon[0]));this.iconSpace&&(a=a.not(this.iconSpace[0]));a.remove();this.label.append(this.options.label)},refresh:function(){var a=this.element[0].checked,b=this.element[0].disabled;
this._updateIcon(a);this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",a);null!==this.options.label&&this._updateLabel();b!==this.options.disabled&&this._setOptions({disabled:b})}}]);d.widget("ui.button",{version:"1.13.2",defaultElement:"<button>",options:{classes:{"ui-button":"ui-corner-all"},disabled:null,icon:null,iconPosition:"beginning",label:null,showLabel:!0},_getCreateOptions:function(){var a=this._super()||{};this.isInput=this.element.is("input");var b=this.element[0].disabled;
null!=b&&(a.disabled=b);if(this.originalLabel=this.isInput?this.element.val():this.element.html())a.label=this.originalLabel;return a},_create:function(){!this.option.showLabel&!this.options.icon&&(this.options.showLabel=!0);null==this.options.disabled&&(this.options.disabled=this.element[0].disabled||!1);this.hasTitle=!!this.element.attr("title");this.options.label&&this.options.label!==this.originalLabel&&(this.isInput?this.element.val(this.options.label):this.element.html(this.options.label));
this._addClass("ui-button","ui-widget");this._setOption("disabled",this.options.disabled);this._enhance();this.element.is("a")&&this._on({keyup:function(a){a.keyCode===d.ui.keyCode.SPACE&&(a.preventDefault(),this.element[0].click?this.element[0].click():this.element.trigger("click"))}})},_enhance:function(){this.element.is("button")||this.element.attr("role","button");this.options.icon&&(this._updateIcon("icon",this.options.icon),this._updateTooltip())},_updateTooltip:function(){this.title=this.element.attr("title");
this.options.showLabel||this.title||this.element.attr("title",this.options.label)},_updateIcon:function(a,b){var c=(a="iconPosition"!==a)?this.options.iconPosition:b,e="top"===c||"bottom"===c;this.icon?a&&this._removeClass(this.icon,null,this.options.icon):(this.icon=d("<span>"),this._addClass(this.icon,"ui-button-icon","ui-icon"),this.options.showLabel||this._addClass("ui-button-icon-only"));a&&this._addClass(this.icon,null,b);this._attachIcon(c);e?(this._addClass(this.icon,null,"ui-widget-icon-block"),
this.iconSpace&&this.iconSpace.remove()):(this.iconSpace||(this.iconSpace=d("<span> </span>"),this._addClass(this.iconSpace,"ui-button-icon-space")),this._removeClass(this.icon,null,"ui-wiget-icon-block"),this._attachIconSpace(c))},_destroy:function(){this.element.removeAttr("role");this.icon&&this.icon.remove();this.iconSpace&&this.iconSpace.remove();this.hasTitle||this.element.removeAttr("title")},_attachIconSpace:function(a){this.icon[/^(?:end|bottom)/.test(a)?"before":"after"](this.iconSpace)},
_attachIcon:function(a){this.element[/^(?:end|bottom)/.test(a)?"append":"prepend"](this.icon)},_setOptions:function(a){var b=void 0===a.icon?this.options.icon:a.icon;(void 0===a.showLabel?this.options.showLabel:a.showLabel)||b||(a.showLabel=!0);this._super(a)},_setOption:function(a,b){"icon"===a&&(b?this._updateIcon(a,b):this.icon&&(this.icon.remove(),this.iconSpace&&this.iconSpace.remove()));"iconPosition"===a&&this._updateIcon(a,b);"showLabel"===a&&(this._toggleClass("ui-button-icon-only",null,
!b),this._updateTooltip());"label"===a&&(this.isInput?this.element.val(b):(this.element.html(b),this.icon&&(this._attachIcon(this.options.iconPosition),this._attachIconSpace(this.options.iconPosition))));this._super(a,b);"disabled"===a&&(this._toggleClass(null,"ui-state-disabled",b),(this.element[0].disabled=b)&&this.element.trigger("blur"))},refresh:function(){var a=this.element.is("input, button")?this.element[0].disabled:this.element.hasClass("ui-button-disabled");a!==this.options.disabled&&this._setOptions({disabled:a});
this._updateTooltip()}});!1!==d.uiBackCompat&&(d.widget("ui.button",d.ui.button,{options:{text:!0,icons:{primary:null,secondary:null}},_create:function(){this.options.showLabel&&!this.options.text&&(this.options.showLabel=this.options.text);!this.options.showLabel&&this.options.text&&(this.options.text=this.options.showLabel);this.options.icon||!this.options.icons.primary&&!this.options.icons.secondary?this.options.icon&&(this.options.icons.primary=this.options.icon):this.options.icons.primary?this.options.icon=
this.options.icons.primary:(this.options.icon=this.options.icons.secondary,this.options.iconPosition="end");this._super()},_setOption:function(a,b){"text"===a?this._super("showLabel",b):("showLabel"===a&&(this.options.text=b),"icon"===a&&(this.options.icons.primary=b),"icons"===a&&(b.primary?(this._super("icon",b.primary),this._super("iconPosition","beginning")):b.secondary&&(this._super("icon",b.secondary),this._super("iconPosition","end"))),this._superApply(arguments))}}),d.fn.button=function(a){return function(b){var c=
"string"===typeof b,e=Array.prototype.slice.call(arguments,1),f=this;c?this.length||"instance"!==b?this.each(function(){var a=d(this).attr("type");var c=d.data(this,"ui-"+("checkbox"!==a&&"radio"!==a?"button":"checkboxradio"));if("instance"===b)return f=c,!1;if(!c)return d.error("cannot call methods on button prior to initialization; attempted to call method '"+b+"'");if("function"!==typeof c[b]||"_"===b.charAt(0))return d.error("no such method '"+b+"' for button widget instance");a=c[b].apply(c,
e);if(a!==c&&void 0!==a)return f=a&&a.jquery?f.pushStack(a.get()):a,!1}):f=void 0:(e.length&&(b=d.widget.extend.apply(null,[b].concat(e))),this.each(function(){var c=d(this).attr("type");c="checkbox"!==c&&"radio"!==c?"button":"checkboxradio";var e=d.data(this,"ui-"+c);e?(e.option(b||{}),e._init&&e._init()):"button"===c?a.call(d(this),b):d(this).checkboxradio(d.extend({icon:!1},b))}));return f}}(d.fn.button),d.fn.buttonset=function(){d.ui.controlgroup||d.error("Controlgroup widget missing");if("option"===
arguments[0]&&"items"===arguments[1]&&arguments[2])return this.controlgroup.apply(this,[arguments[0],"items.button",arguments[2]]);if("option"===arguments[0]&&"items"===arguments[1])return this.controlgroup.apply(this,[arguments[0],"items.button"]);"object"===typeof arguments[0]&&arguments[0].items&&(arguments[0].items={button:arguments[0].items});return this.controlgroup.apply(this,arguments)});d.widget("ui.dialog",{version:"1.13.2",options:{appendTo:"body",autoOpen:!0,buttons:[],classes:{"ui-dialog":"ui-corner-all",
"ui-dialog-titlebar":"ui-corner-all"},closeOnEscape:!0,closeText:"Close",showCloseButton:!0,showTitleBar:!0,draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(a){var b=d(this).css(a).offset().top;0>b&&d(this).css("top",a.top-b)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,
resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height};this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)};
this.originalTitle=this.element.attr("title");null==this.options.title&&null!=this.originalTitle&&(this.options.title=this.originalTitle);this.options.disabled&&(this.options.disabled=!1);this._createWrapper();this.element.show().removeAttr("title").appendTo(this.uiDialog);this._addClass("ui-dialog-content","ui-widget-content");this._createTitlebar();this._createButtonPane();this.options.draggable&&d.fn.draggable&&this._makeDraggable();this.options.resizable&&d.fn.resizable&&this._makeResizable();
this._isOpen=!1;this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var a=this.options.appendTo;return a&&(a.jquery||a.nodeType)?d(a):this.document.find(a||"body").eq(0)},_destroy:function(){var a=this.originalPosition;this._untrackInstance();this._destroyOverlay();this.element.removeUniqueId().css(this.originalCss).detach();this.uiDialog.remove();this.originalTitle&&this.element.attr("title",this.originalTitle);var b=a.parent.children().eq(a.index);b.length&&
b[0]!==this.element[0]?b.before(this.element):a.parent.append(this.element)},widget:function(){return this.uiDialog},disable:d.noop,enable:d.noop,close:function(a){var b=this;this._isOpen&&!1!==this._trigger("beforeClose",a)&&(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),this.opener.filter(":focusable").trigger("focus").length||d.ui.safeBlur(d.ui.safeActiveElement(this.document[0])),this._hide(this.uiDialog,this.options.hide,function(){b._trigger("close",
a)}))},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(a,b){var c=!1,e=this.uiDialog.siblings(".ui-front:visible").map(function(){return+d(this).css("z-index")}).get();e=Math.max.apply(null,e);e>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",e+1),c=!0);c&&!b&&this._trigger("focus",a);return c},open:function(){var a=this;this._isOpen?this._moveToTop()&&this._focusTabbable():(this._isOpen=!0,this.opener=d(d.ui.safeActiveElement(this.document[0])),
this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){a._focusTabbable();a._trigger("focus")}),this._makeFocusTarget(),this._trigger("open"))},_focusTabbable:function(){var a=this._focusedElement;a||(a=this.element.find("[autofocus]"));a.length||(a=this.element.find(":tabbable"));a.length||(a=this.uiDialogButtonPane.find(":tabbable"));a.length||(a=this.uiDialogTitlebarClose.filter(":tabbable"));
a.length||(a=this.uiDialog);a.eq(0).trigger("focus")},_restoreTabbableFocus:function(){var a=d.ui.safeActiveElement(this.document[0]);this.uiDialog[0]===a||d.contains(this.uiDialog[0],a)||this._focusTabbable()},_keepFocus:function(a){a.preventDefault();this._restoreTabbableFocus();this._delay(this._restoreTabbableFocus)},_createWrapper:function(){this.uiDialog=d("<div>").hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo());this._addClass(this.uiDialog,"ui-dialog","ui-widget ui-widget-content ui-front");
this._on(this.uiDialog,{keydown:function(a){if(this.options.closeOnEscape&&!a.isDefaultPrevented()&&a.keyCode&&a.keyCode===d.ui.keyCode.ESCAPE)a.preventDefault(),this.close(a);else if(a.keyCode===d.ui.keyCode.TAB&&!a.isDefaultPrevented()){var b=this.uiDialog.find(":tabbable"),c=b.first(),e=b.last();a.target!==e[0]&&a.target!==this.uiDialog[0]||a.shiftKey?a.target!==c[0]&&a.target!==this.uiDialog[0]||!a.shiftKey||(this._delay(function(){e.trigger("focus")}),a.preventDefault()):(this._delay(function(){c.trigger("focus")}),
a.preventDefault())}},mousedown:function(a){this._moveToTop(a)&&this._focusTabbable()}});this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){this.uiDialogTitlebar=d("<div>");this._addClass(this.uiDialogTitlebar,"ui-dialog-titlebar","ui-widget-header ui-helper-clearfix"+(this.options.showTitleBar?"":" ui-helper-hidden"));this._on(this.uiDialogTitlebar,{mousedown:function(a){d(a.target).closest(".ui-dialog-titlebar-close")||
this.uiDialog.trigger("focus")}});this.uiDialogTitlebarClose=d("<button type='button'></button>").button({label:d("<a>").text(this.options.closeText).html(),icon:"ui-icon-closethick",showLabel:!1}).appendTo(this.uiDialogTitlebar);this._addClass(this.uiDialogTitlebarClose,"ui-dialog-titlebar-close"+(this.options.showCloseButton?"":" ui-helper-hidden"));this._on(this.uiDialogTitlebarClose,{click:function(a){a.preventDefault();this.close(a)}});var a=d("<span>").uniqueId().prependTo(this.uiDialogTitlebar);
this._addClass(a,"ui-dialog-title");this._title(a);this.uiDialogTitlebar.prependTo(this.uiDialog);this.uiDialog.attr({"aria-labelledby":a.attr("id")})},_title:function(a){this.options.title?a.text(this.options.title):a.html("&#160;")},_createButtonPane:function(){this.uiDialogButtonPane=d("<div>");this._addClass(this.uiDialogButtonPane,"ui-dialog-buttonpane","ui-widget-content ui-helper-clearfix");this.uiButtonSet=d("<div>").appendTo(this.uiDialogButtonPane);this._addClass(this.uiButtonSet,"ui-dialog-buttonset");
this._createButtons()},_createButtons:function(){var a=this,b=this.options.buttons;this.uiDialogButtonPane.remove();this.uiButtonSet.empty();d.isEmptyObject(b)||Array.isArray(b)&&!b.length?this._removeClass(this.uiDialog,"ui-dialog-buttons"):(d.each(b,function(b,e){e="function"===typeof e?{click:e,text:b}:e;e=d.extend({type:"button"},e);var c=e.click;b={icon:e.icon,iconPosition:e.iconPosition,showLabel:e.showLabel,icons:e.icons,text:e.text};delete e.click;delete e.icon;delete e.iconPosition;delete e.showLabel;
delete e.icons;"boolean"===typeof e.text&&delete e.text;d("<button></button>",e).button(b).appendTo(a.uiButtonSet).on("click",function(){c.apply(a.element[0],arguments)})}),this._addClass(this.uiDialog,"ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){function a(a){return{position:a.position,offset:a.offset}}var b=this,c=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",
start:function(c,f){b._addClass(d(this),"ui-dialog-dragging");b._blockFrames();b._trigger("dragStart",c,a(f))},drag:function(c,d){b._trigger("drag",c,a(d))},stop:function(e,f){var g=f.offset.left-b.document.scrollLeft(),h=f.offset.top-b.document.scrollTop();c.position={my:"left top",at:"left"+(0<=g?"+":"")+g+" top"+(0<=h?"+":"")+h,of:b.window};b._removeClass(d(this),"ui-dialog-dragging");b._unblockFrames();b._trigger("dragStop",e,a(f))}})},_makeResizable:function(){function a(a){return{originalPosition:a.originalPosition,
originalSize:a.originalSize,position:a.position,size:a.size}}var b=this,c=this.options,e=c.resizable,f=this.uiDialog.css("position");e="string"===typeof e?e:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:c.maxWidth,maxHeight:c.maxHeight,minWidth:c.minWidth,minHeight:this._minHeight(),handles:e,start:function(c,e){b._addClass(d(this),"ui-dialog-resizing");b._blockFrames();b._trigger("resizeStart",c,a(e))},resize:function(c,
d){b._trigger("resize",c,a(d))},stop:function(e,f){var g=b.uiDialog.offset(),h=g.left-b.document.scrollLeft();g=g.top-b.document.scrollTop();c.height=b.uiDialog.height();c.width=b.uiDialog.width();c.position={my:"left top",at:"left"+(0<=h?"+":"")+h+" top"+(0<=g?"+":"")+g,of:b.window};b._removeClass(d(this),"ui-dialog-resizing");b._unblockFrames();b._trigger("resizeStop",e,a(f))}}).css("position",f)},_trackFocus:function(){this._on(this.widget(),{focusin:function(a){this._makeFocusTarget();this._focusedElement=
d(a.target)}})},_makeFocusTarget:function(){this._untrackInstance();this._trackingInstances().unshift(this)},_untrackInstance:function(){var a=this._trackingInstances(),b=d.inArray(this,a);-1!==b&&a.splice(b,1)},_trackingInstances:function(){var a=this.document.data("ui-dialog-instances");a||(a=[],this.document.data("ui-dialog-instances",a));return a},_minHeight:function(){var a=this.options;return"auto"===a.height?a.minHeight:Math.min(a.minHeight,a.height)},_position:function(){var a=this.uiDialog.is(":visible");
a||this.uiDialog.show();this.uiDialog.position(this.options.position);a||this.uiDialog.hide()},_setOptions:function(a){var b=this,c=!1,e={};d.each(a,function(a,d){b._setOption(a,d);a in b.sizeRelatedOptions&&(c=!0);a in b.resizableRelatedOptions&&(e[a]=d)});c&&(this._size(),this._position());this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",e)},_setOption:function(a,b){var c,e=this.uiDialog;"disabled"!==a&&(this._super(a,b),"appendTo"===a&&this.uiDialog.appendTo(this._appendTo()),
"buttons"===a&&this._createButtons(),"closeText"===a&&this.uiDialogTitlebarClose.button({label:d("<a>").text(""+this.options.closeText).html()}),"showCloseButton"===a&&this._toggleClass(this.uiDialogTitlebar.find(".ui-dialog-titlebar-close"),null,"ui-helper-hidden",!b),"showTitleBar"===a&&this._toggleClass(this.uiDialogTitlebar,null,"ui-helper-hidden",!b),"draggable"===a&&((c=e.is(":data(ui-draggable)"))&&!b&&e.draggable("destroy"),!c&&b&&this._makeDraggable()),"position"===a&&this._position(),"resizable"===
a&&((c=e.is(":data(ui-resizable)"))&&!b&&e.resizable("destroy"),c&&"string"===typeof b&&e.resizable("option","handles",b),c||!1===b||this._makeResizable()),"title"===a&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var a=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0});a.minWidth>a.width&&(a.width=a.minWidth);var b=this.uiDialog.css({height:"auto",width:a.width}).outerHeight();var c=Math.max(0,a.minHeight-b);var d="number"===
typeof a.maxHeight?Math.max(0,a.maxHeight-b):"none";"auto"===a.height?this.element.css({minHeight:c,maxHeight:d,height:"auto"}):this.element.height(Math.max(0,a.height-b));this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var a=d(this);return d("<div>").css({position:"absolute",width:a.outerWidth(),height:a.outerHeight()}).appendTo(a.parent()).offset(a.offset())[0]})},
_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(a){return d(a.target).closest(".ui-dialog").length?!0:!!d(a.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var a=d.fn.jquery.substring(0,4),b=!0;this._delay(function(){b=!1});if(!this.document.data("ui-dialog-overlays"))this.document.on("focusin.ui-dialog",function(c){if(!b){var d=this._trackingInstances()[0];d._allowInteraction(c)||
(c.preventDefault(),d._focusTabbable(),"3.4."!==a&&"3.5."!==a||d._delay(d._restoreTabbableFocus))}}.bind(this));this.overlay=d("<div>").appendTo(this._appendTo());this._addClass(this.overlay,null,"ui-widget-overlay ui-front");this._on(this.overlay,{mousedown:"_keepFocus"});this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var a=this.document.data("ui-dialog-overlays")-1;a?this.document.data("ui-dialog-overlays",
a):(this.document.off("focusin.ui-dialog"),this.document.removeData("ui-dialog-overlays"));this.overlay.remove();this.overlay=null}}});!1!==d.uiBackCompat&&d.widget("ui.dialog",d.ui.dialog,{options:{dialogClass:""},_createWrapper:function(){this._super();this.uiDialog.addClass(this.options.dialogClass)},_setOption:function(a,b){"dialogClass"===a&&this.uiDialog.removeClass(this.options.dialogClass).addClass(b);this._superApply(arguments)}});d.widget("ui.slider",d.ui.mouse,{version:"1.13.2",widgetEventPrefix:"slide",
options:{animate:!1,classes:{"ui-slider":"ui-corner-all","ui-slider-handle":"ui-corner-all","ui-slider-range":"ui-corner-all ui-widget-header"},distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._mouseSliding=this._keySliding=!1;this._animateOff=!0;this._handleIndex=null;this._detectOrientation();this._mouseInit();this._calculateNewMax();this._addClass("ui-slider ui-slider-"+this.orientation,
"ui-widget ui-widget-content");this._refresh();this._animateOff=!1},_refresh:function(){this._createRange();this._createHandles();this._setupEvents();this._refreshValue()},_createHandles:function(){var a=this.options;var b=this.element.find(".ui-slider-handle"),c=[];var e=a.values&&a.values.length||1;b.length>e&&(b.slice(e).remove(),b=b.slice(0,e));for(a=b.length;a<e;a++)c.push("<span tabindex='0'></span>");this.handles=b.add(d(c.join("")).appendTo(this.element));this._addClass(this.handles,"ui-slider-handle",
"ui-state-default");this.handle=this.handles.eq(0);this.handles.each(function(a){d(this).data("ui-slider-handle-index",a).attr("tabIndex",0)})},_createRange:function(){var a=this.options;a.range?(!0===a.range&&(a.values?a.values.length&&2!==a.values.length?a.values=[a.values[0],a.values[0]]:Array.isArray(a.values)&&(a.values=a.values.slice(0)):a.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?(this._removeClass(this.range,"ui-slider-range-min ui-slider-range-max"),this.range.css({left:"",
bottom:""})):(this.range=d("<div>").appendTo(this.element),this._addClass(this.range,"ui-slider-range")),"min"!==a.range&&"max"!==a.range||this._addClass(this.range,"ui-slider-range-"+a.range)):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles);this._on(this.handles,this._handleEvents);this._hoverable(this.handles);this._focusable(this.handles)},_destroy:function(){this.handles.remove();this.range&&this.range.remove();this._mouseDestroy()},_mouseCapture:function(a){var b,
c,e=this,f=this.options;if(f.disabled)return!1;this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()};this.elementOffset=this.element.offset();var g=this._normValueFromMouse({x:a.pageX,y:a.pageY});var h=this._valueMax()-this._valueMin()+1;this.handles.each(function(a){var k=Math.abs(g-e.values(a));if(h>k||h===k&&(a===e._lastChangedValue||e.values(a)===f.min))h=k,b=d(this),c=a});if(!1===this._start(a,c))return!1;this._mouseSliding=!0;this._handleIndex=c;this._addClass(b,
null,"ui-state-active");b.trigger("focus");var k=b.offset();this._clickOffset=d(a.target).parents().addBack().is(".ui-slider-handle")?{left:a.pageX-k.left-b.width()/2,top:a.pageY-k.top-b.height()/2-(parseInt(b.css("borderTopWidth"),10)||0)-(parseInt(b.css("borderBottomWidth"),10)||0)+(parseInt(b.css("marginTop"),10)||0)}:{left:0,top:0};this.handles.hasClass("ui-state-hover")||this._slide(a,c,g);return this._animateOff=!0},_mouseStart:function(){return!0},_mouseDrag:function(a){var b=this._normValueFromMouse({x:a.pageX,
y:a.pageY});this._slide(a,this._handleIndex,b);return!1},_mouseStop:function(a){this._removeClass(this.handles,null,"ui-state-active");this._mouseSliding=!1;this._stop(a,this._handleIndex);this._change(a,this._handleIndex);this._clickOffset=this._handleIndex=null;return this._animateOff=!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(a){if("horizontal"===this.orientation){var b=this.elementSize.width;a=
a.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)}else b=this.elementSize.height,a=a.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0);b=a/b;1<b&&(b=1);0>b&&(b=0);"vertical"===this.orientation&&(b=1-b);a=this._valueMax()-this._valueMin();b=this._valueMin()+b*a;return this._trimAlignValue(b)},_uiHash:function(a,b,c){var d={handle:this.handles[a],handleIndex:a,value:void 0!==b?b:this.value()};this._hasMultipleValues()&&(d.value=void 0!==b?b:this.values(a),d.values=
c||this.values());return d},_hasMultipleValues:function(){return this.options.values&&this.options.values.length},_start:function(a,b){return this._trigger("start",a,this._uiHash(b))},_slide:function(a,b,c){var d=this.value(),f=this.values();if(this._hasMultipleValues()){var g=this.values(b?0:1);d=this.values(b);2===this.options.values.length&&!0===this.options.range&&(c=0===b?Math.min(g,c):Math.max(g,c));f[b]=c}c!==d&&!1!==this._trigger("slide",a,this._uiHash(b,c,f))&&(this._hasMultipleValues()?
this.values(b,c):this.value(c))},_stop:function(a,b){this._trigger("stop",a,this._uiHash(b))},_change:function(a,b){this._keySliding||this._mouseSliding||(this._lastChangedValue=b,this._trigger("change",a,this._uiHash(b)))},value:function(a){if(arguments.length)this.options.value=this._trimAlignValue(a),this._refreshValue(),this._change(null,0);else return this._value()},values:function(a,b){var c;if(1<arguments.length)this.options.values[a]=this._trimAlignValue(b),this._refreshValue(),this._change(null,
a);else if(arguments.length)if(Array.isArray(arguments[0])){var d=this.options.values;var f=arguments[0];for(c=0;c<d.length;c+=1)d[c]=this._trimAlignValue(f[c]),this._change(null,c);this._refreshValue()}else return this._hasMultipleValues()?this._values(a):this.value();else return this._values()},_setOption:function(a,b){var c=0;"range"===a&&!0===this.options.range&&("min"===b?(this.options.value=this._values(0),this.options.values=null):"max"===b&&(this.options.value=this._values(this.options.values.length-
1),this.options.values=null));Array.isArray(this.options.values)&&(c=this.options.values.length);this._super(a,b);switch(a){case "orientation":this._detectOrientation();this._removeClass("ui-slider-horizontal ui-slider-vertical")._addClass("ui-slider-"+this.orientation);this._refreshValue();this.options.range&&this._refreshRange(b);this.handles.css("horizontal"===b?"bottom":"left","");break;case "value":this._animateOff=!0;this._refreshValue();this._change(null,0);this._animateOff=!1;break;case "values":this._animateOff=
!0;this._refreshValue();for(a=c-1;0<=a;a--)this._change(null,a);this._animateOff=!1;break;case "step":case "min":case "max":this._animateOff=!0;this._calculateNewMax();this._refreshValue();this._animateOff=!1;break;case "range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_setOptionDisabled:function(a){this._super(a);this._toggleClass(null,"ui-state-disabled",!!a)},_value:function(){var a=this.options.value;return a=this._trimAlignValue(a)},_values:function(a){var b;if(arguments.length){var c=
this.options.values[a];return c=this._trimAlignValue(c)}if(this._hasMultipleValues()){c=this.options.values.slice();for(b=0;b<c.length;b+=1)c[b]=this._trimAlignValue(c[b]);return c}return[]},_trimAlignValue:function(a){if(a<=this._valueMin())return this._valueMin();if(a>=this._valueMax())return this._valueMax();var b=0<this.options.step?this.options.step:1,c=(a-this._valueMin())%b;a-=c;2*Math.abs(c)>=b&&(a+=0<c?b:-b);return parseFloat(a.toFixed(5))},_calculateNewMax:function(){var a=this.options.max,
b=this._valueMin(),c=this.options.step;a=Math.round((a-b)/c)*c+b;a>this.options.max&&(a-=c);this.max=parseFloat(a.toFixed(this._precision()))},_precision:function(){var a=this._precisionOf(this.options.step);null!==this.options.min&&(a=Math.max(a,this._precisionOf(this.options.min)));return a},_precisionOf:function(a){a=a.toString();var b=a.indexOf(".");return-1===b?0:a.length-b-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshRange:function(a){"vertical"===
a&&this.range.css({width:"",left:""});"horizontal"===a&&this.range.css({height:"",bottom:""})},_refreshValue:function(){var a,b=this.options.range,c=this.options,e=this,f=this._animateOff?!1:c.animate,g={};if(this._hasMultipleValues())this.handles.each(function(b){m=(e.values(b)-e._valueMin())/(e._valueMax()-e._valueMin())*100;g["horizontal"===e.orientation?"left":"bottom"]=m+"%";d(this).stop(1,1)[f?"animate":"css"](g,c.animate);if(!0===e.options.range)if("horizontal"===e.orientation){if(0===b)e.range.stop(1,
1)[f?"animate":"css"]({left:m+"%"},c.animate);if(1===b)e.range[f?"animate":"css"]({width:m-a+"%"},{queue:!1,duration:c.animate})}else{if(0===b)e.range.stop(1,1)[f?"animate":"css"]({bottom:m+"%"},c.animate);if(1===b)e.range[f?"animate":"css"]({height:m-a+"%"},{queue:!1,duration:c.animate})}a=m});else{var h=this.value();var k=this._valueMin();var l=this._valueMax();var m=l!==k?(h-k)/(l-k)*100:0;g["horizontal"===this.orientation?"left":"bottom"]=m+"%";this.handle.stop(1,1)[f?"animate":"css"](g,c.animate);
if("min"===b&&"horizontal"===this.orientation)this.range.stop(1,1)[f?"animate":"css"]({width:m+"%"},c.animate);if("max"===b&&"horizontal"===this.orientation)this.range.stop(1,1)[f?"animate":"css"]({width:100-m+"%"},c.animate);if("min"===b&&"vertical"===this.orientation)this.range.stop(1,1)[f?"animate":"css"]({height:m+"%"},c.animate);if("max"===b&&"vertical"===this.orientation)this.range.stop(1,1)[f?"animate":"css"]({height:100-m+"%"},c.animate)}},_handleEvents:{keydown:function(a){var b,c=d(a.target).data("ui-slider-handle-index");
switch(a.keyCode){case d.ui.keyCode.HOME:case d.ui.keyCode.END:case d.ui.keyCode.PAGE_UP:case d.ui.keyCode.PAGE_DOWN:case d.ui.keyCode.UP:case d.ui.keyCode.RIGHT:case d.ui.keyCode.DOWN:case d.ui.keyCode.LEFT:if(a.preventDefault(),!this._keySliding){this._keySliding=!0;this._addClass(d(a.target),null,"ui-state-active");var e=this._start(a,c);if(!1===e)return}}var f=this.options.step;e=this._hasMultipleValues()?b=this.values(c):b=this.value();switch(a.keyCode){case d.ui.keyCode.HOME:b=this._valueMin();
break;case d.ui.keyCode.END:b=this._valueMax();break;case d.ui.keyCode.PAGE_UP:b=this._trimAlignValue(e+(this._valueMax()-this._valueMin())/this.numPages);break;case d.ui.keyCode.PAGE_DOWN:b=this._trimAlignValue(e-(this._valueMax()-this._valueMin())/this.numPages);break;case d.ui.keyCode.UP:case d.ui.keyCode.RIGHT:if(e===this._valueMax())return;b=this._trimAlignValue(e+f);break;case d.ui.keyCode.DOWN:case d.ui.keyCode.LEFT:if(e===this._valueMin())return;b=this._trimAlignValue(e-f)}this._slide(a,c,
b)},keyup:function(a){var b=d(a.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(a,b),this._change(a,b),this._removeClass(d(a.target),null,"ui-state-active"))}}});d.widget("ui.tabs",{version:"1.13.2",delay:300,options:{active:null,classes:{"ui-tabs":"ui-corner-all","ui-tabs-nav":"ui-corner-all","ui-tabs-panel":"ui-corner-bottom","ui-tabs-tab":"ui-corner-top"},collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,
beforeLoad:null,load:null},_isLocal:function(){var a=/#.*$/;return function(b){var c=b.href.replace(a,"");var d=location.href.replace(a,"");try{c=decodeURIComponent(c)}catch(f){}try{d=decodeURIComponent(d)}catch(f){}return 1<b.hash.length&&c===d}}(),_create:function(){var a=this,b=this.options;this.running=!1;this._addClass("ui-tabs","ui-widget ui-widget-content");this._toggleClass("ui-tabs-collapsible",null,b.collapsible);this._processTabs();b.active=this._initialActive();Array.isArray(b.disabled)&&
(b.disabled=d.uniqueSort(b.disabled.concat(d.map(this.tabs.filter(".ui-state-disabled"),function(b){return a.tabs.index(b)}))).sort());this.active=!1!==this.options.active&&this.anchors.length?this._findActive(b.active):d();this._refresh();this.active.length&&this.load(b.active)},_initialActive:function(){var a=this.options.active,b=this.options.collapsible,c=location.hash.substring(1);null===a&&(c&&this.tabs.each(function(b,f){if(d(f).attr("aria-controls")===c)return a=b,!1}),null===a&&(a=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),
null===a||-1===a)&&(a=this.tabs.length?0:!1);!1!==a&&(a=this.tabs.index(this.tabs.eq(a)),-1===a&&(a=b?!1:0));!b&&!1===a&&this.anchors.length&&(a=0);return a},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):d()}},_tabKeydown:function(a){var b=d(d.ui.safeActiveElement(this.document[0])).closest("li"),c=this.tabs.index(b),e=!0;if(!this._handlePageNav(a)){switch(a.keyCode){case d.ui.keyCode.RIGHT:case d.ui.keyCode.DOWN:c++;break;case d.ui.keyCode.UP:case d.ui.keyCode.LEFT:e=
!1;c--;break;case d.ui.keyCode.END:c=this.anchors.length-1;break;case d.ui.keyCode.HOME:c=0;break;case d.ui.keyCode.SPACE:a.preventDefault();clearTimeout(this.activating);this._activate(c);return;case d.ui.keyCode.ENTER:a.preventDefault();clearTimeout(this.activating);this._activate(c===this.options.active?!1:c);return;default:return}a.preventDefault();clearTimeout(this.activating);c=this._focusNextTab(c,e);a.ctrlKey||a.metaKey||(b.attr("aria-selected","false"),this.tabs.eq(c).attr("aria-selected",
"true"),this.activating=this._delay(function(){this.option("active",c)},this.delay))}},_panelKeydown:function(a){!this._handlePageNav(a)&&a.ctrlKey&&a.keyCode===d.ui.keyCode.UP&&(a.preventDefault(),this.active.trigger("focus"))},_handlePageNav:function(a){if(a.altKey&&a.keyCode===d.ui.keyCode.PAGE_UP)return this._activate(this._focusNextTab(this.options.active-1,!1)),!0;if(a.altKey&&a.keyCode===d.ui.keyCode.PAGE_DOWN)return this._activate(this._focusNextTab(this.options.active+1,!0)),!0},_findNextTab:function(a,
b){function c(){a>e&&(a=0);0>a&&(a=e);return a}for(var e=this.tabs.length-1;-1!==d.inArray(c(),this.options.disabled);)a=b?a+1:a-1;return a},_focusNextTab:function(a,b){a=this._findNextTab(a,b);this.tabs.eq(a).trigger("focus");return a},_setOption:function(a,b){"active"===a?this._activate(b):(this._super(a,b),"collapsible"===a&&(this._toggleClass("ui-tabs-collapsible",null,b),b||!1!==this.options.active||this._activate(0)),"event"===a&&this._setupEvents(b),"heightStyle"===a&&this._setupHeightStyle(b))},
_sanitizeSelector:function(a){return a?a.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var a=this.options,b=this.tablist.children(":has(a[href])");a.disabled=d.map(b.filter(".ui-state-disabled"),function(a){return b.index(a)});this._processTabs();!1!==a.active&&this.anchors.length?this.active.length&&!d.contains(this.tablist[0],this.active[0])?this.tabs.length===a.disabled.length?(a.active=!1,this.active=d()):this._activate(this._findNextTab(Math.max(0,a.active-1),!1)):
a.active=this.tabs.index(this.active):(a.active=!1,this.active=d());this._refresh()},_refresh:function(){this._setOptionDisabled(this.options.disabled);this._setupEvents(this.options.event);this._setupHeightStyle(this.options.heightStyle);this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1});this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"});this.active.length?(this.active.attr({"aria-selected":"true","aria-expanded":"true",
tabIndex:0}),this._addClass(this.active,"ui-tabs-active","ui-state-active"),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var a=this,b=this.tabs,c=this.anchors,e=this.panels;this.tablist=this._getList().attr("role","tablist");this._addClass(this.tablist,"ui-tabs-nav","ui-helper-reset ui-helper-clearfix ui-widget-header");this.tablist.on("mousedown"+this.eventNamespace,"> li",function(a){d(this).is(".ui-state-disabled")&&
a.preventDefault()}).on("focus"+this.eventNamespace,".ui-tabs-anchor",function(){d(this).closest("li").is(".ui-state-disabled")&&this.blur()});this.tabs=this.tablist.find("> li:has(a[href])").attr({role:"tab",tabIndex:-1});this._addClass(this.tabs,"ui-tabs-tab","ui-state-default");this.anchors=this.tabs.map(function(){return d("a",this)[0]}).attr({tabIndex:-1});this._addClass(this.anchors,"ui-tabs-anchor");this.panels=d();this.anchors.each(function(b,c){var e=d(c).uniqueId().attr("id"),f=d(c).closest("li"),
g=f.attr("aria-controls");if(a._isLocal(c)){b=c.hash;c=b.substring(1);var m=a.element.find(a._sanitizeSelector(b))}else c=f.attr("aria-controls")||d({}).uniqueId()[0].id,m=a.element.find("#"+c),m.length||(m=a._createPanel(c),m.insertAfter(a.panels[b-1]||a.tablist)),m.attr("aria-live","polite");m.length&&(a.panels=a.panels.add(m));g&&f.data("ui-tabs-aria-controls",g);f.attr({"aria-controls":c,"aria-labelledby":e});m.attr("aria-labelledby",e)});this.panels.attr("role","tabpanel");this._addClass(this.panels,
"ui-tabs-panel","ui-widget-content");b&&(this._off(b.not(this.tabs)),this._off(c.not(this.anchors)),this._off(e.not(this.panels)))},_getList:function(){return this.tablist||this.element.find("ol:not(.ui-tabs-skip),ul:not(.ui-tabs-skip)").eq(0)},_createPanel:function(a){return d("<div>").attr("id",a).data("ui-tabs-destroy",!0)},_setOptionDisabled:function(a){var b,c;Array.isArray(a)&&(a.length?a.length===this.anchors.length&&(a=!0):a=!1);for(c=0;b=this.tabs[c];c++)b=d(b),!0===a||-1!==d.inArray(c,a)?
(b.attr("aria-disabled","true"),this._addClass(b,null,"ui-state-disabled")):(b.removeAttr("aria-disabled"),this._removeClass(b,null,"ui-state-disabled"));this.options.disabled=a;this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!0===a)},_setupEvents:function(a){var b={};a&&d.each(a.split(" "),function(a,d){b[d]="_eventHandler"});this._off(this.anchors.add(this.tabs).add(this.panels));this._on(!0,this.anchors,{click:function(a){a.preventDefault()}});this._on(this.anchors,b);this._on(this.tabs,
{keydown:"_tabKeydown"});this._on(this.panels,{keydown:"_panelKeydown"});this._focusable(this.tabs);this._hoverable(this.tabs)},_setupHeightStyle:function(a){var b=this.element.parent();if("fill"===a){var c=b.height();c-=this.element.outerHeight()-this.element.height();this.element.siblings(":visible").each(function(){var a=d(this),b=a.css("position");"absolute"!==b&&"fixed"!==b&&(c-=a.outerHeight(!0))});this.element.children().not(this.panels).each(function(){c-=d(this).outerHeight(!0)});this.panels.each(function(){d(this).height(Math.max(0,
c-d(this).innerHeight()+d(this).height()))}).css("overflow","auto")}else"auto"===a&&(c=0,this.panels.each(function(){c=Math.max(c,d(this).height("").height())}).height(c))},_eventHandler:function(a){var b=this.options,c=this.active,e=d(a.currentTarget).closest("li"),f=e[0]===c[0],g=f&&b.collapsible,h=g?d():this._getPanelForTab(e),k=c.length?this._getPanelForTab(c):d();c={oldTab:c,oldPanel:k,newTab:g?d():e,newPanel:h};a.preventDefault();e.hasClass("ui-state-disabled")||e.hasClass("ui-tabs-loading")||
this.running||f&&!b.collapsible||!1===this._trigger("beforeActivate",a,c)||(b.active=g?!1:this.tabs.index(e),this.active=f?d():e,this.xhr&&this.xhr.abort(),k.length||h.length||d.error("jQuery UI Tabs: Mismatching fragment identifier."),h.length&&this.load(this.tabs.index(e),a),this._toggle(a,c))},_toggle:function(a,b){function c(){f.running=!1;f._trigger("activate",a,b)}function e(){f._addClass(b.newTab.closest("li"),"ui-tabs-active","ui-state-active");g.length&&f.options.show?f._show(g,f.options.show,
c):(g.show(),c())}var f=this,g=b.newPanel,h=b.oldPanel;this.running=!0;h.length&&this.options.hide?this._hide(h,this.options.hide,function(){f._removeClass(b.oldTab.closest("li"),"ui-tabs-active","ui-state-active");e()}):(this._removeClass(b.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),h.hide(),e());h.attr("aria-hidden","true");b.oldTab.attr({"aria-selected":"false","aria-expanded":"false"});g.length&&h.length?b.oldTab.attr("tabIndex",-1):g.length&&this.tabs.filter(function(){return 0===
d(this).attr("tabIndex")}).attr("tabIndex",-1);g.attr("aria-hidden","false");b.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(a){a=this._findActive(a);a[0]!==this.active[0]&&(a.length||(a=this.active),a=a.find(".ui-tabs-anchor")[0],this._eventHandler({target:a,currentTarget:a,preventDefault:d.noop}))},_findActive:function(a){return!1===a?d():this.tabs.eq(a)},_getIndex:function(a){"string"===typeof a&&(a=this.anchors.index(this.anchors.filter("[href$='"+
d.escapeSelector(a)+"']")));return a},_destroy:function(){this.xhr&&this.xhr.abort();this.tablist.removeAttr("role").off(this.eventNamespace);this.anchors.removeAttr("role tabIndex").removeUniqueId();this.tabs.add(this.panels).each(function(){d.data(this,"ui-tabs-destroy")?d(this).remove():d(this).removeAttr("role tabIndex aria-live aria-busy aria-selected aria-labelledby aria-hidden aria-expanded")});this.tabs.each(function(){var a=d(this),b=a.data("ui-tabs-aria-controls");b?a.attr("aria-controls",
b).removeData("ui-tabs-aria-controls"):a.removeAttr("aria-controls")});this.panels.show();"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(a){var b=this.options.disabled;!1!==b&&(void 0===a?b=!1:(a=this._getIndex(a),b=Array.isArray(b)?d.map(b,function(b){return b!==a?b:null}):d.map(this.tabs,function(b,d){return d!==a?d:null})),this._setOptionDisabled(b))},disable:function(a){var b=this.options.disabled;if(!0!==b){if(void 0===a)b=!0;else{a=this._getIndex(a);if(-1!==
d.inArray(a,b))return;b=Array.isArray(b)?d.merge([a],b).sort():[a]}this._setOptionDisabled(b)}},load:function(a,b){a=this._getIndex(a);var c=this,e=this.tabs.eq(a);a=e.find(".ui-tabs-anchor");var f=this._getPanelForTab(e),g={tab:e,panel:f},h=function(a,b){"abort"===b&&c.panels.stop(!1,!0);c._removeClass(e,"ui-tabs-loading");f.removeAttr("aria-busy");a===c.xhr&&delete c.xhr};this._isLocal(a[0])||(this.xhr=d.ajax(this._ajaxSettings(a,b,g)))&&"canceled"!==this.xhr.statusText&&(this._addClass(e,"ui-tabs-loading"),
f.attr("aria-busy","true"),this.xhr.done(function(a,d,e){setTimeout(function(){f.html(a);c._trigger("load",b,g);h(e,d)},1)}).fail(function(a,b){setTimeout(function(){h(a,b)},1)}))},_ajaxSettings:function(a,b,c){var e=this;return{url:a.attr("href").replace(/#.*$/,""),beforeSend:function(a,g){return e._trigger("beforeLoad",b,d.extend({jqXHR:a,ajaxSettings:g},c))}}},_getPanelForTab:function(a){a=d(a).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+a))}});!1!==d.uiBackCompat&&
d.widget("ui.tabs",d.ui.tabs,{_processTabs:function(){this._superApply(arguments);this._addClass(this.tabs,"ui-tab")}})});
;

// ***************************
// js.compressed/jquery/jquery.ui.touch-punch.min.js
// ***************************
/*
 jQuery UI Touch Punch 0.2.3

 Copyright 2011-2014, Dave Furfero
 Dual licensed under the MIT or GPL Version 2 licenses.

 Depends:
  jquery.ui.widget.js
  jquery.ui.mouse.js
*/
(function(c){function b(a,c){if(!(1<a.originalEvent.touches.length)){a.preventDefault();var b=a.originalEvent.changedTouches[0],d=document.createEvent("MouseEvents");d.initMouseEvent(c,!0,!0,window,1,b.screenX,b.screenY,b.clientX,b.clientY,!1,!1,!1,!1,0,null);a.target.dispatchEvent(d)}}c.support.touch="ontouchend"in document;if(c.support.touch){var d=c.ui.mouse.prototype,f=d._mouseInit,g=d._mouseDestroy,e;d._touchStart=function(a){!e&&this._mouseCapture(a.originalEvent.changedTouches[0])&&
(e=!0,this._touchMoved=!1,b(a,"mouseover"),b(a,"mousemove"),b(a,"mousedown"))};d._touchMove=function(a){e&&(this._touchMoved=!0,b(a,"mousemove"))};d._touchEnd=function(a){e&&(b(a,"mouseup"),b(a,"mouseout"),this._touchMoved||b(a,"click"),e=!1)};d._mouseInit=function(){this.element.bind({touchstart:c.proxy(this,"_touchStart"),touchmove:c.proxy(this,"_touchMove"),touchend:c.proxy(this,"_touchEnd")});f.call(this)};d._mouseDestroy=function(){this.element.unbind({touchstart:c.proxy(this,"_touchStart"),
touchmove:c.proxy(this,"_touchMove"),touchend:c.proxy(this,"_touchEnd")});g.call(this)}}})(jQuery);
;

// ***************************
// js.compressed/jquery/js.cookie.min.js
// ***************************
/*! js-cookie v3.0.4 | MIT */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self,function(){var n=e.Cookies,o=e.Cookies=t();o.noConflict=function(){return e.Cookies=n,o}}())}(this,(function(){"use strict";function e(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)e[o]=n[o]}return e}var t=function t(n,o){function r(t,r,i){if("undefined"!=typeof document){"number"==typeof(i=e({},o,i)).expires&&(i.expires=new Date(Date.now()+864e5*i.expires)),i.expires&&(i.expires=i.expires.toUTCString()),t=encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var c="";for(var u in i)i[u]&&(c+="; "+u,!0!==i[u]&&(c+="="+i[u].split(";")[0]));return document.cookie=t+"="+n.write(r,t)+c}}return Object.create({set:r,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var t=document.cookie?document.cookie.split("; "):[],o={},r=0;r<t.length;r++){var i=t[r].split("="),c=i.slice(1).join("=");try{var u=decodeURIComponent(i[0]);if(o[u]=n.read(c,u),e===u)break}catch(e){}}return e?o[e]:o}},remove:function(t,n){r(t,"",e({},n,{expires:-1}))},withAttributes:function(n){return t(this.converter,e({},this.attributes,n))},withConverter:function(n){return t(e({},this.converter,n),this.attributes)}},{attributes:{value:Object.freeze(o)},converter:{value:Object.freeze(n)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"});return t}));
;

// ***************************
// js.compressed/responsive.js
// ***************************
/*
 jQuery throttle / debounce - v1.1 - 3/7/2010
 http://benalman.com/projects/jquery-throttle-debounce-plugin/

 Copyright (c) 2010 "Cowboy" Ben Alman
 Dual licensed under the MIT and GPL licenses.
 http://benalman.com/about/license/
*/
vBulletin.ensureObj("Responsive");
(function(d){function u(g,h){return g.find(h).addBack(h)}function B(){q.MediaQueries.setResizeEvent();q.MediaQueries.handleResizeEvent();let g=q.ChannelContent,h=(n,a=!1)=>{if(a||u(n,".conversation-toolbar-wrapper").length)g.cloneAndMoveToolbarButtons(),g.initToolbarShrink(n),g.initPmToolbarShrink(l);p.checkShrinkEvent()},l=d(document);h(l,!0);l.on("vb-instrument",n=>{h(d(n.target))});C();x();D()}function D(){if(d("html").hasClass("touch")){var g=navigator.userAgent.toLowerCase();firefoxIndex=g.indexOf("firefox");
windows7Index=g.indexOf("windows nt 6.1");-1!==firefoxIndex&&-1!==windows7Index&&d("html").removeClass("touch").addClass("no-touch")}}function C(){var g=d(".search-results-widget .conversation-toolbar");g.addClass("desktop");if(g.find(".toolbar-pagenav").length){var h=d("<div>").addClass("conversation-toolbar mobile-search-results");h.insertAfter(g);h.append(g.find(".toolset-right").clone(!0,!0))}}function x(){d(".conversation-content .videoscontainer").each(function(){d(this).siblings("div.post-signature").length||
d(this).addClass("no-signature")})}let q=vBulletin.Responsive,p=q.Debounce,y=0;q.scrollToFixedBreakPoint=480;q.ChannelContent={cloneAndMoveToolbarButtons:function(){function g(){var f=parseInt(d(this).data("js-movable-button-clone-id")||0,10);c=Math.max(c,f)}var h=d(".js-movable-toolbar-button"),l=d(".js-movable-toolbar-button-clone"),n=h,a=d(".js-movable-toolbar-button-container"),c=0,b={};h.each(g);l.each(g);++c;h=h.filter(function(){var f=d(this),m="uniq-"+f.attr("class").split(/\s+/).sort().join("-")+
"-"+f.attr("id");m=m.replace("-h-hide-on-small","");return b[m]?(f.addClass("h-hide-on-small"),!1):b[m]=!0});if(1>a.length){var e=!1;if(0<h.length){console.warn("Responsive warning: .js-movable-toolbar-button-container is not available.");var k=h.eq(0).closest(".canvas-widget");1==k.length&&(a=d("<div />").addClass("h-right h-clear hide-on-editmode b-button-group b-button-group--wrap h-margin-bottom-l js-movable-toolbar-button-container h-hide-on-large"),k.is(".b-module--contiguous")?(e=k.closest(".canvas-layout-row"),
a.removeClass("h-right").addClass("b-button-group--contiguous-layout").prependTo(e),d("<div />").addClass("js-movable-toolbar-button-container-marker-desktop h-hide-imp").prependTo(e),d("<div />").addClass("js-movable-toolbar-button-container-marker-small h-hide-imp").insertBefore(k)):a.prependTo(k),console.log("Responsive: Created .js-movable-toolbar-button-container"),e=!0)}if(!e)return}h=h.filter(function(){var f=d(this).data("js-movable-button-clone-id");if(f){var m=!1;l.each(function(){if(d(this).data("js-movable-button-clone-id")==
f)return m=!0,!1});if(m)return!1}return!0});l.each(function(){var f=d(this),m=f.data("js-movable-button-clone-id"),r=!1;n.each(function(v,t){if(d(t).data("js-movable-button-clone-id")==m)return r=!0,!1});r||f.remove()});h=h.reverse();h.each(function(){var f=d(this);f.data("js-movable-button-clone-id")||(f.clone().removeAttr("id").removeClass("js-movable-toolbar-button").addClass("h-hide-on-large js-movable-toolbar-button-clone").data("js-movable-button-clone-id",c).off("click").on("click",function(){f.trigger("click")}).prependTo(a),
f.addClass("h-hide-on-small").data("js-movable-button-clone-id",c),++c)})},initToolbarShrink:function(g){function h(b){d(".js-movable-toolbar-button-clone").toggleClass("h-hide-on-large",b);d(".js-movable-toolbar-button, .js-button-filter-my-label").toggleClass("h-hide-imp",!b)}function l(b,e){e=e.closest(".conversation-toolbar-wrapper").next(".js-under-toolbar-pagenav");1==e.length&&e.parent().is(":visible")&&(d(".js-toolbar-pagenav").toggleClass("h-hide-on-xsmall",b).toggleClass("h-hide-imp",!b),
e.toggleClass("h-show-on-xsmall",b),d(".js-subtoolbar-list-header").toggleClass("h-hide-imp",!b))}function n(b){l(!1,b);h(!0)}function a(b){l(!0,b);h(!1)}function c(b){l(!1,b);h(!1)}u(g,".conversation-toolbar > .js-shrink-event-parent").on("vbulletin:shrink vbulletin:unshrink",function(){var b=d(this),e=[n,a,c];l(!0,b);h(!0);for(const k of e){if("need_shrink"!=p.checkElementShrinkRequirement(b))break;k(b)}})},initPmToolbarShrink:function(g){function h(l){d(".js-movable-toolbar-button-container, .js-movable-toolbar-button-clone").toggleClass("h-hide-on-large",
l);d(".js-movable-toolbar-button, .js-button-filter-my-label").toggleClass("h-hide-imp",!l)}u(g,".js-pm-floating-toolbar-content.js-shrink-event-parent, .js-pm-floating-toolbar-content > .js-shrink-event-parent").on("vbulletin:shrink vbulletin:unshrink",function(){h(!0);"need_shrink"==p.checkElementShrinkRequirement(d(this))&&h(!1)})},movePmToolbarButtonContainer:function(){var g=d(".js-movable-toolbar-button-container.b-button-group--contiguous-layout");g.length&&(d("body").is(".l-small")?g.insertAfter(".js-movable-toolbar-button-container-marker-small"):
g.insertAfter(".js-movable-toolbar-button-container-marker-desktop"))}};q.MediaQueries={setResizeEvent:function(){var g=this.handleResizeEvent;d(window).on("resize orientationchange",g)},handleResizeEvent:function(){var g=d("#vb-page-body").width();g!=y&&(y=g,(g=vBulletin.contentslider)&&"function"==typeof g.handleWindowResize&&g.handleWindowResize())}};q.checkForVideoSignature=x;(function(){function g(a){if(2>a.length)return!0;let c=a.last(),b=c.position().top,e=c.outerHeight()/2+b,k=!0;a.each(function(f,
m){f=d(m);m=f.position().top;if(m!=b&&(f=f.outerHeight()/2+m,2<Math.abs(f-e)))return k=!1});return k}function h(a){var c=!1;a.each(function(b,e){if(b<a.length-1){var k=d(e),f=a.eq(b+1);b=k.offset();e=f.offset();k=k[0].getBoundingClientRect();f=f[0].getBoundingClientRect();b.bottom=b.top+k.height-1;b.right=b.left+k.width-1;e.bottom=e.top+f.height-1;e.right=e.left+f.width-1;if(!(b.right<e.left||b.bottom<e.top||e.right<b.left||e.bottom<b.top))return c=!0,!1}});return c}function l(a){p.callbacks.push(a)}
function n(){var a=p.callbacks.length,c;for(c=0;c<a;++c)p.callbacks[c]()}(function(a,c){"$:nomunge";var b=a.jQuery||a.Cowboy||(a.Cowboy={}),e;b.throttle=e=function(k,f,m,r){function v(){function w(){z=+new Date;m.apply(E,F)}function G(){t=c}var E=this,A=+new Date-z,F=arguments;r&&!t&&w();t&&clearTimeout(t);r===c&&A>k?w():!0!==f&&(t=setTimeout(r?G:w,r===c?k-A:k))}var t,z=0;"boolean"!==typeof f&&(r=m,m=f,f=c);b.guid&&(v.guid=m.guid=m.guid||b.guid++);return v};b.debounce=function(k,f,m){return m===c?
e(k,f,!1):e(k,m,!1!==f)}})(this);d.extend(p,{areElementsOnOneRow:g,checkElementShrinkRequirement:function(a){var c=a.is(".js-shrink-event-parent");let b=a.is("ul"),e="1"==a.data("vbulletin-shrink-triggered");c=c?a.find("> .js-shrink-event-child").filter(":visible"):b?a.find("> li").filter(":visible"):{length:0};return 1>c.length?e?"need_unshrink":"no_children":!g(c)||h(c)?(a.data("vbulletin-shrink-triggered","1"),"need_shrink"):e?"need_unshrink":"no_change"},checkShrinkEvent:function(a){"undefined"==
typeof a&&(a=d(".js-shrink-event-parent"));let c={need_shrink:"vbulletin:shrink",need_unshrink:"vbulletin:unshrink"};a.each((b,e)=>{b=d(e);e=p.checkElementShrinkRequirement(b);e in c&&b.trigger(c[e])})},init:function(){l(p.checkBrowserSize);l(function(){var a=d(".l-row");1>a.length||a.reverse().each(function(){var c=d(this);if(768<=c.width())return c.removeClass("l-small"),!0;var b=c.find("> .l-col__flex-1, > .l-col__flex-2, > .l-col__flex-3, > .l-col__flex-4, > .l-col__flex-5, > .l-col__flex-6"),
e=!1;c.removeClass("l-small");b.reverse().each(function(){if(this.offsetWidth<this.scrollWidth)return e=!0,!1});e&&c.addClass("l-small")})});l(function(){var a=d(".l-row > .l-col__large-1, .l-row > .l-col__large-2, .l-row > .l-col__large-3, .l-row > .l-col__large-4, .l-row > .l-col__large-5, .l-row > .l-col__large-6, .l-row > .l-col__large-7, .l-row > .l-col__large-8, .l-row > .l-col__large-9, .l-row > .l-col__large-10, .l-row > .l-col__large-11, .l-row > .l-col__large-12, .l-row > .l-col__fixed-1, .l-row > .l-col__flex-1, .l-row > .l-col__fixed-2, .l-row > .l-col__flex-2, .l-row > .l-col__fixed-3, .l-row > .l-col__flex-3, .l-row > .l-col__fixed-4, .l-row > .l-col__flex-4, .l-row > .l-col__fixed-5, .l-row > .l-col__flex-5, .l-row > .l-col__fixed-6, .l-row > .l-col__flex-6, .l-row > .l-col__small-1, .l-row > .l-col__small-2, .l-row > .l-col__small-3, .l-row > .l-col__small-4");
1>a.length||a.reverse().each(function(){var c=d(this),b=c.width(),e=parseInt(c.css("marginLeft"),10),k=parseInt(c.css("marginRight"),10);0>e&&(b+=e);0>k&&(b+=k);c.toggleClass("l-column-xsmall",480>b);c.toggleClass("l-column-small",768>b);c.toggleClass("l-column-desktop",768<=b)})});l(function(){d(".ui-dialog:visible .ui-dialog-content").each(function(a,c){a=d(c);a.trigger("vbulletin:dialogresize");a.dialog("option","position",{my:"center",at:"center",of:window,collision:"flipfit"});if(!a.is(".js-no-responsive-resize")){a.closest(".ui-dialog").hide();
c=d(window).width();a.closest(".ui-dialog").show();var b=a.dialog("option","width");if(b>c)a.data("original-dialog-width")||a.data("original-dialog-width",b),a.dialog("option","width",c);else if(b<c){var e=a.data("original-dialog-width");e&&b<e&&a.dialog("option","width",Math.min(e,c))}}})});l(p.checkShrinkEvent);l(q.ChannelContent.movePmToolbarButtonContainer);d(window).on("resize",d.debounce(300,n));n()},callbacks:[],registerCallback:l,runCallbacks:n,registerCallbackOnce:function(a){var c=!1;d.each(p.callbacks,
function(){if(a==this||""+a==""+this)return c=!0,!1});c||l(a)}})})();d(function(){B();p.init()})})(jQuery);
;

// ***************************
// js.compressed/jquery/jquery.autogrow.min.js
// ***************************
/*
 jQuery Textarea AutoGrow plugin
 Author: Bruno Sampaio
 Licensed under the MIT license
*/
(function(f){function g(b,c){if("TEXTAREA"===b.tagName){var a=f(b),d=f("<div></div>");d.addClass("autogrow-mirror");void 0!==c.id&&d.attr("id",0==index?c.id:c.id+"-"+index);void 0!==c.classes&&d.addClass(c.classes);a.addClass("autogrow-field").on("input keyup",function(e){(e=a.val())&&"\n"!=e.charAt(e.length-1)||(e+="");e=e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/ /g,"&nbsp;").replace(/\n/g,"<br/>");d.html(e);
a.height(d.height())}).off("autogrow.resize").on("autogrow.resize",function(){d.css({border:a.css("border"),"font-family":a.css("font-family"),"font-size":a.css("font-size"),"font-weight":a.css("font-weight"),"letter-spacing":a.css("letter-spacing"),"line-height":a.css("line-height"),padding:a.css("padding"),position:"absolute",visibility:"hidden","white-space":"normal",width:a.css("width"),"word-break":"break-word","z-index":-1,zoom:a.css("zoom")})}).trigger("autogrow.resize").after(d)}}f.fn.autogrow=
function(b,c){var a=this,d=this.context;void 0===c&&(c=b instanceof Object?b:{});"string"!==typeof b&&(b=null);b&&(a=f(b,d),f(document).on("DOMNodeInserted",function(a){a=a.target;f(a,d).is(b)&&g(a,c)}));a.each(function(a,b){g(b,c)});return this}})(jQuery);
;

// ***************************
// js.compressed/jquery/jquery.form.min.js
// ***************************
/*!
 * jQuery Form Plugin
 * version: 4.3.0
 * Requires jQuery v1.7.2 or later
 * Project repository: https://github.com/jquery-form/form

 * Copyright 2017 Kevin Morris
 * Copyright 2006 M. Alsup

 * Dual licensed under the LGPL-2.1+ or MIT licenses
 * https://github.com/jquery-form/form#license

 * This library is free software; you can redistribute it and/or
 * modify it under the terms of the GNU Lesser General Public
 * License as published by the Free Software Foundation; either
 * version 2.1 of the License, or (at your option) any later version.
 * This library is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
 * Lesser General Public License for more details.
 */
!function(r){"function"==typeof define&&define.amd?define(["jquery"],r):"object"==typeof module&&module.exports?module.exports=function(e,t){return void 0===t&&(t="undefined"!=typeof window?require("jquery"):require("jquery")(e)),r(t),t}:r(jQuery)}(function(q){"use strict";var m=/\r?\n/g,S={};S.fileapi=void 0!==q('<input type="file">').get(0).files,S.formdata=void 0!==window.FormData;var _=!!q.fn.prop;function o(e){var t=e.data;e.isDefaultPrevented()||(e.preventDefault(),q(e.target).closest("form").ajaxSubmit(t))}function i(e){var t=e.target,r=q(t);if(!r.is("[type=submit],[type=image]")){var a=r.closest("[type=submit]");if(0===a.length)return;t=a[0]}var n,o=t.form;"image"===(o.clk=t).type&&(void 0!==e.offsetX?(o.clk_x=e.offsetX,o.clk_y=e.offsetY):"function"==typeof q.fn.offset?(n=r.offset(),o.clk_x=e.pageX-n.left,o.clk_y=e.pageY-n.top):(o.clk_x=e.pageX-t.offsetLeft,o.clk_y=e.pageY-t.offsetTop)),setTimeout(function(){o.clk=o.clk_x=o.clk_y=null},100)}function N(){var e;q.fn.ajaxSubmit.debug&&(e="[jquery.form] "+Array.prototype.join.call(arguments,""),window.console&&window.console.log?window.console.log(e):window.opera&&window.opera.postError&&window.opera.postError(e))}q.fn.attr2=function(){if(!_)return this.attr.apply(this,arguments);var e=this.prop.apply(this,arguments);return e&&e.jquery||"string"==typeof e?e:this.attr.apply(this,arguments)},q.fn.ajaxSubmit=function(M,e,t,r){if(!this.length)return N("ajaxSubmit: skipping submit process - no element selected"),this;var O,a,n,o,X=this;"function"==typeof M?M={success:M}:"string"==typeof M||!1===M&&0<arguments.length?(M={url:M,data:e,dataType:t},"function"==typeof r&&(M.success=r)):void 0===M&&(M={}),O=M.method||M.type||this.attr2("method"),n=(n=(n="string"==typeof(a=M.url||this.attr2("action"))?q.trim(a):"")||window.location.href||"")&&(n.match(/^([^#]+)/)||[])[1],o=/(MSIE|Trident)/.test(navigator.userAgent||"")&&/^https/i.test(window.location.href||"")?"javascript:false":"about:blank",M=q.extend(!0,{url:n,success:q.ajaxSettings.success,type:O||q.ajaxSettings.type,iframeSrc:o},M);var i={};if(this.trigger("form-pre-serialize",[this,M,i]),i.veto)return N("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this;if(M.beforeSerialize&&!1===M.beforeSerialize(this,M))return N("ajaxSubmit: submit aborted via beforeSerialize callback"),this;var s=M.traditional;void 0===s&&(s=q.ajaxSettings.traditional);var u,c,C=[],l=this.formToArray(M.semantic,C,M.filtering);if(M.data&&(c=q.isFunction(M.data)?M.data(l):M.data,M.extraData=c,u=q.param(c,s)),M.beforeSubmit&&!1===M.beforeSubmit(l,this,M))return N("ajaxSubmit: submit aborted via beforeSubmit callback"),this;if(this.trigger("form-submit-validate",[l,this,M,i]),i.veto)return N("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this;var f=q.param(l,s);u&&(f=f?f+"&"+u:u),"GET"===M.type.toUpperCase()?(M.url+=(0<=M.url.indexOf("?")?"&":"?")+f,M.data=null):M.data=f;var d,m,p,h=[];M.resetForm&&h.push(function(){X.resetForm()}),M.clearForm&&h.push(function(){X.clearForm(M.includeHidden)}),!M.dataType&&M.target?(d=M.success||function(){},h.push(function(e,t,r){var a=arguments,n=M.replaceTarget?"replaceWith":"html";q(M.target)[n](e).each(function(){d.apply(this,a)})})):M.success&&(q.isArray(M.success)?q.merge(h,M.success):h.push(M.success)),M.success=function(e,t,r){for(var a=M.context||this,n=0,o=h.length;n<o;n++)h[n].apply(a,[e,t,r||X,X])},M.error&&(m=M.error,M.error=function(e,t,r){var a=M.context||this;m.apply(a,[e,t,r,X])}),M.complete&&(p=M.complete,M.complete=function(e,t){var r=M.context||this;p.apply(r,[e,t,X])});var v=0<q("input[type=file]:enabled",this).filter(function(){return""!==q(this).val()}).length,g="multipart/form-data",x=X.attr("enctype")===g||X.attr("encoding")===g,y=S.fileapi&&S.formdata;N("fileAPI :"+y);var b,T=(v||x)&&!y;!1!==M.iframe&&(M.iframe||T)?M.closeKeepAlive?q.get(M.closeKeepAlive,function(){b=w(l)}):b=w(l):b=(v||x)&&y?function(e){for(var r=new FormData,t=0;t<e.length;t++)r.append(e[t].name,e[t].value);if(M.extraData){var a=function(e){var t,r,a=q.param(e,M.traditional).split("&"),n=a.length,o=[];for(t=0;t<n;t++)a[t]=a[t].replace(/\+/g," "),r=a[t].split("="),o.push([decodeURIComponent(r[0]),decodeURIComponent(r[1])]);return o}(M.extraData);for(t=0;t<a.length;t++)a[t]&&r.append(a[t][0],a[t][1])}M.data=null;var n=q.extend(!0,{},q.ajaxSettings,M,{contentType:!1,processData:!1,cache:!1,type:O||"POST"});M.uploadProgress&&(n.xhr=function(){var e=q.ajaxSettings.xhr();return e.upload&&e.upload.addEventListener("progress",function(e){var t=0,r=e.loaded||e.position,a=e.total;e.lengthComputable&&(t=Math.ceil(r/a*100)),M.uploadProgress(e,r,a,t)},!1),e});n.data=null;var o=n.beforeSend;return n.beforeSend=function(e,t){M.formData?t.data=M.formData:t.data=r,o&&o.call(this,e,t)},q.ajax(n)}(l):q.ajax(M),X.removeData("jqxhr").data("jqxhr",b);for(var j=0;j<C.length;j++)C[j]=null;return this.trigger("form-submit-notify",[this,M]),this;function w(e){var t,r,l,f,o,d,m,p,a,n,h,v,i=X[0],g=q.Deferred();if(g.abort=function(e){p.abort(e)},e)for(r=0;r<C.length;r++)t=q(C[r]),_?t.prop("disabled",!1):t.removeAttr("disabled");(l=q.extend(!0,{},q.ajaxSettings,M)).context=l.context||l,o="jqFormIO"+(new Date).getTime();var s=i.ownerDocument,u=X.closest("body");if(l.iframeTarget?(n=(d=q(l.iframeTarget,s)).attr2("name"))?o=n:d.attr2("name",o):(d=q('<iframe name="'+o+'" src="'+l.iframeSrc+'" />',s)).css({position:"absolute",top:"-1000px",left:"-1000px"}),m=d[0],p={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(e){var t="timeout"===e?"timeout":"aborted";N("aborting upload... "+t),this.aborted=1;try{m.contentWindow.document.execCommand&&m.contentWindow.document.execCommand("Stop")}catch(e){}d.attr("src",l.iframeSrc),p.error=t,l.error&&l.error.call(l.context,p,t,e),f&&q.event.trigger("ajaxError",[p,l,t]),l.complete&&l.complete.call(l.context,p,t)}},(f=l.global)&&0==q.active++&&q.event.trigger("ajaxStart"),f&&q.event.trigger("ajaxSend",[p,l]),l.beforeSend&&!1===l.beforeSend.call(l.context,p,l))return l.global&&q.active--,g.reject(),g;if(p.aborted)return g.reject(),g;(a=i.clk)&&(n=a.name)&&!a.disabled&&(l.extraData=l.extraData||{},l.extraData[n]=a.value,"image"===a.type&&(l.extraData[n+".x"]=i.clk_x,l.extraData[n+".y"]=i.clk_y));var x=1,y=2;function b(t){var r=null;try{t.contentWindow&&(r=t.contentWindow.document)}catch(e){N("cannot get iframe.contentWindow document: "+e)}if(r)return r;try{r=t.contentDocument?t.contentDocument:t.document}catch(e){N("cannot get iframe.contentDocument: "+e),r=t.document}return r}var c=q("meta[name=csrf-token]").attr("content"),T=q("meta[name=csrf-param]").attr("content");function j(){var e=X.attr2("target"),t=X.attr2("action"),r=X.attr("enctype")||X.attr("encoding")||"multipart/form-data";i.setAttribute("target",o),O&&!/post/i.test(O)||i.setAttribute("method","POST"),t!==l.url&&i.setAttribute("action",l.url),l.skipEncodingOverride||O&&!/post/i.test(O)||X.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"}),l.timeout&&(v=setTimeout(function(){h=!0,A(x)},l.timeout));var a=[];try{if(l.extraData)for(var n in l.extraData)l.extraData.hasOwnProperty(n)&&(q.isPlainObject(l.extraData[n])&&l.extraData[n].hasOwnProperty("name")&&l.extraData[n].hasOwnProperty("value")?a.push(q('<input type="hidden" name="'+l.extraData[n].name+'">',s).val(l.extraData[n].value).appendTo(i)[0]):a.push(q('<input type="hidden" name="'+n+'">',s).val(l.extraData[n]).appendTo(i)[0]));l.iframeTarget||d.appendTo(u),m.attachEvent?m.attachEvent("onload",A):m.addEventListener("load",A,!1),setTimeout(function e(){try{var t=b(m).readyState;N("state = "+t),t&&"uninitialized"===t.toLowerCase()&&setTimeout(e,50)}catch(e){N("Server abort: ",e," (",e.name,")"),A(y),v&&clearTimeout(v),v=void 0}},15);try{i.submit()}catch(e){document.createElement("form").submit.apply(i)}}finally{i.setAttribute("action",t),i.setAttribute("enctype",r),e?i.setAttribute("target",e):X.removeAttr("target"),q(a).remove()}}T&&c&&(l.extraData=l.extraData||{},l.extraData[T]=c),l.forceSync?j():setTimeout(j,10);var w,S,k,D=50;function A(e){if(!p.aborted&&!k){if((S=b(m))||(N("cannot access response document"),e=y),e===x&&p)return p.abort("timeout"),void g.reject(p,"timeout");if(e===y&&p)return p.abort("server abort"),void g.reject(p,"error","server abort");if(S&&S.location.href!==l.iframeSrc||h){m.detachEvent?m.detachEvent("onload",A):m.removeEventListener("load",A,!1);var t,r="success";try{if(h)throw"timeout";var a="xml"===l.dataType||S.XMLDocument||q.isXMLDoc(S);if(N("isXml="+a),!a&&window.opera&&(null===S.body||!S.body.innerHTML)&&--D)return N("requeing onLoad callback, DOM not available"),void setTimeout(A,250);var n=S.body?S.body:S.documentElement;p.responseText=n?n.innerHTML:null,p.responseXML=S.XMLDocument?S.XMLDocument:S,a&&(l.dataType="xml"),p.getResponseHeader=function(e){return{"content-type":l.dataType}[e.toLowerCase()]},n&&(p.status=Number(n.getAttribute("status"))||p.status,p.statusText=n.getAttribute("statusText")||p.statusText);var o,i,s,u=(l.dataType||"").toLowerCase(),c=/(json|script|text)/.test(u);c||l.textarea?(o=S.getElementsByTagName("textarea")[0])?(p.responseText=o.value,p.status=Number(o.getAttribute("status"))||p.status,p.statusText=o.getAttribute("statusText")||p.statusText):c&&(i=S.getElementsByTagName("pre")[0],s=S.getElementsByTagName("body")[0],i?p.responseText=i.textContent?i.textContent:i.innerText:s&&(p.responseText=s.textContent?s.textContent:s.innerText)):"xml"===u&&!p.responseXML&&p.responseText&&(p.responseXML=F(p.responseText));try{w=E(p,u,l)}catch(e){r="parsererror",p.error=t=e||r}}catch(e){N("error caught: ",e),r="error",p.error=t=e||r}p.aborted&&(N("upload aborted"),r=null),p.status&&(r=200<=p.status&&p.status<300||304===p.status?"success":"error"),"success"===r?(l.success&&l.success.call(l.context,w,"success",p),g.resolve(p.responseText,"success",p),f&&q.event.trigger("ajaxSuccess",[p,l])):r&&(void 0===t&&(t=p.statusText),l.error&&l.error.call(l.context,p,r,t),g.reject(p,"error",t),f&&q.event.trigger("ajaxError",[p,l,t])),f&&q.event.trigger("ajaxComplete",[p,l]),f&&!--q.active&&q.event.trigger("ajaxStop"),l.complete&&l.complete.call(l.context,p,r),k=!0,l.timeout&&clearTimeout(v),setTimeout(function(){l.iframeTarget?d.attr("src",l.iframeSrc):d.remove(),p.responseXML=null},100)}}}var F=q.parseXML||function(e,t){return window.ActiveXObject?((t=new ActiveXObject("Microsoft.XMLDOM")).async="false",t.loadXML(e)):t=(new DOMParser).parseFromString(e,"text/xml"),t&&t.documentElement&&"parsererror"!==t.documentElement.nodeName?t:null},L=q.parseJSON||function(e){return window.eval("("+e+")")},E=function(e,t,r){var a=e.getResponseHeader("content-type")||"",n=("xml"===t||!t)&&0<=a.indexOf("xml"),o=n?e.responseXML:e.responseText;return n&&"parsererror"===o.documentElement.nodeName&&q.error&&q.error("parsererror"),r&&r.dataFilter&&(o=r.dataFilter(o,t)),"string"==typeof o&&(("json"===t||!t)&&0<=a.indexOf("json")?o=L(o):("script"===t||!t)&&0<=a.indexOf("javascript")&&q.globalEval(o)),o};return g}},q.fn.ajaxForm=function(e,t,r,a){if(("string"==typeof e||!1===e&&0<arguments.length)&&(e={url:e,data:t,dataType:r},"function"==typeof a&&(e.success=a)),(e=e||{}).delegation=e.delegation&&q.isFunction(q.fn.on),e.delegation||0!==this.length)return e.delegation?(q(document).off("submit.form-plugin",this.selector,o).off("click.form-plugin",this.selector,i).on("submit.form-plugin",this.selector,e,o).on("click.form-plugin",this.selector,e,i),this):(e.beforeFormUnbind&&e.beforeFormUnbind(this,e),this.ajaxFormUnbind().on("submit.form-plugin",e,o).on("click.form-plugin",e,i));var n={s:this.selector,c:this.context};return!q.isReady&&n.s?(N("DOM not ready, queuing ajaxForm"),q(function(){q(n.s,n.c).ajaxForm(e)})):N("terminating; zero elements found by selector"+(q.isReady?"":" (DOM not ready)")),this},q.fn.ajaxFormUnbind=function(){return this.off("submit.form-plugin click.form-plugin")},q.fn.formToArray=function(e,t,r){var a=[];if(0===this.length)return a;var n,o,i,s,u,c,l,f,d,m,p=this[0],h=this.attr("id"),v=(v=e||void 0===p.elements?p.getElementsByTagName("*"):p.elements)&&q.makeArray(v);if(h&&(e||/(Edge|Trident)\//.test(navigator.userAgent))&&(n=q(':input[form="'+h+'"]').get()).length&&(v=(v||[]).concat(n)),!v||!v.length)return a;for(q.isFunction(r)&&(v=q.map(v,r)),o=0,c=v.length;o<c;o++)if((m=(u=v[o]).name)&&!u.disabled)if(e&&p.clk&&"image"===u.type)p.clk===u&&(a.push({name:m,value:q(u).val(),type:u.type}),a.push({name:m+".x",value:p.clk_x},{name:m+".y",value:p.clk_y}));else if((s=q.fieldValue(u,!0))&&s.constructor===Array)for(t&&t.push(u),i=0,l=s.length;i<l;i++)a.push({name:m,value:s[i]});else if(S.fileapi&&"file"===u.type){t&&t.push(u);var g=u.files;if(g.length)for(i=0;i<g.length;i++)a.push({name:m,value:g[i],type:u.type});else a.push({name:m,value:"",type:u.type})}else null!=s&&(t&&t.push(u),a.push({name:m,value:s,type:u.type,required:u.required}));return e||!p.clk||(m=(d=(f=q(p.clk))[0]).name)&&!d.disabled&&"image"===d.type&&(a.push({name:m,value:f.val()}),a.push({name:m+".x",value:p.clk_x},{name:m+".y",value:p.clk_y})),a},q.fn.formSerialize=function(e){return q.param(this.formToArray(e))},q.fn.fieldSerialize=function(n){var o=[];return this.each(function(){var e=this.name;if(e){var t=q.fieldValue(this,n);if(t&&t.constructor===Array)for(var r=0,a=t.length;r<a;r++)o.push({name:e,value:t[r]});else null!=t&&o.push({name:this.name,value:t})}}),q.param(o)},q.fn.fieldValue=function(e){for(var t=[],r=0,a=this.length;r<a;r++){var n=this[r],o=q.fieldValue(n,e);null==o||o.constructor===Array&&!o.length||(o.constructor===Array?q.merge(t,o):t.push(o))}return t},q.fieldValue=function(e,t){var r=e.name,a=e.type,n=e.tagName.toLowerCase();if(void 0===t&&(t=!0),t&&(!r||e.disabled||"reset"===a||"button"===a||("checkbox"===a||"radio"===a)&&!e.checked||("submit"===a||"image"===a)&&e.form&&e.form.clk!==e||"select"===n&&-1===e.selectedIndex))return null;if("select"!==n)return q(e).val().replace(m,"\r\n");var o=e.selectedIndex;if(o<0)return null;for(var i=[],s=e.options,u="select-one"===a,c=u?o+1:s.length,l=u?o:0;l<c;l++){var f=s[l];if(f.selected&&!f.disabled){var d=(d=f.value)||(f.attributes&&f.attributes.value&&!f.attributes.value.specified?f.text:f.value);if(u)return d;i.push(d)}}return i},q.fn.clearForm=function(e){return this.each(function(){q("input,select,textarea",this).clearFields(e)})},q.fn.clearFields=q.fn.clearInputs=function(r){var a=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var e=this.type,t=this.tagName.toLowerCase();a.test(e)||"textarea"===t?this.value="":"checkbox"===e||"radio"===e?this.checked=!1:"select"===t?this.selectedIndex=-1:"file"===e?/MSIE/.test(navigator.userAgent)?q(this).replaceWith(q(this).clone(!0)):q(this).val(""):r&&(!0===r&&/hidden/.test(e)||"string"==typeof r&&q(this).is(r))&&(this.value="")})},q.fn.resetForm=function(){return this.each(function(){var t=q(this),e=this.tagName.toLowerCase();switch(e){case"input":this.checked=this.defaultChecked;case"textarea":return this.value=this.defaultValue,!0;case"option":case"optgroup":var r=t.parents("select");return r.length&&r[0].multiple?"option"===e?this.selected=this.defaultSelected:t.find("option").resetForm():r.resetForm(),!0;case"select":return t.find("option").each(function(e){if(this.selected=this.defaultSelected,this.defaultSelected&&!t[0].multiple)return t[0].selectedIndex=e,!1}),!0;case"label":var a=q(t.attr("for")),n=t.find("input,select,textarea");return a[0]&&n.unshift(a[0]),n.resetForm(),!0;case"form":return"function"!=typeof this.reset&&("object"!=typeof this.reset||this.reset.nodeType)||this.reset(),!0;default:return t.find("form,input,label,select,textarea").resetForm(),!0}})},q.fn.enable=function(e){return void 0===e&&(e=!0),this.each(function(){this.disabled=!e})},q.fn.selected=function(r){return void 0===r&&(r=!0),this.each(function(){var e,t=this.type;"checkbox"===t||"radio"===t?this.checked=r:"option"===this.tagName.toLowerCase()&&(e=q(this).parent("select"),r&&e[0]&&"select-one"===e[0].type&&e.find("option").selected(!1),this.selected=r)})},q.fn.ajaxSubmit.debug=!1});
;

// ***************************
// js.compressed/jquery/jquery.selectBox.min.js
// ***************************
/*
 jQuery selectBox - A cosmetic, styleable replacement for SELECT elements

  Copyright 2012 Cory LaViska for A Beautiful Site, LLC.

  https://github.com/claviska/jquery-selectBox

  Licensed under both the MIT license and the GNU GPLv2 (same as jQuery: http://jquery.org/license)


  Note: Modified for vBulletin. Grep for 'vBulletin' to see the changes.
*/
jQuery&&function(c){c.extend(c.fn,{selectBox:function(x,k){var y,p="",z=navigator.platform.match(/mac/i),E=function(a,b){if(navigator.userAgent.match(/iPad|iPhone|Android|IEMobile|BlackBerry/i)||"select"!==a.tagName.toLowerCase())return!1;a=c(a);if(a.data("selectBox-control")||a.is(":hidden")&&(!b||!b.allowHidden))return!1;var e=c('<a class="selectBox" />'),d=a.attr("multiple")||1<parseInt(a.attr("size"));b=b||{};e.addClass(a.attr("class")).attr("title",a.attr("title")||"").attr("tabindex",
parseInt(a.attr("tabindex"))).css("display","inline-block").on("focus.selectBox",function(){this!==document.activeElement&&document.body!==document.activeElement&&c(document.activeElement).blur();e.hasClass("selectBox-active")||(e.addClass("selectBox-active"),a.trigger("focus"))}).on("blur.selectBox",function(){e.hasClass("selectBox-active")&&(e.removeClass("selectBox-active"),a.trigger("blur"))});if(!c(window).data("selectBox-bindings"))c(window).data("selectBox-bindings",!0).on("scroll.selectBox",
l).on("resize.selectBox",l);a.attr("disabled")&&e.addClass("selectBox-disabled");a.on("click.selectBox",function(a){e.focus();a.preventDefault()});if(d){var f=t(a,"inline");e.append(f).data("selectBox-options",f).addClass("selectBox-inline selectBox-menuShowing").on("keydown.selectBox",function(b){A(a,b)}).on("keypress.selectBox",function(b){B(a,b)}).on("mousedown.selectBox",function(a){c(a.target).is("A.selectBox-inline")&&a.preventDefault();e.hasClass("selectBox-focus")||e.focus()}).insertAfter(a);
e.width(a.css("fontSize",e.css("fontSize")).outerWidth());if(!a[0].style.height){d=a.attr("size")?parseInt(a.attr("size")):5;var h=e.clone().removeAttr("id").css({position:"absolute",top:"-9999em"}).show().appendTo("body");h.find(".selectBox-options").html("<li><a></a></li>");var g=parseInt(h.find(".selectBox-options A:first").html("&nbsp;").outerHeight());h.remove();e.height(g*d)}}else d=c('<span class="selectBox-label" />'),h=c('<span class="selectBox-arrow" />'),d.attr("class",C(a)).text(D(a)),
f=t(a,"dropdown"),f.appendTo("BODY"),e.data("selectBox-options",f).addClass("selectBox-dropdown").append(d).append(h).on("mousedown.selectBox",function(b){e.hasClass("selectBox-menuShowing")?l():(b.stopPropagation(),f.data("selectBox-down-at-x",b.screenX).data("selectBox-down-at-y",b.screenY),m(a))}).on("keydown.selectBox",function(b){A(a,b)}).on("keypress.selectBox",function(b){B(a,b)}).on("open.selectBox",function(b,c){c&&!0===c._selectBox||m(a)}).on("close.selectBox",function(a,b){b&&!0===b._selectBox||
l()}).insertAfter(a),g=a.addClass("h-pre-selectbox").outerWidth(),e.width(g),h=e.width()-h.outerWidth()-parseInt(d.css("paddingLeft"))-parseInt(d.css("paddingRight")),d.width(h);u(e);a.addClass("selectBox").data("selectBox-control",e).data("selectBox-settings",b).hide()},t=function(a,b){var e=function(a,b){a.children("OPTION, OPTGROUP").each(function(){if(c(this).is("OPTION"))if(0<c(this).length){var a=c(this),d=b,f=c("<li />"),h=c("<a />");f.addClass(a.attr("class"));f.data(a.data());h.attr("rel",
a.val()).text(a.text());f.append(h);a.attr("disabled")&&f.addClass("selectBox-disabled");a.prop("selected")&&f.addClass("selectBox-selected");d.append(f)}else b.append("<li></li>");else a=c('<li class="selectBox-optgroup" />'),a.text(c(this).attr("label")),b.append(a),b=e(c(this),b)});return b};switch(b){case "inline":var d=c('<ul class="selectBox-options" />');d=e(a,d);d.find("A").on("mouseover.selectBox",function(b){n(a,c(this).parent())}).on("mouseout.selectBox",function(b){v(a,c(this).parent())}).on("mousedown.selectBox",
function(b){b.preventDefault();a.selectBox("control").hasClass("selectBox-active")||a.selectBox("control").focus()}).on("mouseup.selectBox",function(b){l();q(a,c(this).parent(),b)});u(d);return d;case "dropdown":d=c('<ul class="selectBox-dropdown-menu selectBox-options" />');d=e(a,d);d.data("selectBox-select",a).css("display","none").appendTo("BODY").find("A").on("mousedown.selectBox",function(a){a.preventDefault();a.screenX===d.data("selectBox-down-at-x")&&a.screenY===d.data("selectBox-down-at-y")&&
(d.removeData("selectBox-down-at-x").removeData("selectBox-down-at-y"),l())}).on("mouseup.selectBox",function(b){if(b.screenX!==d.data("selectBox-down-at-x")||b.screenY!==d.data("selectBox-down-at-y"))d.removeData("selectBox-down-at-x").removeData("selectBox-down-at-y"),q(a,c(this).parent()),l()}).on("mouseover.selectBox",function(b){n(a,c(this).parent())}).on("mouseout.selectBox",function(b){v(a,c(this).parent())});b=a.attr("class")||"";if(""!==b){b=b.split(" ");for(var f in b)d.addClass(b[f]+"-selectBox-dropdown-menu")}u(d);
return d}},C=function(a){return("selectBox-label "+(c(a).find("OPTION:selected").attr("class")||"")).replace(/\s+$/,"")},D=function(a){return c(a).find("OPTION:selected").text()||String.fromCharCode(160)},w=function(a){a=c(a);var b=a.data("selectBox-control");b&&b.find(".selectBox-label").attr("class",C(a)).text(D(a))},m=function(a){a=c(a);var b=a.data("selectBox-control")||c(),e=a.data("selectBox-settings")||{},d=b.data("selectBox-options")||c();if(b.hasClass("selectBox-disabled"))return!1;l();var f=
parseInt(b.css("borderBottomWidth"))||0;d.width(b.innerWidth()).css({top:b.offset().top+b.outerHeight()-f,left:b.offset().left});if(a.triggerHandler("beforeopen"))return!1;f=function(){a.triggerHandler("open",{_selectBox:!0});var e=c(window).scrollTop(),f=e+c(window).height(),k=d.offset().top,l=k+d.outerHeight();0<=k-e&&0<=f-l||d.css("top",parseFloat(d.css("top"))-(b.outerHeight()+d.outerHeight()))};switch(e.menuTransition){case "fade":d.fadeIn(e.menuSpeed,f);break;case "slide":d.slideDown(e.menuSpeed,
f);break;default:d.show(e.menuSpeed,f)}e.menuSpeed||f();e=d.find(".selectBox-selected:first");r(a,e,!0);n(a,e);b.addClass("selectBox-menuShowing");c(document).on("mousedown.selectBox",function(a){c(a.target).parents().addBack().hasClass("selectBox-options")||l()})},l=function(){0!==c(".selectBox-dropdown-menu:visible").length&&(c(document).off("mousedown.selectBox"),c(".selectBox-dropdown-menu").each(function(){var a=c(this),b=a.data("selectBox-select")||c(),e=b.data("selectBox-control")||c(),d=b.data("selectBox-settings")||
{};if(b.triggerHandler("beforeclose"))return!1;var f=function(){b.triggerHandler("close",{_selectBox:!0})};switch(d.menuTransition){case "fade":a.fadeOut(d.menuSpeed,f);break;case "slide":a.slideUp(d.menuSpeed,f);break;default:a.hide(d.menuSpeed,f)}d.menuSpeed||f();e.removeClass("selectBox-menuShowing")}))},q=function(a,b,e){a=c(a);b=c(b);var d=a.data("selectBox-control")||c();a.data("selectBox-settings");if(d.hasClass("selectBox-disabled")||0===b.length||b.hasClass("selectBox-disabled"))return!1;
a.attr("multiple")?e.shiftKey&&d.data("selectBox-last-selected")?(b.toggleClass("selectBox-selected"),e=b.index()>d.data("selectBox-last-selected").index()?b.siblings().slice(d.data("selectBox-last-selected").index(),b.index()):b.siblings().slice(b.index(),d.data("selectBox-last-selected").index()),e=e.not(".selectBox-optgroup, .selectBox-disabled"),b.hasClass("selectBox-selected")?e.addClass("selectBox-selected"):e.removeClass("selectBox-selected")):z&&e.metaKey||!z&&e.ctrlKey?b.toggleClass("selectBox-selected"):
(b.siblings().removeClass("selectBox-selected"),b.addClass("selectBox-selected")):(b.siblings().removeClass("selectBox-selected"),b.addClass("selectBox-selected"));d.hasClass("selectBox-dropdown")&&d.find(".selectBox-label").text(b.text());var f=0,h=[];a.attr("multiple")?d.find(".selectBox-selected A").each(function(){h[f++]=c(this).attr("rel")}):h=b.find("A").attr("rel");d.data("selectBox-last-selected",b);a.val()!==h&&(a.val(h),w(a),a.trigger("change"));return!0},n=function(a,b){a=c(a);b=c(b);((a.data("selectBox-control")||
c()).data("selectBox-options")||c()).find(".selectBox-hover").removeClass("selectBox-hover");b.addClass("selectBox-hover")},v=function(a,b){a=c(a);c(b);((a.data("selectBox-control")||c()).data("selectBox-options")||c()).find(".selectBox-hover").removeClass("selectBox-hover")},r=function(a,b,e){if(b&&0!==b.length){a=c(a);a=a.data("selectBox-control")||c();var d=a.data("selectBox-options")||c();a=a.hasClass("selectBox-dropdown")?d:d.parent();d=parseInt(b.offset().top-a.position().top);var f=parseInt(d+
b.outerHeight());e?a.scrollTop(b.offset().top-a.offset().top+a.scrollTop()-a.height()/2):(0>d&&a.scrollTop(b.offset().top-a.offset().top+a.scrollTop()),f>a.height()&&a.scrollTop(b.offset().top+b.outerHeight()-a.offset().top+a.scrollTop()-a.height()))}},A=function(a,b){a=c(a);var e=a.data("selectBox-control")||c(),d=e.data("selectBox-options")||c(),f=a.data("selectBox-settings")||{},h;if(!e.hasClass("selectBox-disabled"))switch(b.keyCode){case 8:b.preventDefault();p="";break;case 9:case 27:l();v(a);
break;case 13:e.hasClass("selectBox-menuShowing")?(q(a,d.find("LI.selectBox-hover:first"),b),e.hasClass("selectBox-dropdown")&&l()):m(a);break;case 38:case 37:b.preventDefault();if(e.hasClass("selectBox-menuShowing")){var g=d.find(".selectBox-hover").prev("LI");e=d.find("LI:not(.selectBox-optgroup)").length;for(h=0;(0===g.length||g.hasClass("selectBox-disabled")||g.hasClass("selectBox-optgroup"))&&!(g=g.prev("LI"),0===g.length&&(g=f.loopOptions?d.find("LI:last"):d.find("LI:first")),++h>=e););n(a,
g);q(a,g,b);r(a,g)}else m(a);break;case 40:case 39:if(b.preventDefault(),e.hasClass("selectBox-menuShowing")){g=d.find(".selectBox-hover").next("LI");e=d.find("LI:not(.selectBox-optgroup)").length;for(h=0;(0===g.length||g.hasClass("selectBox-disabled")||g.hasClass("selectBox-optgroup"))&&!(g=g.next("LI"),0===g.length&&(g=f.loopOptions?d.find("LI:first"):d.find("LI:last")),++h>=e););n(a,g);q(a,g,b);r(a,g)}else m(a)}},B=function(a,b){a=c(a);var e=a.data("selectBox-control")||c(),d=e.data("selectBox-options")||
c();if(!e.hasClass("selectBox-disabled"))switch(b.keyCode){case 9:case 27:case 13:case 38:case 37:case 40:case 39:break;default:e.hasClass("selectBox-menuShowing")||m(a),b.preventDefault(),clearTimeout(y),p+=String.fromCharCode(b.charCode||b.keyCode),d.find("A").each(function(){if(c(this).text().substr(0,p.length).toLowerCase()===p.toLowerCase())return n(a,c(this).parent()),r(a,c(this).parent()),!1}),y=setTimeout(function(){p=""},1E3)}},F=function(a,b){a=c(a);a.val(b);b=a.val();null!==b||a.attr("multiple")||
(a[0].selectedIndex=0,b=a.val());var e=a.data("selectBox-control");if(e){var d=a.data("selectBox-settings")||{};e=e.data("selectBox-options")||c();w(a);e.find(".selectBox-selected").removeClass("selectBox-selected");e.find("A").each(function(){if("object"===typeof b)for(var a=0;a<b.length;a++)c(this).attr("rel")==b[a]&&c(this).parent().addClass("selectBox-selected");else c(this).attr("rel")==b&&c(this).parent().addClass("selectBox-selected")});d.change&&d.change.call(a)}},u=function(a){c(a).css("MozUserSelect",
"none").on("selectstart",function(a){a.preventDefault()})};switch(x){case "control":return c(this).data("selectBox-control");case "settings":if(!k)return c(this).data("selectBox-settings");c(this).each(function(){c(this).data("selectBox-settings",c.extend(!0,c(this).data("selectBox-settings"),k))});break;case "options":if(void 0===k)return c(this).data("selectBox-control").data("selectBox-options");c(this).each(function(){var a=c(this);var b=a.data("selectBox-control")||c();a.data("selectBox-settings");
switch(typeof k){case "string":a.html(k);break;case "object":for(f in a.html(""),k)if(null!==k[f])if("object"===typeof k[f]){var e=c('<optgroup label="'+f+'" />');for(d in k[f])e.append('<option value="'+d+'">'+k[f][d]+"</option>");a.append(e)}else e=c('<option value="'+f+'">'+k[f]+"</option>"),a.append(e)}if(b){b.data("selectBox-options").remove();var d=b.hasClass("selectBox-dropdown")?"dropdown":"inline";var f=t(a,d);b.data("selectBox-options",f);switch(d){case "inline":b.append(f);break;case "dropdown":w(a),
c("BODY").append(f)}}});break;case "value":if(void 0===k)return c(this).val();c(this).each(function(){F(this,k)});break;case "refresh":c(this).each(function(){var a=c(this);a.selectBox("options",a.html())});break;case "enable":c(this).each(function(){var a=c(this);a.attr("disabled",!1);(a=a.data("selectBox-control"))&&a.removeClass("selectBox-disabled")});break;case "disable":c(this).each(function(){var a=c(this);a.attr("disabled",!0);(a=a.data("selectBox-control"))&&a.addClass("selectBox-disabled")});
break;case "destroy":c(this).each(function(){var a=c(this);var b=a.data("selectBox-control");b&&((b.data("selectBox-options")||c()).remove(),b.remove(),a.removeClass("selectBox").removeData("selectBox-control").data("selectBox-control",null).removeData("selectBox-settings").data("selectBox-settings",null).show())});break;default:c(this).each(function(){E(this,x)})}return c(this)}})}(jQuery);
;

// ***************************
// js.compressed/storage.js
// ***************************
vBulletin.createStorageTools=function(g,m){function f(a){if(!a.loaded){a.loaded=!0;try{var b=localStorage.getItem(g+a.name);if(b)if(b=JSON.parse(b),a.istimed){a.cache.values=b.values||a.cache.values;a.cache.times=b.times||a.cache.times;b=!1;var c=a.cache.values,d=a.cache.times,e;for(e in c)d[e]<a.latest&&(delete c[e],delete d[e],b=!0);b&&k(a)}else a.cache.values=b}catch(q){}}}function k(a){try{var b=g+a.name,c=a.cache;a.istimed||(c=c.values);localStorage.removeItem(b);localStorage.setItem(b,JSON.stringify(c))}catch(d){}}
function l(a,b,c,d){this.loaded=!1;this.name=a;this.cache={values:{},times:{}};if(this.istimed=!!b)this.latest=c,this.current=d}function h(a,b,c=!1,d=!0){let e={};c&&(!0===c&&(c=365),e.expires=c);m.set((d?g:"")+a,b,e)}function n(a,b=!0){return m.get((b?g:"")+a)}function p(a,b){this.name=a;this.permanent=b;try{var c=n(a);c&&(this.cache=JSON.parse(c))}catch(d){}this.cache=this.cache||{}}try{localStorage.removeItem("vbcache-")}catch(a){}l.prototype={get:function(a){f(this);var b=this.cache.values;return b.hasOwnProperty(a)?
b[a]:null},getAll:function(){f(this);return this.cache.values},isSet:function(a){f(this);return this.cache.values.hasOwnProperty(a)},set:function(a,b){f(this);var c=a;$.isPlainObject(a)||(c={},c[a]=b);for(_key in c)this.cache.values[_key]=c[_key],this.istimed&&(this.cache.times[_key]=this.current);k(this)},unset:function(a){f(this);delete this.cache.values[a];delete this.cache.times[a];k(this)}};p.prototype={get:function(a,b){return this.cache.hasOwnProperty(a)?this.cache[a]:void 0!==b?b:null},getAll:function(){return this.cache},
set:function(a,b){this.cache[a]=b;h(this.name,JSON.stringify(this.cache),this.permanent)},unset:function(a){delete this.cache[a];h(this.name,JSON.stringify(this.cache),this.permanent)}};return{createStorage:a=>new l(a),createStorageTimed:(a,b,c)=>new l(a,!0,b,c),createArrayCookie:(a,b)=>new p(a,b),setCookie:h,getCookie:n,deleteCookie:(a,b=!0)=>h(a,"",-1,b)}};
;

// ***************************
// js.compressed/sitedata.js
// ***************************
vBulletin.createSiteDataTools=function(v){function r(){var a=[],c=[];(new Set(g)).forEach(function(b){a.push(b)});a=a.filter(function(b){return!h.isSet(b)});(new Set(k)).forEach(function(b){c.push(b)});c=c.filter(function(b){return!l.isSet(b+n)});vBulletin.loadingIndicator.suppressNextAjaxIndicator();$.ajax({url:v+"/ajax/loaddata",async:!1,data:{options:a,phrases:c},type:"POST",dataType:"json",success:function(b){if(b&&!b.hasOwnProperty("errors")){g.length=0;k.length=0;var m={},p=b.options;$.each(a,
function(w,e){m[e]=p.hasOwnProperty(e)?p[e]:null});h.set(m);var t={},u=b.phrases;$.each(c,function(w,e){t[e+n]=u.hasOwnProperty(e)?u[e]:e});l.set(t)}else console.warn("Unexpected result when fetching options",b)},error:function(b,m,p){console.warn("Error when fetching options: {0}".format(p))}})}var q={},l,k,d,n,f={},h,g;q.init=function(a,c,b,m){d=a;n="-"+c;l=b;k=m};q.get=function(){if(1>arguments.length)return console.log("vBulletin.phrase.get() called with no parameters"),"";var a=arguments;Array.isArray(a[0])&&
(a=a[0]);var c=a[0]+n;l.isSet(c)||(k.push(a[0]),r());var b=l.get(c);if(!b)return c;b=b.replace(/\{sitename\}/g,f.get("bbtitle")).replace(/\{musername\}/g,d.musername).replace(/\{username\}/g,d.username).replace(/\{userid\}/g,d.userid).replace(/\{registerurl\}/g,d.registerurl).replace(/\{activationurl\}/g,d.activationurl).replace(/\{helpurl\}/g,d.helpurl).replace(/\{contacturl\}/g,d.contacturl).replace(/\{homeurl\}/g,d.baseurl).replace(/\{date\}/g,d.datenow).replace(/\{webmasteremail\}/g,f.get("webmasteremail")).replace(/\{register_page\}/g,
d.registerurl).replace(/\{activation_page\}/g,d.activationurl).replace(/\{help_page\}/g,d.helpurl).replace(/\{sessionurl\}/g,"").replace(/\{sessionurl_q\}/g,"");for(c=1;c<a.length;++c)b=b.replace(new RegExp("%"+c+"\\$s","gm"),a[c]);return b};q.register=function(a){$.merge(k,$.makeArray(a))};f.init=function(a,c){h=a;g=c};f.get=function(a){h.isSet(a)||(g.push(a),r(a));return h.get(a)};f.register=function(a){$.merge(g,$.makeArray(a))};return{phrase:q,options:f}};
;

// ***************************
// js.compressed/dialog.js
// ***************************
vBulletin.precache(["cancel","no","ok","yes"],[]);
vBulletin.createDialogTools=(f,r,h)=>{function t(a,b,c){a.data("created")||a.dialog({autoOpen:!1,modal:!0,resizable:!1,closeOnEscape:!1,showCloseButton:!1,dialogClass:"dialog-container dialog-box "+c,create:()=>{a.data("created",!0)}});a.dialog("option","width",b||500);a.find(".js-button").toggleClass("b-button--sitebuilder",f("body").is(".edit-mode, .js-edit-mode-style"))}function u(a,b){a=a.find(".icon");a.removeClass((c,e)=>(e.match(/b-icon\S+\b/g)||[]).join(" ")+" no-icon b-icon");switch(b){case "warning":case "error":a.addClass("b-icon b-icon__warning-l--red h-margin-right-xl");
a.show();break;default:a.addClass("no-icon").hide()}}function v(a,b,c=e=>e){b&&a.find(".message").html(c(b))}function w(a){var b=f("#prompt-dialog");b.data("created")||b.dialog({autoOpen:!1,modal:!0,resizable:!1,closeOnEscape:!1,showCloseButton:!1,width:500,dialogClass:"dialog-container prompt-dialog-container dialog-box",create:function(){b.data("created",!0)}});a=a||{};b.dialog("option","title",a.title);var c=b.find(".dialog-content"),e=c.find(".message");a.message&&e.html(a.message);e=a.initialValue||
"";if(a.multiline){var d=b.find("textarea.input-box").val(e).removeClass("h-hide");d.prev().addClass("h-hide");c.removeClass("table");c.find("> .td").removeClass("td")}else d=b.find("input.input-box").val(e).removeClass("h-hide"),d.next().addClass("h-hide"),Number(a.maxlength)?d.attr("maxlength",Number(a.maxlength)):d.removeAttr("maxlength"),c.addClass("table"),c.find("> div").addClass("td");a.buttonLabel=a.buttonLabel||{};a.buttonLabel.okLabel=a.buttonLabel.okLabel||h.get("ok");a.buttonLabel.cancelLabel=
a.buttonLabel.cancelLabel||h.get("cancel");f("#btnPromptDialogOK").html(a.buttonLabel.okLabel);f("#btnPromptDialogCancel").html(a.buttonLabel.cancelLabel);var g;b.find(".js-button").toggleClass("b-button--sitebuilder",f("body").is(".edit-mode, .js-edit-mode-style"));b.off("dialogopen").on("dialogopen",function(){f("#btnPromptDialogOK").off("click").on("click",function(){g=this;var m=f.trim(d.val());if(a.validation&&"object"==typeof a.validation){var k=a.validation;if(!k.override&&k.callback){var l=
k.callback;Array.isArray(l)||(l=[l]);for(i=0;i<l.length;i++)if("function"==typeof l[i]){var n=l[i].apply(b,[d,a]);if(!0!==n)return n&&k.showError&&b.find(".js-prompt-error").html(h.get(n)).removeClass("h-hide"),d.trigger("select").trigger("focus"),!1}}if("function"==typeof k.custom&&!k.custom.apply(this,[d]))return!1}if("function"==typeof a.onClickOK){var A=a.onClickOK.apply(this,[m]);if("undefined"!=typeof a.onClickOKWithAjax&&a.onClickOKWithAjax)return!1}if(!1===A)return!1;if("function"==typeof a.onBeforeClose){var B=
a.onBeforeClose.apply(this);if("undefined"!=typeof a.onBeforeCloseWithAjax&&a.onBeforeCloseWithAjax)return!1}if(!1===B)return!1;b.dialog("close")}).trigger("focus");f("#btnPromptDialogCancel").off("click").on("click",function(){g=this;"function"==typeof a.onClickCancel&&a.onClickCancel.apply(this);"function"==typeof a.onBeforeClose&&a.onBeforeClose.apply(this);b.dialog("close")})});b.off("dialogclose").on("dialogclose",function(){b.find(".js-prompt-error").addClass("h-hide");"function"==typeof a.onAfterClose&&
(a.onAfterClose.apply(g),d.val(""))});b.dialog("open");d.trigger("focus");return b}function x(a){a=a||{};let b=f("#confirm-dialog");t(b,a.width,"");b.dialog("option","dialogClass","dialog-container confirm-dialog-container dialog-box "+(a.dialogClass||""));var c=a.title;b.dialog("option","title",c);b.closest(".ui-dialog").find(".ui-dialog-title").html(c);c=b.find(".dialog-content");u(c,a.iconType);v(c,a.message,g=>g.replace("\n","<br />"));c=a.buttonLabel||{};let e=f("#btnConfirmDialogYes").html(c.yesLabel||
h.get("yes"));$noButton=f("#btnConfirmDialogNo").html(c.noLabel||h.get("no"));e.addClass("b-button--primary").removeClass("b-button--secondary");$noButton.addClass("b-button--secondary").removeClass("b-button--primary");let d;processcallback=g=>p(g).apply(d,[b]);b.offon("dialogopen",function(){e.offon("click",function(){d=this;if(!1===processcallback(a.onClickYes)||a.onClickYesWithAjax||!1===processcallback(a.onBeforeClose))return!1;b.dialog("close")}).trigger("focus");$noButton.offon("click",function(){d=
this;processcallback(a.onClickNo);processcallback(a.onBeforeClose);b.dialog("close")})});b.offon("dialogclose",()=>{processcallback(a.onAfterClose)});b.dialog("open");return b}function y(a){return x({title:h.get(a.title),message:h.get(a.message),width:a.width,dialogClass:a.dialogClass,buttonLabel:{yesLabel:h.get(a.yesPhrase||"yes"),noLabel:h.get(a.noPhrase||"no")},onClickYes:a.onClickYes,onClickNo:a.onClickNo,iconType:a.iconType})}function z(a){a=a||{};var b=f("#alert-dialog");t(b,a.width,"alert-dialog-container");
b.dialog("option","title",a.title);var c=b.find(".dialog-content"),e=f("#btnAlertDialogOK"),d="",g="";u(c,a.iconType);v(c,a.message);a.maxHeight&&(d=a.maxHeight,g="auto");c.css({"max-height":d,overflow:g});e.html(a.buttonLabel||h.get("ok"));b.offon("dialogopen",function(){e.offon("click",function(){p(a.onBeforeClose).apply(this);b.dialog("close")}).trigger("focus");b.parent(".alert-dialog-container").css("z-index","10100")});b.offon("dialogclose",()=>{p(a.onAfterClose).apply(e)});b.dialog("open");
return b}function q(a,b,c,e){var d=e;d instanceof jQuery&&(d=()=>{e.trigger("focus")});z({title:h.get(a),message:h.get(b),iconType:c,onAfterClose:d})}let p=r.ensureFun;f.widget("ui.dialog",f.ui.dialog,{_allowInteraction:function(a){if(this._super(a)||a.target.ownerDocument!=this.document[0]||f(a.target).closest(".cke_dialog").length||f(a.target).closest(".cke").length)return!0}});(function(){var a=jQuery.fn.dialog;jQuery.fn.dialog=function(){if("object"==typeof arguments[0]){var b=function(){};"function"==
typeof arguments[0].open&&(b=arguments[0].open);arguments[0].open=function(){var e=f(this);setTimeout(function(){vBulletin.Responsive.Debounce.runCallbacks();e.closest(".ui-dialog").find(".ui-dialog-titlebar-close .ui-icon").removeClass("ui-icon ui-icon-closethick").addClass("b-icon b-icon__x-square--gray")},0);e.closest(".ui-dialog").find(".ui-dialog-content").removeClass("h-hide");return b.apply(this,arguments)};var c=function(){};"function"==typeof arguments[0].close&&(c=arguments[0].close);arguments[0].close=
function(){f(this).closest(".ui-dialog").find(".ui-dialog-content").addClass("h-hide");return c.apply(this,arguments)}}return a.apply(this,arguments)}})();w.validationString=function(a,b){return(a=f.trim(a.val()))?b.multiline&&a.length>b.maxlength?["message_too_long",b.maxlength]:!0:"please_enter_a_value"};return{openAlertDialog:z,openConfirmDialog:x,openConfirmDialogSimple:y,openPromptDialog:w,openTemplateConfirmDialog:function(a,b,c){b.message="loading_ellipsis";b.dialogClass=(b.dialogClass||"")+
" loading";let e=y(b),d=c.data||{};d.isAjaxTemplateRender=!0;d.isAjaxTemplateRenderWithData=!0;let g=c.call||"/ajax/render/"+c.name;return new Promise((m,k)=>{a.ajax({call:g,data:d,success:l=>{e.parent(".confirm-dialog-container").removeClass("loading");f(".dialog-content .message",e).html(l.template).trigger("vb-instrument");e.dialog("option","position",{of:window});f("select",e).selectBox();m(e)},api_error:c.api_error,title_phrase:b.title,error_phrase:"error_loading_dialog_form",after_error:()=>
{k();e.dialog("close")}})})},popupWindow:function(a,b,c,e){let d=window,g=document;a=d.open(a,b,"status=yes,resizable=yes,scrollbars=yes,width="+c+", height="+e+", top="+((d.innerHeight||g.documentElement.clientHeight||screen.height)/2-e/2+(d.screenTop||screen.top))+", left="+((d.innerWidth||g.documentElement.clientWidth||screen.width)/2-c/2+(d.screenLeft||screen.left)));d.focus&&a.focus();return a},alert:q,warning:(a,b,c)=>q(a,b,"warning",c),error:(a,b,c)=>q(a,b,"error",c),showStatusMessage:function(a,
b){let c=f(".conversation-status-message.notice");var e;if(0<c.length){a=h.get(a);let d=c.filter("."+b);c=1==d.length?d:1==(e=c.filter(".h-hide")).length?e:c.first().clone().removeClass().addClass("conversation-status-message notice").appendTo(".conversation-status-messages");c=(1==d.length?d:c).show();r.isScrolledIntoView(c)?c.hasClass("h-hide")?c.hide().removeClass("h-hide").addClass(b+" show-x").find("span").html(a).end().fadeIn(800,"linear"):c.fadeOut("slow","linear",function(){c.find("span").html(a).end().addClass(b+
" show-x").fadeIn("slow","linear")}):(e=c.offset().top-10,c.hide(),f("html,body").animate({scrollTop:e},"slow",function(){c.find("span").html(a).end().addClass(b+" show-x").fadeIn("slow","linear")}))}}}};
;

// ***************************
// js.compressed/ajax.js
// ***************************
vBulletin.precache(["login","cancel"],[]);
vBulletin.createAjaxTools=(v,n,k,w)=>{function q(a,b){if(Array.isArray(a))a.unshift(b);else{var c=a;a=function(...d){b.apply(this,d);"function"==typeof c&&c.apply(this,d)}}return a}function B(a){return'<textarea style="border:1px solid #999;margin-top:10px;height:120px;width:100%;">'+a+"</textarea>"}function C(a){for(var b=[],c=0;c<a.length;c++){var d=$.isArray(a[c])?a[c][0]:a[c],e=k.get(a[c]);1==$("#debug-information").length&&d!=e&&(e+=" ("+d+")");b.push(e)}return b}function D(a,b){return(c,d,e)=>
{var g="";"undefined"!=typeof c.status&&(g+=" "+c.status);null!=d&&(g+=" "+d);"undefined"!=typeof e&&(g+=" "+e);console.log(b+" Error callback: "+a.url);E(c,d,e);c=k.get(a.error_phrase)+"<br /><br />"+k.get("error_information_x",g);w.openAlertDialog({title:k.get(a.title_phrase),message:c,iconType:"error",onAfterClose:a.after_error})}}function F(a,b,c,d,e,g){(c=a.errors)||(c=[a.error]);if(!b.api_error||b.api_error.apply(d,[c,a,b])){var f=h=>{g.data=g.data.replace(/securitytoken=[^&]*(&|$)/,"securitytoken="+
h.newtoken+"$1");$.ajax(g)};if(0!=n){if(x(c,["inlinemodauth_required"])){y("inlinemod_auth",f,n,"cplogin");return}if(0==a.userid&&x(c,[/^humanverify_/,/^no_permission(?:_|$)/,"no_create_permissions","session_timed_out_login","not_logged_no_permission","no_delete_permissions","no_featured_permissions"])){a=()=>{y("login",f,n,b.cpaction?"cplogin":"")};L(f,a,n)||a();return}}z(c,a,b)}}function x(a,b){if(!$.isArray(a))return!1;var c=b;$.isArray(c)||(c=[b]);for(b=0;b<a.length;b++){var d=a[b];$.isArray(d)&&
(d=d[0]);for(var e=0;e<c.length;e++){var g=c[e];if("regexp"==$.type(g)){if(g.test(d))return!0}else if(g==d)return!0}}return!1}function z(a,b,c){var d={title_phrase:"error",after_error:null};$.extend(!0,d,c);a:{for(c=0;c<a.length;c++){var e=a[c];if($.isArray(e)&&"exception_trace"==e[0]){a.splice(c,1);c=e[1];break a}}c=""}a=C(a);1==$("#debug-information").length&&(c&&a.push(B(c)),a.push(B(JSON.stringify(b))));a="<ul>\n<li>"+a.join("</li>\n<li>")+"</li>\n</ul>";return w.openAlertDialog({title:k.get(d.title_phrase),
message:a,iconType:"error",onAfterClose:d.after_error})}function E(a,b,c){console.dir({textStatus:b,jqXHRStatus:a.status,jqXHRResponseText:a.responseText,errorThrown:c});console.trace()}function l(a){var b={type:"POST",dataType:"json",title_phrase:"error",error_phrase:"error",api_error:!1,after_error:null,silent:!1};a.data instanceof FormData&&(b.processData=!1,b.contentType=!1);$.extend(!0,b,a);b.call&&(b.url=v+b.call,b.call="");b.silent&&(b.error=$.noop,b.api_error=$.noop);b.error||(b.error=D(b,
"ajax"));var c=this;b.success=function(d,e,g){d||b.allowEmptyResponse||(d={errors:[["invalid_server_response_please_try_again"]]});d&&(d.errors||d.error)?F(d,b,a,c,l,this):a.success&&a.success.apply(this,arguments)};return $.ajax(b)}function G(a){var b={dataType:"json",title_phrase:"error",error_phrase:"error",api_error:!1,after_error:null,iframe:!1,silent:!1};$.extend(b,a);b.silent&&(b.error=$.noop,b.api_error=$.noop);b.error||(b.error=D(b,"ajaxForm"));b.beforeSubmit=function(d,e,g){if(a.beforeSubmit&&
!1===a.beforeSubmit.apply(this,arguments))return!1;var f=$("button, .b-button",e);f.prop("disabled",!0);$(document).one("ajaxComplete",()=>{f.prop("disabled",!1)});return!0};var c=this;b.success=function(d,e,g,f){d||b.allowEmptyResponse||(d={errors:[["invalid_server_response_please_try_again"]]});d&&(d.errors||d.error)?F(d,b,a,c,G,this):a.success&&a.success.apply(this,arguments)};this.ajaxForm(b)}function L(a,b,c){return"undefined"!=typeof vBfb&&vBfb.isFbLogin()?(vBfb.makeAuthEvent(d=>{l({call:"/auth/login-external",
data:{provider:"facebook",auth:d.accessToken,userid:c},success:e=>{vBulletin.doReplaceSecurityToken(e.newtoken);return a(e)},api_error:b})})(),!0):!1}function y(a,b,c,d){let e,g;w.openTemplateConfirmDialog(H,{title:a,width:400,yesPhrase:"login",noPhrase:"cancel",onClickYes:f=>{g.text("").addClass("h-hide");l({call:"/auth/ajax-login",data:e.serializeArray(),success:h=>{f.trigger("vb-login",h)},api_error:h=>{g.html(k.get(h[0])).removeClass("h-hide");g.find("a").attr("target","_blank")},title_phrase:a});
return!1}},{call:"/auth/login-dialog",data:{logintype:d,userid:c},api_error:z}).then(f=>{e=f.find(".js-login-form");g=$(".js-error-box",e);var h=$('[type="text"], [type="password"]',f);h.on("keydown",m=>{13==m.which&&(m.preventDefault(),$("#btnConfirmDialogYes",f).trigger("click"))});h.filter(":visible").first().trigger("focus");f.on("vb-login",(m,p)=>{m.stopPropagation();vBulletin.doReplaceSecurityToken(p.newtoken);f.dialog("close");return b(p)})})}$.ajaxSetup({contentType:"application/x-www-form-urlencoded; charset=UTF-8"});
let A,I=!1,J=!0,r,t,u=[];$(()=>{A=$("#debug-information");(I=0<A.length)?(r=A.find("#debug-ajax-request-count"),t=$("<ol />").attr("id","debug-ajax-request-list").hide().css({height:"150px",overflow:"auto",padding:"4px",border:"1px solid #CCC",background:"#EEE","margin-top":"2px","margin-bottom":"4px"}).appendTo(r.closest("li")),r.css("cursor","pointer").on("click",()=>{t.toggle()})):(J=!1,u=[])});$.ajaxPrefilter((a,b,c)=>{if(J){var d={url:a.url,startTimeStamp:Date.now(),endTimeStamp:0,finalTimeStamp:0,
status:"UNKNOWN",errorThrown:""};u.push(d);a.success=q(a.success,(e,g,f)=>{d.endTimeStamp=Date.now()});a.error=q(a.error,(e,g,f)=>{d.endTimeStamp=Date.now();d.errorThrown=f});a.complete=q(a.complete,(e,g)=>{d.finalTimeStamp=Date.now();d.status=g;if(I)for(e=u.length,r.text(e),g=0;g<e;g++){var f=u[g];let h="js-request-counter-"+g;if(0==t.find("."+h).length){let m=0==f.url.indexOf(v)?f.url.substring(v.length):f.url,p=f.endTimeStamp-f.startTimeStamp,K=f.finalTimeStamp-f.startTimeStamp;f='{0} <span style="font-size:x-small;">({1}, <span title="Request Time: {2}ms, Processing Time: {3}ms, Total Time: {4}ms" style="text-decoration:underline;">{2}ms, {3}ms</span>){5}</span>'.format(m,
f.status,p,K-p,K,f.errorThrown?" Error: "+f.errorThrown:"");$("<li />").addClass(h).html(f).appendTo(t)}}})}});var H={hasError:x,ajax:l,ajaxSilent:function(a){vBulletin.loadingIndicator.suppressNextAjaxIndicator();return l(a)},render:function(a){a.template&&(a.call="/ajax/render/"+a.template,a.template="");a.data.isTemplateRender=!0;a.data.isAjaxTemplateRenderWithData=!0;return l(a)},ajaxForm:G,logApiError:function(a){console.dir(C(a))},logAjaxError:E,showApiError:z,runBeforeCallback:q,library:{inlineMod(a){y("inlinemod_auth",
a,n,"cplogin")}}};return H};
;

// ***************************
// js.compressed/global.js
// ***************************
(function(a){function D(){vBulletin.AJAX({call:"/ajax/activate-sitebuilder",data:{pageid:pageData.pageid,nodeid:pageData.nodeid,userid:pageData.userid,loadMenu:!1,isAjaxTemplateRender:!0,isAjaxTemplateRenderWithData:!0},cache:!1,success:b=>{b.templates&&(a("#sitebuilder-wrapper").prepend(b.templates.main),a(".js-top-menu-sitebuilder").show(),a(".edit-switch-container .switch-control").addClass("on"),A.setCookie("sitebuilder_active","1"))}})}function E(b,c){var e=0,g=b.length;b.each(function(){if(this.complete&&
0<this.naturalHeight&&this.src)++e;else a(this).one("load",function(){++e;e==g&&c()})});e==g&&c()}function F(b,c,e,g,p){function m(n){n=n.position().top+n.outerHeight();n=Math.round(n);return[n-1,n,n+1]}function k(n,r){var f,l;for(f in n)for(l in r)if(n[f]===r[l])return!0;return!1}a(b).each(function(){var n=a(this);n.trigger("vbulletin:flexgridstart",{isResize:p});var r=a(c,n),f=r.last(),l=!1,t={},h=0,d=!1,q=!1,u=r.first();r.length&&(r.removeClass(e+" vb-temp-placeholder-grid-lastrow"),r.removeClass(g),
setTimeout(function(){l=m(f);r.each(function(){var w=a(this),x=m(w);k(l,x)?w.addClass("vb-temp-placeholder-grid-lastrow"):(d||(d=x),k(d,x)||(++h,u.addClass(g)),d=x,u=w,"undefined"==typeof t[h]&&(t[h]=0),++t[h])});u!=r.first()&&u.addClass(g);a.each(t,function(w,x){!1===q&&(q=x);x<q&&(q=x)});var v=r.filter(".vb-temp-placeholder-grid-lastrow");v.removeClass("vb-temp-placeholder-grid-lastrow");(!1===q||v.length<q)&&v.addClass(e);!1!==q&&v.length==q&&v.last().addClass(g);n.trigger("vbulletin:flexgridready",
{isResize:p})},0))})}function N(b,c,e,g,p,m,k){a(b).each(function(){var n=a(this),r=a(e,n);m?F(n,c,g,p,k):E(r,function(){F(n,c,g,p,k)})})}function P(b,c){function e(f,l,t){var h={},d=[];var q=f.data.length-32;var u=f.data;for(f=0;f<q;f+=32){var v=Math.round(u[f]/l);var w=Math.round(u[f+1]/l);var x=Math.round(u[f+2]/l);var z=Math.round(u[f+3]/l);v=v+100*w+1E4*x+1E6*z;h[v]?++h[v]:h[v]=1}for(f in h)d.push([f,h[f]]);d.sort(function(C,I){return C[1]>I[1]?-1:I[1]>C[1]?1:0});d.length>t&&(d=d.slice(0,t));
return d}function g(f){var l=Math.floor(f/1E6);var t=Math.floor(f/1E4)-100*l;var h=Math.floor(f/100)-1E4*l-100*t;return[f-1E6*l-1E4*t-100*h,h,t,l]}function p(f,l){f=g(f[0]);var t=g(l[0]);l=Math.min(f[0],f[1],f[2]);var h=Math.max(f[0],f[1],f[2]);f=Math.min(t[0],t[1],t[2]);t=Math.max(t[0],t[1],t[2]);l=h-l;f=t-f;return l>f?-1:f>l?1:0}function m(f,l){var t=0,h=0;f=g(f[0]);l=g(l[0]);f[0]!=f[1]&&++t;f[0]!=f[2]&&++t;f[1]!=f[2]&&++t;l[0]!=l[1]&&++h;l[0]!=l[2]&&++h;l[1]!=l[2]&&++h;return t>h?-1:h>t?1:0}function k(f,
l){f=a(c,l);var t=l.innerWidth();l=l.innerHeight();var h=f.outerWidth(),d=f.outerHeight();if(h>=t&&d>=l)switch(f.css("object-fit")){case "contain":return r(f);case "scale-down":return[t,l,h,d]=n(f),f=t<h&&l<d?!0:r(f),f;case "none":return[f,,t,l]=n(f),f<t||f<l;default:return!1}return!0}function n(f){return[f.prop("naturalWidth"),f.prop("naturalHeight"),f.prop("width"),f.prop("height")]}function r(f){var l;let t;[l,h,f,t]=n(f);l/=h;var h=t;let d=l*h;d>f&&(d=f,h=f/l);return f>d||t>h}a(b).each(function(f){var l=
a(this),t=a(c,l);t.length&&setTimeout(function(){E(t,function(){var h=a(c,l),d=h.data("bgStrat")||"primary-color";if(h.length&&k(h,l))switch(d){case "cover-blur":l.css("background-image","url('"+h.attr("src")+"')");l.css("background-size","cover");h.css("backdrop-filter","blur(10px)");break;default:var q=h.outerWidth(),u=h.outerHeight();h=h.get(0);d=document.createElement("canvas");var v=d.getContext&&d.getContext("2d");q=h.naturalWidth||q;u=h.naturalHeight||u;var w=!1;d.width=q;d.height=u;v.drawImage(h,
0,0);try{w=v.getImageData(0,0,q,u)}catch(x){}w&&w.data&&w.data.length&&(h=e(w,20,100),h.sort(p),h.sort(m),h=h.shift(),h=g(h[0]),h[0]*=20,h[1]*=20,h[2]*=20,h[3]*=20,245<=h[3]&&(h[3]=255),l.css("backgroundColor","rgba("+h.join(",")+")"))}})},0)})}function Q(){function b(){var c=a(this);if(""==c.prop("title")){var e=c.get(0);e.scrollWidth>e.clientWidth&&(e=c.text().trim(),300<e.length&&(e=e.substr(0,297)+"..."),c.prop("title",e))}c.addClass("js-ellipsis-has-title")}a(document).off("mouseover",".ellipsis:not(.js-ellipsis-has-title)",
b).on("mouseover",".ellipsis:not(.js-ellipsis-has-title)",b)}pageData=window.pageData||{};pageData=Object.assign(pageData,vBulletin.data());pageData.tzOffset=parseInt(pageData.tzOffset);pageData.dstauto=parseInt(pageData.dstauto);vBulletin.version=pageData.templateversion;a.fn.offon=function(b,c,e,g){null==g&&(g=e,null==e?(g=c,c=void 0):"string"!==typeof c&&(e=c,c=void 0));return this.off(b,c).on(b,c,e,g)};String.prototype.format=function(){for(var b=this,c=arguments.length;c--;)b=b.replace(new RegExp("\\{"+
c+"\\}","gm"),arguments[c]);return b};jQuery.fn.reverse=[].reverse;a(".js-module__hide-if-empty:not(:has(*))").each(function(){let b=a(this);/\s/.test(b.html())&&b.closest(".js-module").hide()});jQuery.ajaxPrefilter(function(b){b.crossDomain&&(b.contents.script=!1)});a.ajaxPrefilter("script",function(b){b.cache=!0});vBulletin.normalizeAjaxUrl=function(b){return 0==b.indexOf("http://")?b.substring(5):0==b.indexOf("https://")?b.substring(6):b};vBulletin.getAjaxBaseurl=function(){return vBulletin.normalizeAjaxUrl(pageData.baseurl)};
vBulletin.getAbsoluteUrl=function(){var b;return function(c){b||(b=document.createElement("a"));b.href=c;return b.href}}();vBulletin.regexEscape=function(b){return b.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")};let O=vBulletin.normalizeAjaxUrl(pageData.baseurl);vBulletin.isInternalUrl=function(){let b=new RegExp("^"+vBulletin.regexEscape(O));return function(c){c=vBulletin.normalizeAjaxUrl(vBulletin.getAbsoluteUrl(c));return b.test(c)}}();vBulletin.isInternalJSUrl=function(){let b=new RegExp("^"+vBulletin.regexEscape(O+
"/js/")+".*.js");return function(c){c=vBulletin.normalizeAjaxUrl(vBulletin.getAbsoluteUrl(c));return b.test(c)}}();vBulletin.isAbsoluteUrl=function(){var b=RegExp("^(?:[a-z]+:)?//","i");return function(c){return b.test(c)}}();vBulletin.isEmptyList=function(b){return a.isArray(b)&&0==b.length||a.isPlainObject(b)&&a.isEmptyObject(b)};vBulletin.getFormData=(b,c)=>{let e={};for(const g of b.serializeArray()){let {name:p,value:m}=g,k=e[p];"undefined"==typeof k?e[p]=m:(Array.isArray(k)||(e[p]=[k]),e[p].push(m))}"undefined"!=
typeof c&&a("input:checkbox:not(:disabled)",b).each((g,p)=>{e[p.name]||(e[p.name]=c)});return e};a.ajaxPrefilter(function(b,c,e){if(!b.url||vBulletin.isInternalUrl(b.url)&&!vBulletin.isInternalJSUrl(b.url))if("undefined"==typeof b.data)b.data="securitytoken="+pageData.securitytoken,"undefined"!==typeof b.formData&&Array.isArray(b.formData)&&b.formData.push({name:"securitytoken",value:pageData.securitytoken});else if("undefined"!==typeof FormData&&b.data instanceof FormData)b.data.append("securitytoken",
pageData.securitytoken);else{var g=!0;c=b.data.split("&");a.each(c,function(p,m){if(m.match(/^securitytoken=/))return g=!1});g&&(b.data+="&securitytoken="+pageData.securitytoken)}});a.ajaxPrefilter(function(b,c,e){(function(){var g=vBulletin.getAjaxBaseurl();if(0==c.url.indexOf(g)&&0==c.url.substr(g.length).indexOf("/ajax/render/")||c&&c.data&&c.data.isAjaxTemplateRender){var p=b.success;b.success=function(){console.log("Intercept AJAX template render calls: Start (URL: {0})".format(b.url));var m=
arguments[0];if(!m||"object"!=typeof m||a.isEmptyObject(m))return"function"==typeof p?p.apply(this,arguments):!1;c.data&&c.data.isAjaxTemplateRenderWithData?arguments[0]=m:(arguments[0]=m.template,arguments[1]=m.errors);var k=m.css_links;if(k&&0!=k.length){console.log("Intercept AJAX template render calls: Has CSS");var n=/sheet=([^&]+)&/;m=k.pop();var r=null!=m.match(n);k.push(m);var f=function(v){var w=v.match(n),x={};w&&w[1]?a.each(w[1].split(","),function(z,C){x[C]=v}):x[v.replace(/^.*\//g,"")]=
v;return x},l={};a("head link[rel=stylesheet]").each(function(){a.extend(l,f(a(this).attr("href")))});var t={};a.each(k,function(v,w){a.extend(t,f(w))});var h=[];a.each(t,function(v,w){v&&"undefined"==typeof l[v]&&(r?h.push(v):h.push(w))});if(0==h.length){if(console.log("Intercept AJAX template render calls: Needed CSS is already on the page"),"function"==typeof p)return console.log("Intercept AJAX template render calls: Calling original success handler"),p.apply(this,arguments)}else{k=[];r?(console.log("Intercept AJAX template render calls: found DB CSS"),
k.push(m.replace(/sheet=[^&]+&/,"sheet="+h.join(",")+"&"))):(console.log("Intercept AJAX template render calls: found FS CSS"),k=h);var d=this,q=arguments;console.log("Intercept AJAX template render calls: Fetching CSS: {0}".format(k.join(", ")));var u=function(v){if(0==v.length)console.log("Intercept AJAX template render calls: Done. Calling original callback."),setTimeout(function(){if("function"==typeof p)return p.apply(d,q)},50);else{var w=a("<div />").append(v.shift()).text();console.log("Intercept AJAX template render calls: Fetching CSS file: {0}".format(w));
a.get(w,{cache:!0},function(x){x=a("<link />",{rel:"stylesheet",type:"text/css",href:w});var z=a(".js-additional-css");1==z.length?z.before(x):a("head").append(x)}).then(function(){console.log("Intercept AJAX template render calls: Fetched CSS file: {0}".format(w));if(0<a(".js-debug-css-template-list").length){var x=f(w),z=a("<ol />");a.each(x,function(C,I){r?z.append(a("<li />").append(C)):z.append(a("<li />").append(I))});x=a(".js-debug-css-template-list").append(a("<li />").append(vBulletin.phrase.get("added_via_ajax_call")+
":").append(z)).prev("b");x.text(parseInt(x.text(),10)+1)}u(v)},function(){console.warn("Intercept AJAX template render calls: Failed to fetch CSS file: {0}".format(w));u(v)})}};u(k)}}else if(console.log("Intercept AJAX template render calls: No CSS"),"function"==typeof p)return console.log("Intercept AJAX template render calls: Calling original success handler"),p.apply(this,arguments)}}})()});vBulletin.isRtl=()=>"rtl"==a("html").attr("dir");let A=vBulletin.createStorageTools(pageData.cookie_prefix,
Cookies.withAttributes({path:pageData.cookie_path,domain:pageData.cookie_domain,secure:"https"==pageData.baseurl.substr(0,5).toLowerCase()||"https:"==location.protocol}));vBulletin.storagetools=A;jQuery.fn.swipeable=function(b){function c(l){var t={x:0,y:0};try{t={x:l.pageX||l.originalEvent.touches[0].pageX||0,y:l.pageY||l.originalEvent.touches[0].pageY||0}}catch(h){}return t}function e(l,t){return{x:l.x-t.x,y:l.y-t.y}}function g(l){n=!0;r=!1;f.start=c(l);f.previous=c(l);f.current=c(l);f.moved={x:0,
y:0};f.totalMoved={x:0,y:0};f.target=l.target;"touchstart"!=l.type&&l.preventDefault()}function p(l){if(n){f.current=c(l);f.moved=e(f.current,f.previous);f.totalMoved=e(f.current,f.start);if(f.moved.x||f.moved.y)r=!0;b.swiping.call(this,l,f);f.previous=f.current}}function m(l){n&&("mouseup"==l.type&&l.target!=f.target?k.call(this,l):"mouseleave"==l.type&&k.call(this,l));n=!1;l.preventDefault()}function k(l){if(f.totalMoved){var t=Math.abs(f.totalMoved.x);var h=Math.abs(f.totalMoved.y),d=Math.max(t,
h);t=40>d||d<=2*Math.min(t,h)?!1:t>h?0>f.totalMoved.x?"left":"right":0>f.totalMoved.y?"up":"down"}else t=!1;t&&b["swipe"+t].call(this,l,f);b.swipeend.call(this,l,f);n=!1;f={start:null,previous:null,current:null,moved:null,totalMoved:null,target:null};if(r)return r=!1}b=b||{};"object"==typeof b&&(b.swiping=b.swiping||function(){},b.swipeend=b.swipeend||function(){},b.swipeleft=b.swipeleft||function(){},b.swiperight=b.swiperight||function(){},b.swipeup=b.swipeup||function(){},b.swipedown=b.swipedown||
function(){});var n=!1,r=!1,f={start:null,previous:null,current:null,moved:null,totalMoved:null,target:null};return this.each(function(){var l=a(this);if("disable"==b)l.off(".vbswipeable","body");else l.on("mousedown.vbswipeable touchstart.vbswipeable","body",g).on("mousemove.vbswipeable touchmove.vbswipeable","body",p).on("mouseup.vbswipeable mouseleave.vbswipeable touchcancel.vbswipeable","body",m).on("click.vbswipeable touchend.vbswipeable","body",k)})};(function(){var b=jQuery.fn.selectBox;jQuery.fn.selectBox=
function(){var c=a(this);"undefined"==typeof c.attr("tabindex")&&c.attr("tabindex","0");c=b.apply(this,arguments);a(".selectBox-arrow").addClass("b-icon-fa b-icon-fa--12 fa-solid fa-caret-down");return c}})();(function(){(function(){var b=a(".js-login-menu");b.find(".js-comp-menu-dropdown__trigger").on("click",function(){setTimeout(function(){b.find(".js-login-username").trigger("focus")},0)});(function(){function c(m,k){a(m).toggleClass("h-hide-imp",!k)}var e=a(".js-top-menu-user--list"),g=[".js-header__notifications-label",
".js-pmchat__messages-label",".js-menu__username-label"],p=g.slice(0).reverse();e.on("vbulletin:shrink",function(){a.each(g,function(m,k){c(k,!1);if("need_shrink"!=vBulletin.Responsive.Debounce.checkElementShrinkRequirement(e))return!1})}).on("vbulletin:unshrink",function(){a.each(p,function(m,k){c(k,!0);if("need_shrink"==vBulletin.Responsive.Debounce.checkElementShrinkRequirement(e))return c(k,!1),!1})})})();(function(){var c=a(".js-top-menu-sitebuilder--list"),e=c.find(".b-top-menu__item"),g=e.find(".js-top-menu-link"),
p=c.closest(".js-top-menu-sitebuilder"),m=[function(k){g.toggleClass("b-top-menu__item-link--compact",k)},function(k){p.toggleClass("b-top-menu__background--compact",k)},function(k){vBulletin.CompMenuHorizontal.convertDropdownProgressive({$parent:c,$children:e,removeMenu:!k})}];c.on("vbulletin:shrink",function(){a.each(m,function(k,n){n(!0);if("need_shrink"!=vBulletin.Responsive.Debounce.checkElementShrinkRequirement(c))return!1})}).on("vbulletin:unshrink",function(){for(var k=m.length;0<=--k;)if(m[k](!1),
"need_shrink"==vBulletin.Responsive.Debounce.checkElementShrinkRequirement(c)){m[k](!0);break}})})()})();a(".ui-tabs .ui-tabs-nav > li").addClass("ui-state-disabled")})();vBulletin.pageHasSelectors=function(b){if(a.isArray(b)&&0<b.length&&""!=a.trim(b.toString())){var c=!1;a.each(b,function(e,g){if(0<a(g).length)return c=!0,!1});return c}return!0};vBulletin.areJsonObjectsEqual=function(b,c){var e=function(g,p){for(var m in g)if(g.hasOwnProperty(m)&&p.hasOwnProperty(m)){var k=g[m],n=p[m];if(k!=n)if(k instanceof
Array&&n instanceof Array){if(0<a(k).not(n).length||0<a(n).not(k).length)return!1}else return!1}else return!1;return!0};return Object.keys(b).length==Object.keys(c).length?e(b,c):!1};vBulletin.loadingIndicator=function(){function b(k){if(k){k=a(".js-loading-indicator");var n=k.outerWidth(),r=vBulletin.isRtl()?"margin-right":"margin-left";0<n&&k.css(r,-(n/2));k.removeClass("h-hide");a("body").css("cursor","wait")}else a(".js-loading-indicator").addClass("h-hide"),a("body").css("cursor","auto")}var c=
0,e=!1,g=!1,p=0,m=0;return{init:function(){e||(a(document).ajaxStart(function(){vBulletin.loadingIndicator.show("ajaxStart")}),a(document).ajaxStop(function(){vBulletin.loadingIndicator.hide("ajaxStop")}),e=!0)},show:function(k){0<p&&"ajaxStart"==k?(--p,++m,console.log("vBulletin.loadingIndicator.show ajax indicator suppressed")):(++c,console.log("vBulletin.loadingIndicator.show Counter: "+c+" Source: "+(k||"Unspecified")),0<c&&(g=setTimeout(function(){g&&(b(!0),g=!1)},1E3)))},hide:function(k){0<
m&&"ajaxStop"==k?(--m,console.log("vBulletin.loadingIndicator.hide ajax indicator suppressed")):(--c,c=0>c?0:c,k||(c=0),console.log("vBulletin.loadingIndicator.hide Counter: "+c+" Source: "+(k||"Unspecified")),1>c&&(g&&(clearTimeout(g),g=!1),b(!1)))},suppressNextAjaxIndicator:function(){++p}}}();vBulletin.precache("admin admin_auth april attach_link attach_video august cancel_edit close conversation december done email_addresses_must_match error error_loading_ckeditor_script error_loading_editor error_posting_comment_code error_x existing_reply_will_be_deleted february follow follow_error following following_pending following_remove friday_min go_to_first_new_post hour inlinemod_auth_password_empty invalid_data invalid_data_requested invalid_email_address invalid_request invalid_server_response_please_try_again invalid_special_channel_subscribe_request invalid_username_specified invalid_username_specified_maxlength_x invalid_username_specified_minlength_x invalid_query_definition_x january join joined join_error july june leave loading logged_out_while_editing_post login login_success_admin_auth march may minute moderator monday_min new_posts no no_create_permissions no_icon no_leave_channel_permission no_permission no_update_permissions no_valid_tags_found not_logged_no_permission november now october physically_remove_blog physically_remove_comment physically_remove_media physically_remove_reply physically_remove_topic physically_remove_visitorMessage please_enter_a_valid_url_and_click_attach please_enter_link_url please_enter_video_url please_enter_your_comment please_enter_your_email_address please_provide_search_string post_comment post_history posttype_blog posttype_comment posttype_media posttype_reply posttype_topic posttype_visitorMessage preview refer_a_friend saturday_min search see_less see_more select_option_and_click_delete_button_blog select_option_and_click_delete_button_comment select_option_and_click_delete_button_media select_option_and_click_delete_button_reply select_option_and_click_delete_button_topic select_option_and_click_delete_button_visitorMessage send_report september soft_delete_blog soft_delete_comment soft_delete_media soft_delete_notes_blog soft_delete_notes_comment soft_delete_notes_media soft_delete_notes_reply soft_delete_notes_topic soft_delete_notes_visitorMessage soft_delete_reply soft_delete_topic soft_delete_visitorMessage sunday_min thanks_for_signing_up_log_in time tuesday_min thursday_min unable_to_check_admin_permissions unable_to_contact_server_please_try_again unexpected_error unfollow_error usernametaken wednesday_min".split(" "),
["bbtitle","markinglimit","threadpreview"]);let y=vBulletin;var G=y.getAjaxBaseurl(),B=y.createSiteDataTools(G);B.phrase.init(pageData,pageData.languageid,A.createStorageTimed("phrase",pageData.phrasedate,pageData.current_server_datetime),y.phrase.precache);a.extend(y.phrase,B.phrase);B.options.init(A.createStorageTimed("options",pageData.optionsdate,pageData.current_server_datetime),y.options.precache);a.extend(y.options,B.options);B=y.createDialogTools(a,y,y.phrase);y.dialogtools=B;y.error=B.error;
y.warning=B.warning;y.alert=B.alert;y.openConfirmDialog=B.openConfirmDialog;y.openPromptDialog=B.openPromptDialog;window.openAlertDialog=B.openAlertDialog;window.openConfirmDialog=B.openConfirmDialog;window.openPromptDialog=B.openPromptDialog;let H=y.createAjaxTools(G,pageData.userid,y.phrase,y.dialogtools);y.ajaxtools=H;y.ajaxlib=H.library;y.AJAX=H.ajax;y.ajaxForm=H.ajaxForm;vBulletin.getScrollbarWidth=function(){if(a("body").data("scrollbar-width"))return a("body").data("scrollbar-width");var b=
a('<div style="width:50px;height:50px;overflow:auto;position:absolute;top:-99999px;"><div /></div>').appendTo("body"),c=b.children();c=c.innerWidth()-c.height(99).innerWidth();b.remove();a("body").data("scrollbar-width",c);return c};vBulletin.assertUserHasAdminPermission=function(b,c,e,g){if(a(c).data("in-progress"))return!1;a("body").css("cursor","wait");a(c).data("in-progress",!0);vBulletin.AJAX({call:"/ajax/api/user/currentUserHasAdminPermission",data:{adminPermission:b},complete:function(){a("body").css("cursor",
"auto");a(c).data("in-progress",null)},success:function(p){!0===p?e():(vBulletin.error("error","unable_to_check_admin_permissions"),a("#config-dialog .loader").hide())},api_error:"undefined"==typeof g?void 0:function(p){return vBulletin.ajaxtools.hasError(p,"inlinemodauth_required")?(vBulletin.ajaxlib.inlineMod(g),!1):!0},error_phrase:"unable_to_check_admin_permissions"})};vBulletin.selectTabByIndex=function(b){var c=this instanceof a?this:a(this);c.length&&-1<b&&c.hasClass("ui-tabs")&&c.data("noPushState",
!0).tabs("option","active",b).data("noPushState",null).find(".ui-tabs-nav li").removeClass("ui-state-focus").eq(b).addClass("ui-state-focus").find("a").trigger("focus")};a.ui.tabs.prototype._isLocal=function(){return!0};(function(){var b=a.ui.tabs.prototype._processTabs;a.ui.tabs.prototype._processTabs=function(){var c=b.apply(this,arguments);this.panels.removeClass("h-hide");return c}})();vBulletin.getSelectedTabHashOrPath=function(b,c){return(c?b.find(".ui-tabs-nav > .ui-tabs-active > a").prop("hash"):
b.find(".ui-tabs-nav > .ui-tabs-active > a").data("url-path"))||""};vBulletin.parseUrl=function(b){var c=document.createElement("a");c.href=b||"/";b=c.pathname;0!=b.indexOf("/")&&(b="/"+b);return{protocol:c.protocol,hostname:c.hostname,port:c.port,pathname:b,search:c.search,hash:c.hash}};vBulletin.makeTabUrl=function(b,c,e,g,p){b?(b=vBulletin.parseUrl(b),e?(p=p||"tab",e=new RegExp("([?+|&+])"+p+"=\\w+[-\\w]*","i"),b=b.search.match(e)?b.pathname+b.search.replace(e,"$1{0}={1}".format(p,c)):b.search?
"{0}{1}&{2}={3}".format(b.pathname,b.search,p,c):"{0}?{1}={2}".format(b.pathname,p,c)):(p=b.pathname.replace(/\/$/,""),e=p.split("/"),e="\\/"+e[e.length-(p.match(/\/page([0-9]+)/)?2:1)]+"$",b=b.pathname.replace(new RegExp(e),"/"+c)+b.search)):b="/";g&&(b+="#"+g);return b};vBulletin.makePaginatedUrl=function(b,c){if(b){var e=b.match(/\/page[0-9]+/);e?b=1<c?b.replace(e[0],"/page"+c):b.replace(e[0],""):1<c&&(b=b.match(/\?/)?b.replace(/\?/,"/page"+c+"?"):b.match(/#/)?b.replace(/#.*/,"/page"+c):b+("/page"+
c))}return b};vBulletin.makeFilterUrl=function(b,c,e,g,p,m){m=m||!1;b=b||location.href;var k=a(".filtered-by",g);b=vBulletin.parseUrl(b);var n=b.search,r=a(".js-button-filter.js-default-checked.js-checked",g);r.data("filter-name")==c&&r.data("filter-value")==e&&(m=!0);!m&&(k.data("clicked")&&a('.toolbar-filter-overlay input[name="{0}"][value="{1}"]'.format(c,e),g).hasClass("js-default-checked")||a('.toolbar-search-form input[name="{0}"]'.format(c),g).length&&!e)&&(m=!0,k.data("clicked",null));b=b.pathname;
if(n&&1<n.length)if(n.match(new RegExp(c+"=","i"))){if(g=vBulletin.parseQueryString(n),!a.isEmptyObject(g)){var f="";a.each(g,function(l,t){m&&l==c||(f+="{0}={1}&".format(l,l==c?e:t))});f&&(b+="?"+f.substring(0,f.length-1))}}else b=m?b+n:b+(n+"&{0}={1}".format(c,encodeURIComponent(e)));else m||(b+="?{0}={1}".format(c,encodeURIComponent(e)));p&&(b+="#"+p);return b};vBulletin.getSelectedFilters=function(b,c){var e={};if(c){var g=b.parent().find(".filtered-by .filter-text").filter(":visible");b.find(":input:radio:checked").each(function(p,
m){p=a(m);if((p.hasClass("js-default-checked")||1==p.data("bypass-filter-display"))&&(0==g.length||0==g.filter('[data-filter-name={0}][data-filter-value="{1}"]').length))return!0;"[]"==m.name.slice(-2)?(p=m.name.split("[]"),e[p[0]]=e[p[0]]||[],e[p[0]].push(m.value)):e[m.name]=m.value})}else b=b.serializeArray(),a.each(b,function(p,m){"securitytoken"!=m.name&&("[]"==m.name.slice(-2)?(p=m.name.split("[]"),e[p[0]]=e[p[0]]||[],e[p[0]].push(m.value)):e[m.name]=m.value)});return e};vBulletin.parseQueryString=
function(b,c){var e={};if(b&&1<b.length){var g=b.indexOf("?");c=c instanceof Array?c:[];-1!=g&&(b=b.substring(g+1).split("&"),a.each(b,function(p,m){p=m.split("=");if(0==c.length||-1==a.inArray(p[0],c))e[p[0]]=decodeURIComponent(p[1]||"").replace(/\+/g," ")}))}return e};vBulletin.togglePageScrolling=function(b){function c(){e.scrollTop(g).scrollLeft(p)}var e=a(window),g=e.scrollTop(),p=e.scrollLeft();e.off("scroll.vbtogglepagescrolling");if(!b)e.on("scroll.vbtogglepagescrolling",c)};vBulletin.pagination=
function(b){function c(){return parseInt((a(".pagetotal",this).html()||"").replace(/[^\d]+/g,""),10)||1}function e(h,d){var q=c.apply(this),u=a(".arrow[rel=next]",this),v=a(".arrow[rel=prev]",this);1>h?h=1:h>q&&(h=q);a(".js-pagenum",this).val(h);h==q?u.addClass("h-disabled").removeAttr("href"):u.removeClass("h-disabled").attr("href",vBulletin.makePaginatedUrl(location.href,h+1));1==h?v.addClass("h-disabled").removeAttr("href"):v.removeClass("h-disabled").attr("href",vBulletin.makePaginatedUrl(location.href,
h-1));"function"==typeof m.onPageChanged&&m.onPageChanged.apply(this,[h,d]);1<q&&r.isEnabled()&&!d&&(d=r.getState(),!d||!d.data||!d.data.from||a.inArray(d.data.from,-1==["filter_blogs","filter_groups"]))&&(t=1==h?a(".arrow[rel=next]",this).attr("href"):a(".arrow[rel=prev]",this).attr("href"))&&(t=vBulletin.makePaginatedUrl(t,h),h={from:"pagination",page:h,tab:m.tabParamAsQueryString?"#"+a(this).closest(".ui-tabs-panel").attr("id"):vBulletin.getSelectedTabHashOrPath(a(this).closest(".ui-tabs"),!1)},
r.pushState(h,document.title,t))}function g(h){a("a.see-all-btn",this).closest(".pagenav-controls")[h?"addClass":"removeClass"]("h-hide")}function p(){a(m.context).off("click",".js-pagenav .js-pagenav-button").on("click",".js-pagenav .js-pagenav-button",function(h){if(r.isEnabled()){h=a(this).data("page");var d=a(".pagenav-form",m.context).get(0);e.apply(d,[h,!1]);return!1}return!0}).off("mouseover",".js-pagenav .js-pagenav-button").on("mouseover",".js-pagenav .js-pagenav-button",function(h){h=a(this);
h.prop("href")||h.prop("href",vBulletin.makePaginatedUrl(location.href,parseInt(h.data("page"),10)))});a(".js-pagenav .js-pagenav-button",m.context).each(function(){this.href=vBulletin.makePaginatedUrl(location.href,parseInt(a(this).data("page")))});(function(){a(document).on("vbulletin:shrink vbulletin:unshrink",".js-pagenav",function(){var h=a(this),d=h.data("vbshrink-hidden-elements");"undefined"!=typeof d&&d.removeClass("h-hide-imp");d=h.find("> .js-pagenav-button").filter(":visible");var q=a(),
u=a(),v=d.filter(".js-pagenav-current-button").data("page");d.each(function(w,x){w=a(x);var z=w.data("page");x=w.is(".js-pagenav-prev-button, .js-pagenav-current-button, .js-pagenav-next-button");var C=w.is(".js-pagenav-first-button, .js-pagenav-last-button");z=z==v-1||z==v+1;C=C?"1":z?"2":"3";x||(q=q.add(w),w.data("vbshrink-priority",C))});a.each(["3","2","1"],function(w,x){q.each(function(z,C){z=a(C);if(z.data("vbshrink-priority")!=x)return!0;if("need_shrink"==vBulletin.Responsive.Debounce.checkElementShrinkRequirement(h))z.addClass("h-hide-imp"),
u=u.add(z);else return!1})});h.data("vbshrink-hidden-elements",u)});vBulletin.Responsive.Debounce.checkShrinkEvent(a(".js-pagenav"))})()}var m={context:document,onPageChanged:null,tabParamAsQueryString:!0,allowHistory:!1};b&&"object"==typeof b&&a.extend(m,b);var k=a(".pagenav-controls .pagenav-form",m.context),n=Number(a(".defaultpage",k).val())||Number(a(".js-pagenum",k).val())||1,r=new vBulletin.history.instance(m.allowHistory);k.data("object-instance",this);if(r.isEnabled()){b=vBulletin.parseQueryString(location.search,
["_"]);var f=location.pathname.match(/\/page([0-9]+)/),l=r.getState();if(f&&1<Number(f[1])&&a.isEmptyObject(b)&&(!l||a.isEmptyObject(l.data))){var t=vBulletin.makePaginatedUrl(location.href,n);b={from:"pagination",page:n,tab:m.tabParamAsQueryString?"#"+k.closest(".ui-tabs-panel").attr("id"):vBulletin.getSelectedTabHashOrPath(k.closest(".ui-tabs"),!1)};r.setDefaultState(b,document.title,t)}r.setStateChange(function(h){h=r.getState();if("pagination"==h.data.from){r.log(h.data,h.title,h.url);if(location.search){var d=
vBulletin.parseQueryString(location.search,["_"]);if(!a.isEmptyObject(d)||"groups-tab"==d.tab){delete d.tab;a(window).trigger("statechange.filter",["pagination",d]);return}}var q,u;h.data.tab&&(q=m.tabParamAsQueryString?a(h.data.tab):a('.ui-tabs .ui-tabs-panel[data-url-path="'+h.data.tab+'"]'));d=q&&q.length&&q||m.context;(u=a(".conversation-toolbar .filter-wrapper",d).data("object-instance"))&&u.resetFilters(!0);if(h.data.tab&&(q=q.closest(".ui-tabs"),$tabAnchor=m.tabParamAsQueryString?q.find('.ui-tabs-nav > li > a[href*="{0}"]'.format(h.data.tab)):
q.find('.ui-tabs-nav > li > a[data-url-path="'+h.data.tab+'"]'),!$tabAnchor.parent().hasClass("ui-tabs-active"))){h=$tabAnchor.parent().index();vBulletin.selectTabByIndex.call(q,h);return}q=a(".pagenav-controls .pagenav-form",d);(d=q.data("object-instance"))&&"function"==typeof d.getOption&&"function"==typeof d.getOption("onPageChanged")&&(h=h.data.page||n,d.getOption("onPageChanged").apply(q.get(0),[h,!1,!location.search,location.search]))}},"pagination")}a(".arrow",k).off("click").on("click",function(h){var d=
a(this);h=this.form||d.closest("form").get(0);if(!d.hasClass("h-disabled")){d=parseInt(a(".js-pagenum",h).val())+("next"==d.attr("rel")?1:-1);if(!r.isEnabled()&&m.allowHistory)return this.href&&this.hash!=this.href||(this.href=vBulletin.makePaginatedUrl(location.href,d)),!0;e.apply(h,[d,!1])}return!1});p();a(".js-pagenum",k).off("keypress").on("keypress",function(h){if(13==h.keyCode){h.preventDefault();h=a(this).val();h=isNaN(h)?1:parseInt(h,10);var d=c.apply(this.form);h>d&&(h=d);1>h&&(h=1);r.isEnabled()?
e.apply(this.form,[h,!1]):m.allowHistory?location.href=vBulletin.makePaginatedUrl(location.href,h):e.apply(this.form,[h,!1])}});a(".js-pagenum",k).off("click").on("click",function(h){a(this).select()});this.updatePageInfo=function(h,d){if(h&&"object"==typeof h){var q=h.totalpages||1,u=a(".pagenav-controls .pagenav-form",m.context);a(".pagetotal",u).text(q);"undefined"!=typeof h.showseemore&&g.apply(u,[!h.showseemore]);h.perpage=vBulletin.conversation.POSTS_PER_PAGE;d&&0<a(".pagenav-container",m.context).length&&
y.AJAX({call:"/ajax/render/pagenav",data:{pagenav:h,isAjaxTemplateRender:!0,isAjaxTemplateRenderWithData:!0},success:v=>{a(".pagenav-container",m.context).replaceWith(v.template);p()}});u.length&&e.apply(u.get(0),[h.pagenumber,d])}};this.updateResultId=function(h){(h=parseInt(h))&&"number"===typeof h&&a("input[name=result-id]",k).val(h)};this.setOption=function(h,d){m[h]=d};this.getOption=function(h){return m[h]};this.updatePageNavigation=function(h,d,q){e.apply(h.get(0),[d,q])}};vBulletin.conversation=
vBulletin.conversation||{};vBulletin.conversation.postComment=function(b,c){var e=this;b=a(e);var g=b.closest(".js-comment-entry"),p=g.find(".js-comment-entry__textbox"),m=a.trim(p.val());if(!m)return vBulletin.warning("post_comment","please_enter_your_comment",function(){p.trigger("focus")}),!1;a("body").css("cursor","wait");b.blur();var k=b.closest(".js-comment-entry__parent"),n=1==b.closest(".js-comment-entry--blog").length?1:0,r=1==b.closest(".js-comment-entry--article").length?1:0,f={text:m,
parentid:k.attr("data-node-id"),postindex:k.find(".js-post__content .js-show-post-link").text().replace("#",""),view:k.parent().hasClass("stream-view")?"stream":"thread",redirecturl:p.hasClass(".reload-on-post")?1:0,isblogcomment:n,isarticlecomment:r};g.find('[name^="humanverify"]').each((l,t)=>{l=a(t);f[l.attr("name")]=l.val()});vBulletin.AJAX({call:"/ajax/post-comment",data:f,complete:function(){console.log("post-comment complete.");a("body").css("cursor","auto");vBulletin.hv.reset()},success:function(l,
t,h){"function"==typeof c&&c.apply(e,[l]);n||r||g.slideToggle();vBulletin.subscribe.updateSubscribeButton(l.topic_subscribed);l=k.attr("data-node-id");vBulletin.markRead(l)},api_error:vBulletin.hv.resetOnError,title_phrase:"conversation",error_phrase:"error_posting_comment_code"})};vBulletin.conversation.bindEditFormEventHandlers=function(b){b=b?b.toLowerCase():"";if(-1!=a.inArray(b,"text gallery video poll link comment event".split(" "))||"all"==b){function g(n,r){if("function"==typeof r){console.log("Edit mode: initializeEditor");
var f=n.find(".js-editor");0<f.length?vBulletin.ckeditor.initEditor(f,{success:function(l){if("function"==typeof r){r();vBulletin.contentEntryBox.afterPanelChange(n);vBulletin.ckeditor.initEditorComponents(n);var t=this;setTimeout(function(){console.log("Edit mode: Adding post data to CKEditor (vBulletin.conversation.bindEditFormEventHandlers)");t.setData(f.prev(".js-editor-parsed-text").html(),function(){var h=vBulletin.ckeditor.getEditor(l);vBulletin.ckeditor.fixTableFunctionality.call(vBulletin.ckeditor,
{},h);setTimeout(function(){vBulletin.ckeditor.modifyImagePaths(a(h.container.$))},0);h.focus()})},0)}},error:function(l){"function"==typeof r&&r();f.prop("disabled",!1).removeClass("ckeditor-load-on-focus").closest(".js-content-entry").addClass("b-content-entry--no-ckeditor");l=f.prev(".js-editor-parsed-text").html();""!=l&&vBulletin.AJAX({call:"/ajax/api/editor/convertHtmlToBbcode",data:{nodeid:pageData.nodeid,data:l,allowsmilie:1,securitytoken:pageData.securitytoken},success:function(t){f.html(t.data)},
error_phrase:"error_converting_message"})},hideLoadingDialog:!1}):"function"==typeof r&&(r(),f.trigger("focus"))}}function p(n){n=n.find(".js-editor");if(0<n.length){var r=n.attr("id");vBulletin.ckeditor.editorExists(r)&&vBulletin.ckeditor.destroyEditor(r)}n.closest("form").remove()}function m(n,r,f,l,t){let h=a(".b-link-input__url",f),d=a.trim(h.val());l="attach_"+l;d?(d.match(/^https?:\/\//)||(d="http://"+d,h.val(d)),r.prop("disabled",!0),a("body").css("cursor","wait"),y.AJAX({call:"/createcontent/getlinkdata",
data:{url:d,isAjaxTemplateRender:!0,isAjaxTemplateRenderWithData:!0},success:q=>{let u=a(q.template);n.closest("form").data("content-type",q.contenttype);u.find("img").on("error",function(){a(this).closest("li").remove()});f.find(".js-panel-content").append(u);e(f,q.contenttype);u.fadeIn("slow",()=>{h.val("");a(".b-link-input",f).addClass("h-hide")})},after_error:()=>h.trigger("focus"),complete:()=>{a("body").css("cursor","default");r.prop("disabled",!1)},title_phrase:l})):y.warning(l,t,h)}function k(n){a("body").offon(n+
"_editform_onunload",function(r,f){p(f)}).offon(n+"_newcontent_onload",function(r,f){0<f.closest(".conversation-list.stream-view.activity-view").length&&vBulletin.truncatePostContent(f)})}var c={comment:function(){a("body").offon("comment_editform_onload",function(n,r,f){"function"==typeof f&&(f(),a(".js-editor",r).trigger("focus").filter(".autogrow").css("min-height",function(){return a(this).css("height")}).autogrow())})},text:function(){a("body").offon("text_editform_onload",function(n,r,f){g(r,
f)});k("text")},event:function(){a("body").offon("event_editform_onload",function(n,r,f){g(r,f)});k("event")},poll:function(){var n=function(r){r.find(".js-remove-button").prop("disabled",2>=r.find("li").length)};a("body").offon("poll_editform_onload",function(r,f,l){g(f,l);n(a(this).find(".b-poll-fieldset__poll-answers"))}).offon("poll_editform_onunload",function(r,f){p(f)}).offon("poll_newcontent_onload",function(r,f){n(a(this).find(".b-poll-fieldset__poll-answers"));0<f.closest(".conversation-list.stream-view.activity-view").length&&
(vBulletin.truncatePostContent(f),vBulletin.conversation.limitVisiblePollOptionsInAPost(a("form.poll",f),3))})},gallery:function(){a("body").offon("gallery_editform_onload",function(n,r,f){a('.b-toolbar__item[data-panel="b-content-entry-panel__content--gallery"]',r).trigger("click");g(r,function(){"function"==typeof f&&f();vBulletin.upload.initializePhotoUpload(r)})});k("gallery")},video:function(){a("body").offon("video_editform_onload",function(n,r,f){a('.b-toolbar__item[data-panel="b-content-entry-panel__content--video"]',
r).trigger("click");g(r,function(){"function"==typeof f&&f();e(a(".b-content-entry-panel__content--video",r),"video")});a(".js-attach-button",r).off("click").on("click",function(l){l.preventDefault();l=a(this);m(r,l,l.closest(".b-content-entry-panel__content--video"),"video","please_enter_video_url")})});k("video")},link:function(){a("body").offon("link_editform_onload",function(n,r,f){a('.b-toolbar__item[data-panel="b-content-entry-panel__content--link"]',r).trigger("click");g(r,function(){"function"==
typeof f&&f();e(a(".b-content-entry-panel__content--link",r),"link")});a(".js-attach-button",r).offon("click",function(l){l.preventDefault();l=a(this);m(r,l,l.closest(".b-content-entry-panel__content--link"),"link","please_enter_a_valid_url_and_click_attach")})}).offon("link_savepost_success",function(n,r){a(".b-link-input",r).removeClass("h-hide-imp")});k("link")}},e=function(n,r){a(".b-link-content__urlinfo .js-link-edit",n).on("click",function(l){l.preventDefault();var t=a(this).parent().parent();
t.addClass("b-link-content__urlinfo-meta--edit-mode");a(".js-link-textbox",t).val(a.trim(a(".b-link-content__urlinfo-text",t).text())).trigger("focus");a(".js-link-save",t).on("click",function(h){h.preventDefault();a(".b-link-content__urlinfo-text",t).text(a(".js-link-textbox",t).val());t.removeClass("b-link-content__urlinfo-meta--edit-mode")})});a(".js-link-remove",n).on("click",function(l){l.preventDefault();a(this).closest(".b-content-entry-panel__content").find(".b-link-input").removeClass("h-hide");
a(this).closest(".js-panel-content").empty();a(".b-link-input",n).removeClass("h-hide")});if("link"==r){a(".js-link-preview-checkbox",n).off("click").on("click",function(){a(".b-link-content__thumbnail",n)[this.checked?"addClass":"removeClass"]("h-hide")});var f=a(".b-link-thumbnail-list__item",n).length;a(".b-link-thumbnail-list",n).jcarousel({scroll:1,wrap:null,size:f,rtl:vBulletin.isRtl(),buttonNextCallback:function(l,t,h){a(".b-thumbnail-nav .b-thumbnail-nav__next-arrow",n).toggleClass("b-icon--disabled",
!h)},buttonPrevCallback:function(l,t,h){a(".b-thumbnail-nav .b-thumbnail-nav__prev-arrow",n).toggleClass("b-icon--disabled",!h)},initCallback:function(l,t){"init"==t&&0<f&&(a(".b-thumbnail-nav .b-thumbnail-nav__counter",n).html("1/"+f),a(".b-thumbnail-nav .b-thumbnail-nav__prev-arrow",n).off("click").on("click",function(){a(this).hasClass("b-icon--disabled")||a(".jcarousel-container .jcarousel-prev",n).trigger("click")}),a(".b-thumbnail-nav .b-thumbnail-nav__next-arrow",n).off("click").on("click",
function(){a(this).hasClass("b-icon--disabled")||a(".jcarousel-container .jcarousel-next",n).trigger("click")}))},itemVisibleInCallback:function(l,t,h,d){if("init"==d)return!1;a(".b-thumbnail-nav .b-thumbnail-nav__counter",n).html(h+"/"+f);a('input[type="radio"]',t).prop("checked",!0)},itemFallbackDimension:90})}};"all"!=b?c[b].call():a.each(c,function(n,r){r.call()})}};vBulletin.isScrolledIntoView=function(b,c){var e=!1;a.isPlainObject(c)&&"[object Object]"==c.toString()&&(e=!0,c.top=0,c.bottom=
0);b=b instanceof a?b:a(b);if(0==b.length)return!1;var g=a(window).scrollTop(),p=g+a(window).height(),m=b.offset().top;b=m+b.outerHeight();g=m-g;p-=b;e&&(c.top=g,c.bottom=p);return 0<=g&&0<=p};vBulletin.scrollToFixed=function(b){function c(m){g=a.extend({},g,m);if(g.element&&(g.element=g.element instanceof a?g.element:a(g.element),0<g.element.length)){a.inArray(g.fixedAt,["top","bottom"])&&(g.fixedAt="top");var k=g.element,n={width:k.width(),offset:k.offset(),"margin-top":parseInt(k.css("margin-top"),
10),"margin-bottom":parseInt(k.css("margin-bottom"),10),cssPosition:k.css("position"),coordinates:{left:k.css("left"),top:k.css("top"),right:k.css("right"),bottom:k.css("bottom")}},r=a("<div />").addClass("scrolltofixed-filler").hide().insertAfter(k);k.data("origOffsetTop",n.offset.top);k.css("z-index",g.zIndex);k.data("object-instance",e);m=a(window).off("scroll."+p).on("scroll."+p,function(){if(!k.is(":hidden")){var f=a(this).scrollTop();if(0<g.limit&&f>g.limit&&k.hasClass("scrolltofixed"))k.removeClass("scrolltofixed").css({position:"absolute",
left:"auto",right:"auto",top:"auto",bottom:"auto",width:n.width});else if(0<g.limit&&f<g.limit&&f>n.offset.top&&!k.hasClass("scrolltofixed")||0>=g.limit&&f>n.offset.top&&!k.hasClass("scrolltofixed")){if(r.css({display:k.css("display"),width:k.outerWidth(!0),height:k.outerHeight(!0),"float":k.css("float")}),f=vBulletin.Responsive&&vBulletin.Responsive.scrollToFixedBreakPoint?vBulletin.Responsive.scrollToFixedBreakPoint:0,a("#vb-page-body").width()>f?k.addClass("scrolltofixed").width(n.width).css({left:n.offset.left,
right:"auto",width:n.width,top:"top"==g.fixedAt?0:"auto",bottom:"bottom"==g.fixedAt?0:"auto",position:""}):r.hide(),f=n["margin-"+g.fixedAt]){var l={};l[g.fixedAt]=-f+"px";k.animate(l,"fast")}}else f<=n.offset.top&&k.hasClass("scrolltofixed")&&(r.hide(),k.removeClass("scrolltofixed").css({position:"",width:"",left:"",top:"",right:"",bottom:""}))}}).off("resize."+p).on("resize."+p,function(){k.removeClass("scrolltofixed").width("auto").css({position:"",left:""});n.width=k.width();n.offset=k.offset();
a(this).trigger("scroll."+p)});g.triggerOnload&&m.trigger("scroll."+p)}}var e=this,g={element:a(),fixedAt:"top",limit:0,triggerOnload:!0,zIndex:99},p=("scrollToFixed"+Math.random()).replace(".","");this.updateLimit=function(m){isNaN(Number(m))||(g.limit=m,a(window).trigger("scroll."+p))};this.addLimit=function(m){isNaN(Number(m))||(g.limit+=m,a(window).trigger("scroll."+p))};this.reset=function(m){c(m)};c(b)};vBulletin.scrollToAnchor=function(b){b=b.replace(/(:|\.|\[|\]|,|\/)/g,"\\$1");var c=a(b);
console.log("vBulletin.scrollToAnchor() hash: {0}, found: {1}".format(b,c.length));if(0<c.length){var e=c.show().offset().top-2;c.hide();var g=a("html,body"),p=a(".scrolltofixed-floating.scrolltofixed-top"),m=!1;0<p.length&&(1==a(".list-container .list-item:first > a.anchor"+b).length?(p.hasClass("scrolltofixed")&&p.removeClass("scrolltofixed"),e=p.offset().top,m=!0):p.hasClass("scrolltofixed")&&(e-=p.outerHeight()));function k(){g.stop(!0)}g.off("scroll mousedown wheel DOMMouseScroll mousewheel keyup",
k).one("scroll mousedown wheel DOMMouseScroll mousewheel keyup",k);g.animate({scrollTop:e},{duration:1E3,step:function(n,r){m||(n=c.show().offset().top,c.hide(),n-=p.hasClass("scrolltofixed")?p.outerHeight():0,r.end=Math.round(n))},always:function(){c.show();g.off("scroll mousedown wheel DOMMouseScroll mousewheel keyup",k)}});return!1}return!0};location.hash&&vBulletin.scrollToAnchor(location.hash);vBulletin.animateScrollTop=function(b,c){console.log("vBulletin.animateScrollTop({0})".format(b));var e=
a(".scrolltofixed-floating.scrolltofixed-top");if(0<e.length){var g=e.data("origOffsetTop")||e.offset().top;!e.hasClass("scrolltofixed")&&g<b&&(b-=e.outerHeight(!0));g<b&&(b-=e.outerHeight())}a("html, body").animate({scrollTop:b},c)};vBulletin.truncatePostContent=function(b){b=b instanceof a?b:a(b);b.length||(b=a("body"));a(".poll-desc.ellipsis, .message-body.ellipsis",b).each(function(){var c=a(this);truncatedHeight=c.height();c.removeClass("ellipsis");var e=c.height();c.addClass("ellipsis");if(e>
truncatedHeight)c.closest(".list-item-body").find(".post-links").removeClass("hide-see-link").find(".see-link").off("click").on("click",function(){var g=a(this);g.hasClass("more")?c.removeClass("ellipsis"):c.addClass("ellipsis");g.toggleClass("more less");var p=g.text();g.text(g.data("toggle-text")).data("toggle-text",p);return!1})});a(".list-item .see-link.more",b).each(function(c){var e=a(this).closest(".list-item"),g=a(e).find(".post-content");if(0<g.length){var p=!1,m=!1,k=a(this).text(),n="",
r=a(g).html(),f=this;a(this).on("click",function(){nodeid=a(e).attr("data-node-id");p?(a(f).text(k),a(g).html(r),p=!1):m?(a(f).text(vBulletin.phrase.get("see_less")),p=!0,a(g).html(n)):!m&&nodeid&&vBulletin.AJAX({call:"/activity/fetchText",data:{nodeid},success:function(l){n=l.nodeText;if(n.length<=r.length)a(f).addClass("ui-helper-hidden"),postLink=a(f).closest(".post-links").html().replace("<span>|</span>",""),a(f).closest(".post-links").html(postLink);else return a(g).html(n),a(f).text(vBulletin.phrase.get("see_less")),
console.log("loaded content for node "+nodeid),m=p=!0,!1},error:vBulletin.ajaxtools.logAjaxError,api_error:vBulletin.ajaxtools.logApiError});return!1})}})};var J=0<parseInt(pageData.threadmarking)&&0<parseInt(pageData.userid);if(!J){var K=A.createArrayCookie("discussion_view",!0);var L=A.createArrayCookie("channel_view",!0)}vBulletin.discussionViewCookie=K;vBulletin.markreadcheck=function(){function b(g){var p=g.getAll(),m;for(m in p)p[m]<e&&g.unset(m)}function c(g,p,m){var k=parseInt(g.data("lastcontent"));
if(k<=e)k=!1;else{var n=parseInt(L.get(g.data("channel-id"),0));k=k>n}g.find(".icon").toggleClass(p,k).toggleClass(m,!k)}if(!J){var e=Math.round(Date.now()/1E3)-86400*vBulletin.options.get("markinglimit");b(K);b(L);a(".forum-item").each(function(){c(a(this),"unread","read")});a(".subforum-item").each(function(){c(a(this),"unread","read")});a(".topic-item").each(function(){var g=parseInt(a(this).data("lastcontent")),p=parseInt(L.get(a(this).data("channel-id"),0)),m=parseInt(K.get(a(this).data("node-id"),
0));g<=Math.max(p,m,e)||a(this).hasClass("redirect")?a(this).addClass("read").removeClass("unread"):0==a(this).find(".topic-wrapper .js-go-to-first-unread").length&&(g=a(this).find(".topic-wrapper .topic-title").attr("href"),"undefined"!=typeof g&&(g+=(-1==g.indexOf("?")?"?":"&amp;")+"goto=newpost",a("<a />").addClass("go-to-first-unread js-go-to-first-unread").attr("href",g).attr("title",vBulletin.phrase.get("go_to_first_new_post")).html('<span class="b-icon-fa b-icon-fa--16 fa-solid fa-angles-down" aria-hidden="true"></span>').prependTo(a(this).find(".topic-wrapper")),
a(this).find(".vb-icon-topic-status").attr("title",vBulletin.phrase.get("new_posts"))))})}};vBulletin.markchannelsread=function(b,c,e){if(parseInt(b))vBulletin.setChannelRead(b,c);else if(pageData.channelid&&parseInt(pageData.channelid)&&0<parseInt(pageData.threadmarking)&&0<parseInt(pageData.userid))vBulletin.setChannelRead(pageData.channelid,c);else{var g=[];e=a(e).closest(".widget-content").find(".forum-list-container");b=e.find(".forum-item");e=e.find(".subforum-item");var p=function(m,k){(m=
parseInt(a(k).attr("data-channel-id"),10))&&g.push(m)};a.each(b,p);a.each(e,p);a.each(g,function(m,k){m>=g.length-1?vBulletin.setChannelRead(k,c):vBulletin.setChannelRead(k,[])})}};vBulletin.markRead=function(b){J?vBulletin.AJAX({call:"/ajax/api/node/markRead",data:{nodeid:b},success:a.noop,api_error:a.noop,error:a.noop}):K.set(b,Math.round(Date.now()/1E3))};vBulletin.setChannelRead=function(b,c){var e=Math.round(Date.now()/1E3);success=c.success&&"function"==typeof c.success?c.success:a.noop;J?vBulletin.AJAX({call:"/ajax/api/node/markChannelsRead",
data:{nodeid:b},success,api_error:vBulletin.ajaxtools.logApiError}):(0==b?A.setCookie("lastvisit",e):L.set(b,e),success());return!0};vBulletin.ckeditor=vBulletin.ckeditor||{};window.CKEDITOR_BASEPATH=pageData.baseurl+"/js/ckeditor/";vBulletin.ckeditor.requiredScriptsLoaded=!1;vBulletin.ckeditor.requiredScriptsLoadFailed=!1;vBulletin.ckeditor.requiredScriptLoadingStarted=!1;vBulletin.ckeditor.checkEnvironment=function(){return!0};vBulletin.ckeditor.fireCallbacks=function(b,c,e,g){"error"==e&&"function"==
typeof c.error&&c.error(b);"success"==e&&"function"==typeof c.success&&c.success.apply(g,[b,g]);"function"==typeof c.complete&&c.complete(b)};vBulletin.ckeditor.initEditor=function(b,c){c=c||{};b=vBulletin.ckeditor.verifyEditorId(b);console.log("Ckeditor: initEditor({0})".format(b));if(vBulletin.ckeditor.checkEnvironment())vBulletin.ckeditor.requiredScriptsLoaded?vBulletin.ckeditor.doInitEditor(b,c):vBulletin.ckeditor.loadScripts(b,c);else{var e=a("#"+b).closest(".js-content-entry");e.find("li[data-panel=b-content-entry-panel__content--toggle-editor]").addClass("h-hide");
e.find("li[data-panel=b-content-entry-panel__content--smiley]").addClass("h-hide");e.find("form").append(a('<input type="hidden" name="nl2br" value="1" />'));vBulletin.ckeditor.fireCallbacks(b,c,"error")}};vBulletin.ckeditor.loadScripts=function(b,c,e){if(vBulletin.ckeditor.requiredScriptLoadingStarted)console.warn("Ckeditor: Trying to load required scripts more than once.");else{vBulletin.ckeditor.requiredScriptLoadingStarted=!0;c=c||{};b=b||"";"undefined"===typeof c.hideLoadingDialog||c.hideLoadingDialog||
vBulletin.ckeditor.showLoadingDialog(b);var g=function(){!c.showError&&vBulletin.ckeditor.requiredScriptsLoadFailed||vBulletin.warning("error","error_loading_ckeditor_script");vBulletin.loadingIndicator.hide();vBulletin.ckeditor.requiredScriptsLoadFailed=!0;vBulletin.ckeditor.fireCallbacks(b,c,"error")},p=function(){vBulletin.ckeditor.requiredScriptsLoadFailed?(vBulletin.ckeditor.fireCallbacks(b,c,"error"),c.hideLoadingDialog||vBulletin.ckeditor.hideLoadingDialog(b)):("function"==typeof e&&e(),"function"==
typeof vBulletin.ckeditor.doInitEditor&&window.CKEDITOR?(vBulletin.ckeditor.requiredScriptsLoaded=!0,vBulletin.ckeditor.doInitEditor(b,c)):setTimeout(p,10))};"function"==typeof vBulletin.ckeditor.doInitEditor||window.CKEDITOR?p():vBulletin.AJAX({url:vBulletin.getAjaxBaseurl()+"/ajax/render/ckeditor_javascript",success:function(m){for(var k=[],n=/src="([^"]+)"/g;match=n.exec(m);)k.push(match[1]);var r=function(){0<k.length?(console.log("Ckeditor: Calling getScript for: {0}".format(k[0])),a.getScript(k[0],
function(f,l,t){if("success"!=l)return console.warn("Ckeditor: Error loading "+k[0]),g(),!1;console.log("Ckeditor: Script loaded: "+k[0]);k.splice(0,1);r()}).fail(function(f,l,t){console.warn("Ckeditor: Error loading script: "+l+" Exception: "+t);g()})):p()};r()},error_phrase:"error_fetching_dialog"})}};vBulletin.ckeditor.editorExists=function(b){return!1};vBulletin.ckeditor.isEditorEmpty=function(b){return!0};vBulletin.ckeditor.resetEditor=function(b){return!1};vBulletin.ckeditor.getEditorContent=
function(b){b=vBulletin.ckeditor.verifyEditorId(b);return b?vBulletin.ckeditor.editorExists(b)?(b=vBulletin.ckeditor.getEditor(b))&&b.getData?a.trim(b.getData()):!1:a.trim(a("#"+b).val()):!1};vBulletin.ckeditor.focusEditor=function(b){if(b=vBulletin.ckeditor.verifyEditorId(b))vBulletin.ckeditor.editorExists(b)?(b=vBulletin.ckeditor.getEditor(b))&&b.focus():a("#"+b).trigger("focus")};vBulletin.ckeditor.loadingDialogStack={};vBulletin.ckeditor.showLoadingDialog=function(b){if("undefined"==typeof vBulletin.ckeditor.loadingDialogStack[b]||
!vBulletin.ckeditor.loadingDialogStack[b]){vBulletin.ckeditor.loadingDialogStack[b]=!0;var c=a("#"+b);0<c.length&&c.is(":visible")&&c.prop("disabled",!0);vBulletin.loadingIndicator.show("vBulletin.ckeditor.showLoadingDialog editorId: "+b)}};vBulletin.ckeditor.hideLoadingDialog=function(b){"undefined"!=typeof vBulletin.ckeditor.loadingDialogStack[b]&&vBulletin.ckeditor.loadingDialogStack[b]&&(vBulletin.ckeditor.loadingDialogStack[b]=!1,a("#"+b).prop("disabled",!1),vBulletin.loadingIndicator.hide("vBulletin.ckeditor.hideLoadingDialog editorId: "+
b))};vBulletin.ckeditor.generatedIdCounter=0;vBulletin.ckeditor.verifyEditorId=function(b){b=b||"";if("string"==typeof b)return b;if("object"==typeof b&&"undefined"!=typeof b.checkDirty&&"undefined"!=typeof b.name)return b.name;b=b instanceof a?b:a(b);b.attr("id")||(++vBulletin.ckeditor.generatedIdCounter,b.attr("id","vb-cke-instance-"+vBulletin.ckeditor.generatedIdCounter));return b.attr("id")};vBulletin.ckeditor.initEditorComponents=function(b,c){b=b||document;a(function(){a(".js-ckeditor-init-on-focus",
b).off("focus").on("focus",function(){vBulletin.ckeditor.initEditor(a(this))});a(".js-ckeditor-init-on-page-load",b).each(function(){vBulletin.ckeditor.initEditor(a(this))});if(!c){var e=function(k){if(0==k)return a("<span />").html(vBulletin.phrase.get("no_icon")).get(0);var n=a(".js-content-entry-post-icons option",b).filter((f,l)=>a(l).val()==k),r=n.data("icon-url");return r?(n=n.text(),a("<img />").attr("src",r).attr("alt","").attr("title",n).get(0)):""},g=a(".js-content-entry-post-icons",b);
g.selectBox().on("change",function(){var k=a(this).val();a(".js-content-entry-post-icons.selectBox-dropdown .selectBox-label",b).html(e(k))});a(".js-content-entry-post-icons-selectBox-dropdown-menu li a").each(function(){var k=a(this).attr("rel");a(this).html(e(k))});g.trigger("change");a(".js-content-entry-prefixes",b).selectBox();g=a(".js-content-entry-event-highlights-container",b);var p=g.is(".h-hide-imp");p&&g.removeClass("h-hide-imp");a(".js-content-entry-event-highlights",b).selectBox();p&&
g.addClass("h-hide-imp");var m=[];a(".js-select-box",b).each(function(){for(var k=a(this),n;k.is(":hidden");){n=k.closest(".h-hide");if(1>n.length)break;m.push(n);n.removeClass("h-hide")}k.selectBox()});a.each(m,function(k,n){n.addClass("h-hide")})}})};vBulletin.ckeditor.initEditorComponents(document);a(".js-focus-on-page-load").first().trigger("focus");vBulletin.doReplaceSecurityToken=function(b){"undefined"!=typeof b&&""!=b&&(a("form").each(function(){var c=a(this);if(this.action&&!vBulletin.isInternalUrl(this.action))return console.log("Skipping security token for external url (form action): "+
this.action),!0;"undefined"!=typeof this.method&&"post"==this.method.toLowerCase()&&(c.find('input[name="securitytoken"]').length?c.find('input[name="securitytoken"]').val(b):c.append('<input type="hidden" name="securitytoken" value="'+b+'" />'))}),pageData.securitytoken=b,console.log("Securitytoken updated"))};var M=null;vBulletin.flashMessage=function(b){var c=a(".js-flash-message"),e=c.find(".js-flash-message-content");M&&clearTimeout(M);e.text(b);c.removeClass("h-hide").show();M=setTimeout(function(){c.fadeOut(function(){c.addClass("h-hide")})},
5E3)};vBulletin.flashPhrase=function(b){vBulletin.flashMessage(vBulletin.phrase.get(b))};bindFormReset=function(b){return a(b).on("reset",function(c,e){"function"==typeof e&&e()})};vBulletin.sitebuilder=vBulletin.sitebuilder||{};vBulletin.sitebuilder.toggleSitebuilder=function(b){b=a(this);b.hasClass("on")?(A.setCookie("sitebuilder_active",""),a(".js-top-menu-sitebuilder").slideUp("fast"),b.removeClass("on"),b.attr("aria-pressed","false")):(a(".js-top-menu-sitebuilder").slideDown("fast"),b.addClass("on"),
b.attr("aria-pressed","true"),A.setCookie("sitebuilder_active","1"))};vBulletin.sitebuilder.setupMenuProxy=()=>{var b=a(".js-top-menu-sitebuilder--list");b.find(".js-top-menu-link:not(.js-top-menu-tab--admincp)").removeClass("b-top-menu__item-link--disabled");b.on("click.menuproxy",".js-top-menu-link:not(.js-top-menu-tab--admincp)",c=>{D();vBulletin.ready(["sb_page","sb_page_style"]).then(()=>{b.off(".menuproxy");a(c.currentTarget).trigger("click")});return!1})};pageData.dstauto&&(G=(new Date).getTimezoneOffset()/
60,1==Math.abs(pageData.tzOffset+G)&&vBulletin.AJAX({call:"/profile/save-dst",data:{userid:pageData.userid,clientUtcOffset:G},success:()=>location.reload(),api_error:a.noop,error:a.noop}));vBulletin.initFlexGridFixLastRowAll=function(b){function c(e){N(".js-flexgrid",".js-flexgrid-item",".js-flexgrid-image","b-flexgrid__item--lastrow","b-flexgrid__item--lastinrow",!0,e);N(".js-photo-preview",".b-gallery-thumbnail-list__item",".b-gallery-thumbnail-list__thumbnail","b-gallery-thumbnail-list__item--lastrow",
"b-gallery-thumbnail-list__item--lastinrow",!1,e)}c("undefined"==typeof b?!1:b);vBulletin.Responsive.Debounce.registerCallbackOnce(function(){c(!0)})};vBulletin.initFrameImagesWithColor=function(){P(".js-frame-image-wrapper",".js-frame-image")};setTimeout(function(){function b(){clearTimeout(securitytoken_timeout);if("guest"!=pageData.securitytoken){securitytoken_timeout=setTimeout(b,36E5);var e=function(){3==++securitytoken_errors&&vBulletin.doReplaceSecurityToken("guest")};vBulletin.AJAX({call:"/ajax/replace-securitytoken",
data:{securitytoken:pageData.securitytoken},success:function(g){securitytoken_errors=0;vBulletin.doReplaceSecurityToken(g.newtoken)},api_error:e,error:e})}}a.support.selectstart||a.fn.extend({disableSelection:function(){return this.each(function(){a(this).css({"-moz-user-select":"-moz-none","-webkit-user-select":"none","-khtml-user-select":"none","-o-user-select":"none","user-select":"none"})})},enableSelection:function(){return this.each(function(){a(this).css({"-moz-user-select":"","-webkit-user-select":"",
"-khtml-user-select":"","-o-user-select":"","user-select":""})})}});(function(){function e(d){a("textarea.autogrow",d).css("min-height",function(){return a(this).css("height")}).autogrow()}function g(d){d.preventDefault();d=a(".js-refer-user-dialog");d.length?d.dialog("open"):vBulletin.AJAX({call:"/ajax/render/dialog_refer_user",data:{isAjaxTemplateRenderWithData:!0},success:function(q){a(q.template).appendTo("body");a(".js-refer-user-dialog").dialog({title:vBulletin.phrase.get("refer_a_friend"),
autoOpen:!0,modal:!0,resizable:!1,closeOnEscape:!0,showCloseButton:!1,width:500,dialogClass:"dialog-container dialog-box",create:function(){a(".js-close-button",this).on("click",function(u){u.preventDefault();a(this).closest(".js-refer-user-dialog").dialog("close")})},open:function(){function u(w){this.select()}var v=a(".js-referral-link",this);v.val(v.data("link")).off("focus",u).on("focus",u).trigger("focus")}})}})}function p(d){var q=a(`.js-namecard-html[data-userid="${d}"]`);return new Promise((u,
v)=>{0<q.length?u(q):vBulletin.AJAX({call:"/ajax/render/user_namecard",data:{userid:d,isAjaxTemplateRender:!0,isAjaxTemplateRenderWithData:!0},success:function(w){w.template&&(q=a(w.template).filter(".js-namecard-html"),q.appendTo(document.body),u(q))},after_error:()=>{v()}})})}function m(d){var q=parseInt(d.data("vbnamecard")||0);if(Number.isNaN(q))return!1;p(q).then(u=>{vBulletin.qtip.apply(d,"",{content:function(v,w){v=a(u[0].outerHTML).removeClass("h-hide-imp");v.find(".js-close-qtip").click(()=>
{w.hide()});return v},position:{my:"top center",at:"bottom center",viewport:a(window),adjust:{method:"shift flip"}},show:{solo:!1,ready:!0,event:!1},hide:{event:"unfocus",fixed:!0},style:{classes:"qtip--b-namecard"}})});return!0}function k(d){d.find("input.js-dependent-master").each(function(){var q=a(this),u=q.attr("type"),v=function(){var w=q.data("action"),x=!q.is(":checked"),z=a(document).find(q.data("on"));"invisible"==w?z.toggleClass("h-invisible",x):"hide"==w?z.toggleClass("h-hide-imp",x):
(z.find(":input").addBack(":input").prop("disabled",x),z.find("select").addBack("select").selectBox(x?"disable":"enable"))};if("checkbox"==u)q.on("change",v);else if("radio"==u)q.closest("form").find('input[name="'+q.attr("name")+'"]').on("change",v)})}function n(d){vBulletin.flashMessage(d);d=new URL(location.href);d.searchParams.delete("flashmsg");var q=document.title;History.replaceState({},q,d.href);document.title=q}function r(){a(".js-full-height").each(function(){var d=a(this),q=d.parent();
d.css("height","");d.outerHeight(Math.floor(q.height()),!0)})}function f(d){let q=u=>u.src="core/images/default/google-material/image_placeholder.svg";a("img.js-img-fallback",d).each((u,v)=>{!v.complete||v.naturalWidth&&v.naturalHeight||q(v);v.addEventListener("error",()=>q(v))})}vBulletin.loadingIndicator.init();var l=a(document);l.off("click","a.animate-scroll").on("click","a.animate-scroll",function(){vBulletin.scrollToAnchor(this.hash)&&(location.href=this.href);return!1});var t=A.createStorage("collapse");
l.off("click",".canvas-widget .toggle-button").on("click",".canvas-widget .toggle-button",function(d,q){d=a(this);var u=d.closest(".canvas-widget"),v=a(".widget-content",u),w=u.data("widget-instance-id"),x=d.closest(".edit-mode").length;d.hasClass("expand")?(u.removeClass("collapsed"),q?v.show():v.slideDown("slow"),x||t.unset(w)):(q?(v.hide(),u.addClass("collapsed")):v.slideUp("slow",function(){u.addClass("collapsed")}),x||t.set(w,1));d.toggleClass("collapse expand");q=d.attr("title");d.attr("title",
d.data("toggle-title")).data("toggle-title",q);return!1});(function(){var d=t.getAll("collapse");d&&null!=d&&a.each(d,function(q,u){a("#widget_"+q+":not(.widget-no-header-buttons) .widget-header .toggle-button").trigger("click",[!0])})})();a(".conversation-toolbar-wrapper form.toolbar-filter-overlay").trigger("reset");e(l);l.on("vb-loadnewposts",function(d,q){e(l,q.insertedHtml)});a(".edit-switch-container .switch-control").on("click",vBulletin.sitebuilder.toggleSitebuilder);vBulletin.sitebuilder.setupMenuProxy();
var h=(new URL(location.href)).searchParams.get("adminAction");actionMap={quickConfig:".js-top-menu-tab--quicksetup",stylePanel:".js-top-menu-tab--style",editPage:".js-top-menu-tab--editpage"};$action=a(actionMap[h]);0<$action.length?($action.trigger("click"),"editPage"==h&&vBulletin.ready("history").then(()=>{let d=new URL(location.href),q=new vBulletin.history.instance(!0);d.searchParams.delete("adminAction");q.pushState({},document.title,d)})):0==pageData.userid&&actionMap[h]&&vBulletin.assertUserHasAdminPermission("canusesitebuilder",
self,a.noop,function(){location.reload()});a("select.custom-dropdown",".js-select-box").selectBox();l.off("keypress",".js-button").on("keypress",".js-button",function(d){if(32==d.which||13==d.which)d.target&&d.target.nodeName&&"label"==(d.target.nodeName+"").toLowerCase()&&1==a(d.target).find("input").length?a(d.target).find("input").trigger("click"):a(this).trigger("click"),d.preventDefault()});l.off("keypress",".js-link").on("keypress",".js-link",function(d){13==d.which&&(a(this).trigger("click"),
d.preventDefault())});a(".js-debug-collapse-list").next("ol, ul").hide();l.off("click",".js-debug-collapse-list").on("click",".js-debug-collapse-list",function(d){a(this).next("ol, ul").toggle()});l.off("click",".js-refer-user",g).on("click",".js-refer-user",g);l.off("click",".js-toggle-slider").on("click",".js-toggle-slider",function(){var d=a(this);d.is(".b-toggle-slider--yes")?(d.removeClass("b-toggle-slider--yes").addClass("b-toggle-slider--no"),d.find(".b-toggle-slider__radio--no").prop("checked",
!0),d.data("value","0")):(d.removeClass("b-toggle-slider--no").addClass("b-toggle-slider--yes"),d.find(".b-toggle-slider__radio--yes").prop("checked",!0),d.data("value","1"));var q=a(".js-toggle-slider, .js-toggle-slider__dependent"),u=q.index(d),v=!1;q.each(function(w,x){if(w==u)v=!0;else if(1==v)if(w=a(this),w.is(".js-toggle-slider__dependent"))w.toggleClass("h-hide");else return v=!1});d.trigger("change",d.data("value"));return!1});vBulletin.options.get("usenamecard")&&a(document).offon("click",
"a[data-vbnamecard]",function(d){m(a(d.currentTarget))&&d.preventDefault()});a(document).offon("click",".js-follow-action",d=>{d=a(d.currentTarget);var q=parseInt(d.data("userid")),u=d.data("action");if("add"!=u&&"delete"!=u||isNaN(q))return!1;vBulletin.AJAX({call:"/ajax/api/user/changeUserRelation",data:{action:u,userid:q},success:function(v){if(1==v.follow||2==v.follow){var w=v.follow;"delete"==u&&(w=0);a(document).trigger("vb-userrelation-change",{newRelation:w,ignoring:v.ignoring,targetUserid:q})}},
title_phrase:"profile_guser"})});a(document).offon("vb-userrelation-change",(d,q)=>{var u=parseInt(q.hasOwnProperty("targetUserid")?q.targetUserid:"");d=q.hasOwnProperty("newRelation")?q.newRelation:null;q=q.hasOwnProperty("ignoring")?q.ignoring:null;var v=`.js-ignore-user[data-userid="${u}"][data-state="`,w=a(`${v}ignoring"]`);v=a(`${v}normal"]`);isNaN(u)||(null!==q&&(w.toggleClass("h-hide-imp",!q),v.toggleClass("h-hide-imp",q)),null!==d&&(w=`.js-follow-action[data-userid="${u}"]`,u=a(w),w=a(`${w}[data-state="${d}"]`),
u.addClass("h-hide-imp"),w.removeClass("h-hide-imp"),0===d||q||v.addClass("h-hide-imp")))});a(document).offon("click",".js-ignore-user",d=>{d=a(d.currentTarget);var q=parseInt(d.data("userid"));d=d.data("action");var u="ignore"==d?1:0;if("ignore"!=d&&"unignore"!=d||isNaN(q))return!1;vBulletin.AJAX({call:"/ajax/api/user/ignoreUser",data:{userid:q,add:u},success:function(v){v&&a(document).trigger("vb-userrelation-change",{ignoring:u,targetUserid:q})},title_phrase:"profile_guser"})});a(".channel-content-widget .new-conversation-btn").off("click").on("click",
function(){location.href=pageData.baseurl+"/new-content/"+pageData.channelid});a(".pagenav-form").on("submit",function(){var d=Number(this.page.value);0<d&&(location.href=this.action+"&p="+d);return!1}).trigger("reset");a(".toolbar-pagenav").off("keydown",".toolbar-pagenav input").on("keydown",".toolbar-pagenav input",function(d){var q=d.which;return d.shiftKey||d.altKey||d.ctrlKey||!(48<=q&&57>=q||96<=q&&105>=q||8==q||9==q||13==q||35==q||36==q||37==q||39==q||46==q||45==q)?!1:!0});a(document).offon("click",
".js-post__manage",function(){if("undefined"==typeof vBulletin.inlinemod){var d=vBulletin.getAjaxBaseurl()+"/js/inlinemod.js?v="+pageData.simpleversion;a.getScript(d,()=>{vBulletin.inlinemod.manage_deleted_form.apply(this)}).fail(()=>{vBulletin.warning("error","error_loading_inlinemod_script")})}else vBulletin.inlinemod.manage_deleted_form.apply(this)});a(document).offon("click",".js-post__show-hide",function(){var d=a(this),q=d.text(),u=d.data("toggle-text"),v=d.hasClass("js-post__show-hide--show");
d.closest(".js-post").toggleClass("b-post--show-deleted-content",v);d.html(u).data("toggle-text",q).toggleClass("js-post__show-hide--show",!v)});a(document).offon("click","a.video-frame",function(d){d.preventDefault();var q=a(this);vBulletin.AJAX({call:"/ajax/render/bbcode_video",data:{code:q.data("vcode"),provider:q.data("vprovider"),height:q.data("height"),width:q.data("width"),isAjaxTemplateRenderWithData:!0},success:u=>{(u=u.template)&&q.replaceWith(u)}})});vBulletin.markreadcheck();a(document).offon("click",
"a.markchannelsread, a.navbar_mark_channels_read",function(){vBulletin.markchannelsread(0,{success:function(){location.reload()}},a(this));return!1});a(".js-footer-go-to-top").off("click").on("click",function(d){d.preventDefault();a("body,html").animate({scrollTop:0},800)});k(a(document));a("input.js-select-all-master").on("change",function(){var d=a(this);$list=a(document).find(d.data("list"));$list.prop("checked",d.is(":checked"))});pageData.flash_message&&n(pageData.flash_message);a("input[placeholder]").each(function(){var d=
a(this),q=d.attr("placeholder");q&&!d.attr("aria-label")&&d.attr("aria-label",q)});r();vBulletin.Responsive.Debounce.registerCallbackOnce(r);a(document).off("vb-filterposts",r).on("vb-filterposts",r);f(a(document));a(document).on("vb-instrument",d=>{d=a(d.target);f(d);k(d)});vBulletin.ready("global").resolve()})();a("#btnAdvSearch").off("click").on("click",function(e){e.preventDefault();a(this).data("clicked2submit",1);e=a("#searchForm");a('<input type="hidden" name="AdvSearch" value="1" />').appendTo(e);
e.submit()});a("#searchForm").off("submit.searchform").on("submit.searchform",function(e){function g(r,f,l){0<l.length&&l.prop("checked")&&(r[f]=l.val())}var p=a(this),m={},k=p.find("#q"),n=a.trim(k.val());if(0<n.length)m.keywords=n;else if(!a("#btnAdvSearch").data("clicked2submit"))return vBulletin.warning("search","please_provide_search_string",function(){k.trigger("focus")}),e.stopPropagation(),!1;e=p.find(".searchPopupBody");g(m,"title_only",e.find(".searchFields_title_only"));g(m,"authorid",
e.find(".searchFields_authorid"));g(m,"channel",e.find(".searchFields_channel"));p.find("input[name=searchJSON]").val(JSON.stringify(m));return!0});var c=A.getCookie("np_notices_displayed");c=c?c.split(","):[];c=c.concat(a('ul.notices li[data-notice-persistent="0"]').map((e,g)=>a(g).data("notice-id")).get());c=c.filter((e,g)=>c.indexOf(e)===g);0<c.length&&A.setCookie("np_notices_displayed",c.join(","),!0);a("ul.notices > li > .close").off("click").on("click",function(e){var g=a(this).closest("li");
e=g.attr("data-notice-id");vBulletin.AJAX({call:"/ajax/api/notice/dismiss",data:{noticeid:e},success:function(p){g.hide("slow",function(){var m=a(this).parent();0==m.find(">li:visible").length&&m.addClass("h-hide")})}})});a(".js-stylechooser a").off("click").on("click",function(){let e=a(this).data("styleid");A.setCookie("userstyleid",e,365);pageData.userid?H.ajaxSilent({call:"/ajax/apidetach/user/save",data:{userid:pageData.userid,password:"",user:{styleid:e},options:[""],adminoptions:[""],userfield:[""]},
success:()=>location.reload()}):location.reload();return!1});a(".js-languagechooser a").off("click").on("click",function(){A.setCookie("languageid",a(this).data("languageid"),365);location.reload();return!1});vBulletin.doReplaceSecurityToken(pageData.securitytoken);securitytoken_timeout=setTimeout(b,36E5);securitytoken_errors=0;vBulletin.initFlexGridFixLastRowAll();vBulletin.initFrameImagesWithColor();Q();setTimeout(function(){""!=pageData.crontask&&vBulletin.ajaxtools.ajaxSilent({call:"/ajax/apidetach/cron/"+
pageData.crontask,api_error:a.noop,error:vBulletin.ajaxtools.logAjaxError})},5)},1);vBulletin.triggerHandler=function(b,c,e){c&&0!=c.length?c instanceof a||(c=a(c)):c=a(document);e=e||[];b=a.Event(b);b.target=this instanceof a?this.get(0):this;return c.triggerHandler(b,e)}})(jQuery);function JShtmlEncode(a){var D="";a&&"undefined"!==typeof a&&0<a.length&&(D=$("<div/>").text(a).html());return D=String(D).replace(/"/g,"&quot;")}
function isValidEmailAddress(a){return(new RegExp(/(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])/i)).test(a)}
function str_repeat(a,D){for(var E="",F=0;F<D;F++)E=E.concat(a);return E}vBulletin.htmlEntities=function(a){return String(a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")};vBulletin.htmlEntities_decode=function(a){return String(a).replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"')};
;

// ***************************
// js.compressed/jquery/jquery.qtip.min.js
// ***************************
/*
 qTip2 - Pretty powerful tooltips - v3.0.3
 http://qtip2.com

 Copyright (c) 2016
 Released under the MIT licenses
 http://jquery.org/license

 Date: Wed May 11 2016 10:31 GMT+0100+0100
 Plugins: tips modal viewport svg imagemap ie6
 Styles: core basic css3
*/
(function(z,w,I){(function(e){"function"===typeof define&&define.amd?define(["jquery"],e):jQuery&&!jQuery.fn.qtip&&e(jQuery)})(function(e){function T(a,b,c,d){this.id=c;this.target=a;this.tooltip=null;this.elements={target:a};this._id="qtip-"+c;this.timers={img:{}};this.options=b;this.plugins={};this.cache={event:{},target:e(),disabled:!1,attr:d,onTooltip:!1,lastClass:""};this.rendered=this.destroyed=this.disabled=this.waiting=this.hiddenDuringWait=this.positioning=this.triggering=!1}
function A(a){return null===a||"object"!==e.type(a)}function X(a){return!(e.isFunction(a)||a&&a.attr||a.length||"object"===e.type(a)&&(a.jquery||a.then))}function O(a){var b;if(A(a))return!1;A(a.metadata)&&(a.metadata={type:a.metadata});if("content"in a){var c=a.content;if(A(c)||c.jquery||c.done){var d=X(c)?!1:c;c=a.content={text:d}}else d=c.text;if("ajax"in c){var h=(b=c.ajax)&&!1!==b.once;delete c.ajax;c.text=function(a,c){a=d||e(this).attr(c.options.content.attr)||"Loading...";var f=e.ajax(e.extend({},
b,{context:c})).then(b.success,null,b.error).then(function(a){a&&h&&c.set("content.text",a);return a},function(a,b,d){c.destroyed||0===a.status||c.set("content.text",b+": "+d)});return h?a:(c.set("content.text",a),f)}}"title"in c&&(e.isPlainObject(c.title)&&(c.button=c.title.button,c.title=c.title.text),X(c.title||!1)&&(c.title=!1))}"position"in a&&A(a.position)&&(a.position={my:a.position,at:a.position});"show"in a&&A(a.show)&&(a.show=a.show.jquery?{target:a.show}:!0===a.show?{ready:!0}:{event:a.show});
"hide"in a&&A(a.hide)&&(a.hide=a.hide.jquery?{target:a.hide}:{event:a.hide});"style"in a&&A(a.style)&&(a.style={classes:a.style});e.each(u,function(){this.sanitize&&this.sanitize(a)});return a}function Y(a,b){var c=0,d,e=a;for(b=b.split(".");e=e[b[c++]];)c<b.length&&(d=e);return[d||a,b.pop()]}function ia(a,b){var c,d,e;for(c in this.checks)if(this.checks.hasOwnProperty(c))for(d in this.checks[c])this.checks[c].hasOwnProperty(d)&&(e=(new RegExp(d,"i")).exec(a))&&(b.push(e),("builtin"===c||this.plugins[c])&&
this.checks[c][d].apply(this.plugins[c]||this,b))}function P(a){return ja.concat("").join(a?"-"+a+" ":" ")}function Q(a,b){if(0<b)return setTimeout(e.proxy(a,this),b);a.call(this)}function ka(a){this.tooltip.hasClass(x)||(clearTimeout(this.timers.show),clearTimeout(this.timers.hide),this.timers.show=Q.call(this,function(){this.toggle(!0,a)},this.options.show.delay))}function la(a){if(!this.tooltip.hasClass(x)&&!this.destroyed){var b=e(a.relatedTarget),c=b.closest(".qtip")[0]===this.tooltip[0],d=b[0]===
this.options.show.target[0];clearTimeout(this.timers.show);clearTimeout(this.timers.hide);if(this!==b[0]&&"mouse"===this.options.position.target&&c||this.options.hide.fixed&&/mouse(out|leave|move)/.test(a.type)&&(c||d))try{a.preventDefault(),a.stopImmediatePropagation()}catch(h){}else this.timers.hide=Q.call(this,function(){this.toggle(!1,a)},this.options.hide.delay,this)}}function U(a){!this.tooltip.hasClass(x)&&this.options.hide.inactive&&(clearTimeout(this.timers.inactive),this.timers.inactive=
Q.call(this,function(){this.hide(a)},this.options.hide.inactive))}function Z(a){this.rendered&&0<this.tooltip[0].offsetWidth&&this.reposition(a)}function aa(a,b,c){e(w.body).on((b.split?b:b.join(".qtip "))+".qtip",a,function(){var a=t.api[e.attr(this,"data-qtip-id")];a&&!a.disabled&&c.apply(a,arguments)})}function ma(a,b,c){var d,h=e(w.body),f=a[0]===w?h:a;var g=a.metadata?a.metadata(c.metadata):null;var k="html5"===c.metadata.type&&g?g[c.metadata.name]:null,m=a.data(c.metadata.name||"qtipopts");
try{m="string"===typeof m?e.parseJSON(m):m}catch(v){}g=e.extend(!0,{},t.defaults,c,"object"===typeof m?O(m):null,O(k||g));c=g.position;g.id=b;if("boolean"===typeof g.content.text){var n=a.attr(g.content.attr);if(!1!==g.content.attr&&n)g.content.text=n;else return!1}c.container.length||(c.container=h);!1===c.target&&(c.target=f);!1===g.show.target&&(g.show.target=f);!0===g.show.solo&&(g.show.solo=c.container.closest("body"));!1===g.hide.target&&(g.hide.target=f);!0===g.position.viewport&&(g.position.viewport=
c.container);c.container=c.container.eq(0);c.at=new B(c.at,!0);c.my=new B(c.my);if(a.data("qtip"))if(g.overwrite)a.qtip("destroy",!0);else if(!1===g.overwrite)return!1;a.attr("data-hasqtip",b);g.suppress&&(d=a.attr("title"))&&a.removeAttr("title").attr("oldtitle",d).attr("title","");b=new T(a,g,b,!!n);a.data("qtip",b);return b}function N(a){return a.charAt(0).toUpperCase()+a.slice(1)}function na(a,b){var c=b.charAt(0).toUpperCase()+b.slice(1);c=(b+" "+oa.join(c+" ")+c).split(" ");var d,e,f=0;if(V[b])return a.css(V[b]);
for(;d=c[f++];)if((e=a.css(d))!==I)return V[b]=d,e}function J(a,b){return Math.ceil(parseFloat(na(a,b)))}function ba(a,b){this._ns="tip";this.options=b;this.offset=b.offset;this.size=[b.width,b.height];this.qtip=a;this.init(a)}function ca(a,b){this.options=b;this._ns="-modal";this.qtip=a;this.init(a)}function da(a){this._ns="ie6";this.qtip=a;this.init(a)}var B,u={},ja=["ui-widget","ui-tooltip"],ea="click dblclick mousedown mouseup mousemove mouseleave mouseenter".split(" "),x="qtip-disabled",R,F=
function(){var a;var b=4;for(a=w.createElement("div");(a.innerHTML="\x3c!--[if gt IE "+b+"]><i></i><![endif]--\x3e")&&a.getElementsByTagName("i")[0];b+=1);return 4<b?b:NaN}(),D=parseFloat((""+(/CPU.*OS ([0-9_]{1,5})|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_",".").replace("_",""))||!1;var l=T.prototype;l._when=function(a){return e.when.apply(e,a)};l.render=function(a){if(this.rendered||this.destroyed)return this;var b=this,c=this.options,
d=this.cache,h=this.elements,f=c.content.text,g=c.content.title,k=c.content.button,m=c.position,n=[];e.attr(this.target[0],"aria-describedby",this._id);d.posClass=this._createPosClass((this.position={my:m.my,at:m.at}).my);this.tooltip=h.tooltip=e("<div/>",{id:this._id,"class":["qtip qtip-default",c.style.classes,d.posClass].join(" "),width:c.style.width||"",height:c.style.height||"",tracking:"mouse"===m.target&&m.adjust.mouse,role:"alert","aria-live":"polite","aria-atomic":!1,"aria-describedby":this._id+
"-content","aria-hidden":!0}).toggleClass(x,this.disabled).attr("data-qtip-id",this.id).data("qtip",this).appendTo(m.container).append(h.content=e("<div />",{"class":"qtip-content",id:this._id+"-content","aria-atomic":!0}));this.rendered=-1;this.positioning=!0;g&&(this._createTitle(),e.isFunction(g)||n.push(this._updateTitle(g,!1)));k&&this._createButton();e.isFunction(f)||n.push(this._updateContent(f,!1));this.rendered=!0;this._setWidget();e.each(u,function(a){var c;"render"===this.initialize&&(c=
this(b))&&(b.plugins[a]=c)});this._unassignEvents();this._assignEvents();this._when(n).then(function(){b._trigger("render");b.positioning=!1;b.hiddenDuringWait||!c.show.ready&&!a||b.toggle(!0,d.event,!1);b.hiddenDuringWait=!1});t.api[this.id]=this;return this};l.destroy=function(a){function b(){if(!this.destroyed){this.destroyed=!0;var a=this.target,b=a.attr("oldtitle"),h;this.rendered&&this.tooltip.stop(1,0).find("*").remove().end().remove();e.each(this.plugins,function(){this.destroy&&this.destroy()});
for(h in this.timers)this.timers.hasOwnProperty(h)&&clearTimeout(this.timers[h]);a.removeData("qtip").removeAttr("data-qtip-id").removeAttr("data-hasqtip").removeAttr("aria-describedby");this.options.suppress&&b&&a.attr("title",b).removeAttr("oldtitle");this._unassignEvents();this.options=this.elements=this.cache=this.timers=this.plugins=this.mouse=null;delete t.api[this.id]}}if(this.destroyed)return this.target;!0===a&&"hide"!==this.triggering||!this.rendered?b.call(this):(this.tooltip.one("tooltiphidden",
e.proxy(b,this)),!this.triggering&&this.hide());return this.target};var W=l.checks={builtin:{"^id$":function(a,b,c,d){c=!0===c?t.nextid:c;var h="qtip-"+c;!1!==c&&0<c.length&&!e("#"+h).length?(this._id=h,this.rendered&&(this.tooltip[0].id=this._id,this.elements.content[0].id=this._id+"-content",this.elements.title[0].id=this._id+"-title")):a[b]=d},"^prerender":function(a,b,c){c&&!this.rendered&&this.render(this.options.show.ready)},"^content.text$":function(a,b,c){this._updateContent(c)},"^content.attr$":function(a,
b,c,d){this.options.content.text===this.target.attr(d)&&this._updateContent(this.target.attr(c))},"^content.title$":function(a,b,c){if(!c)return this._removeTitle();c&&!this.elements.title&&this._createTitle();this._updateTitle(c)},"^content.button$":function(a,b,c){this._updateButton(c)},"^content.title.(text|button)$":function(a,b,c){this.set("content."+b,c)},"^position.(my|at)$":function(a,b,c){"string"===typeof c&&(this.position[b]=a[b]=new B(c,"at"===b))},"^position.container$":function(a,b,
c){this.rendered&&this.tooltip.appendTo(c)},"^show.ready$":function(a,b,c){c&&(!this.rendered&&this.render(!0)||this.toggle(!0))},"^style.classes$":function(a,b,c,d){this.rendered&&this.tooltip.removeClass(d).addClass(c)},"^style.(width|height)":function(a,b,c){this.rendered&&this.tooltip.css(b,c)},"^style.widget|content.title":function(){this.rendered&&this._setWidget()},"^style.def":function(a,b,c){this.rendered&&this.tooltip.toggleClass("qtip-default",!!c)},"^events.(render|show|move|hide|focus|blur)$":function(a,
b,c){this.rendered&&this.tooltip[(e.isFunction(c)?"":"un")+"bind"]("tooltip"+b,c)},"^(show|hide|position).(event|target|fixed|inactive|leave|distance|viewport|adjust)":function(){if(this.rendered){var a=this.options.position;this.tooltip.attr("tracking","mouse"===a.target&&a.adjust.mouse);this._unassignEvents();this._assignEvents()}}}};l.get=function(a){if(this.destroyed)return this;a=Y(this.options,a.toLowerCase());a=a[0][a[1]];return a.precedance?a.string():a};var pa=/^position\.(my|at|adjust|target|container|viewport)|style|content|show\.ready/i,
qa=/^prerender|show\.ready/i;l.set=function(a,b){if(this.destroyed)return this;var c=this.rendered,d=!1,h=this.options;if("string"===typeof a){var f=a;a={};a[f]=b}else a=e.extend({},a);e.each(a,function(b,f){if(c&&qa.test(b))delete a[b];else{var m=Y(h,b.toLowerCase());var g=m[0][m[1]];m[0][m[1]]=f&&f.nodeType?e(f):f;d=pa.test(b)||d;a[b]=[m[0],m[1],f,g]}});O(h);this.positioning=!0;e.each(a,e.proxy(ia,this));this.positioning=!1;this.rendered&&0<this.tooltip[0].offsetWidth&&d&&this.reposition("mouse"===
h.position.target?null:this.cache.event);return this};l._update=function(a,b){var c=this,d=this.cache;if(!this.rendered||!a)return!1;e.isFunction(a)&&(a=a.call(this.elements.target,d.event,this)||"");if(e.isFunction(a.then))return d.waiting=!0,a.then(function(a){d.waiting=!1;return c._update(a,b)},null,function(a){return c._update(a,b)});if(!1===a||!a&&""!==a)return!1;a.jquery&&0<a.length?b.empty().append(a.css({display:"block",visibility:"visible"})):b.html(a);return this._waitForContent(b).then(function(a){c.rendered&&
0<c.tooltip[0].offsetWidth&&c.reposition(d.event,!a.length)})};l._waitForContent=function(a){var b=this.cache;b.waiting=!0;return(e.fn.imagesLoaded?a.imagesLoaded():(new e.Deferred).resolve([])).done(function(){b.waiting=!1}).promise()};l._updateContent=function(a,b){this._update(a,this.elements.content,b)};l._updateTitle=function(a,b){!1===this._update(a,this.elements.title,b)&&this._removeTitle(!1)};l._createTitle=function(){var a=this.elements,b=this._id+"-title";a.titlebar&&this._removeTitle();
a.titlebar=e("<div />",{"class":"qtip-titlebar "+(this.options.style.widget?P("header"):"")}).append(a.title=e("<div />",{id:b,"class":"qtip-title","aria-atomic":!0})).insertBefore(a.content).on("mousedown keydown mouseup keyup mouseout",".qtip-close",function(a){e(this).toggleClass("ui-state-active ui-state-focus","down"===a.type.substr(-4))}).on("mouseover mouseout",".qtip-close",function(a){e(this).toggleClass("ui-state-hover","mouseover"===a.type)});this.options.content.button&&this._createButton()};
l._removeTitle=function(a){var b=this.elements;b.title&&(b.titlebar.remove(),b.titlebar=b.title=b.button=null,!1!==a&&this.reposition())};l._createPosClass=function(a){return"qtip-pos-"+(a||this.options.position.my).abbrev()};l.reposition=function(a,b){if(!this.rendered||this.positioning||this.destroyed)return this;this.positioning=!0;var c=this.cache,d=this.tooltip,h=this.options.position,f=h.target,g=h.my,k=h.at,m=h.viewport,n=h.container,v=h.adjust,p=v.method.split(" "),q=d.outerWidth(!1),H=d.outerHeight(!1),
l=0,K=0,t=d.css("position"),r={left:0,top:0},x=0<d[0].offsetWidth,B=a&&"scroll"===a.type,y=e(z),A=n[0].ownerDocument,E=this.mouse,C;if(e.isArray(f)&&2===f.length)k={x:"left",y:"top"},r={left:f[0],top:f[1]};else if("mouse"===f)k={x:"left",y:"top"},(!v.mouse||this.options.hide.distance)&&c.origin&&c.origin.pageX?a=c.origin:!a||a&&("resize"===a.type||"scroll"===a.type)?a=c.event:E&&E.pageX&&(a=E),"static"!==t&&(r=n.offset()),A.body.offsetWidth!==(z.innerWidth||A.documentElement.clientWidth)&&(C=e(w.body).offset()),
r={left:a.pageX-r.left+(C&&C.left||0),top:a.pageY-r.top+(C&&C.top||0)},v.mouse&&B&&E&&(r.left-=(E.scrollX||0)-y.scrollLeft(),r.top-=(E.scrollY||0)-y.scrollTop());else{"event"===f?a&&a.target&&"scroll"!==a.type&&"resize"!==a.type?c.target=e(a.target):a.target||(c.target=this.elements.target):"event"!==f&&(c.target=e(f.jquery?f:this.elements.target));f=c.target;f=e(f).eq(0);if(0===f.length)return this;if(f[0]===w||f[0]===z)l=D?z.innerWidth:f.width(),K=D?z.innerHeight:f.height(),f[0]===z&&(r={top:(m||
f).scrollTop(),left:(m||f).scrollLeft()});else if(u.imagemap&&f.is("area"))var G=u.imagemap(this,f,k,u.viewport?p:!1);else u.svg&&f&&f[0].ownerSVGElement?G=u.svg(this,f,k,u.viewport?p:!1):(l=f.outerWidth(!1),K=f.outerHeight(!1),r=f.offset());G&&(l=G.width,K=G.height,C=G.offset,r=G.position);r=this.reposition.offset(f,r,n);if(3.1<D&&4.1>D||4.3<=D&&4.33>D||!D&&"fixed"===t)r.left-=y.scrollLeft(),r.top-=y.scrollTop();if(!G||G&&!1!==G.adjustable)r.left+="right"===k.x?l:"center"===k.x?l/2:0,r.top+="bottom"===
k.y?K:"center"===k.y?K/2:0}r.left+=v.x+("right"===g.x?-q:"center"===g.x?-q/2:0);r.top+=v.y+("bottom"===g.y?-H:"center"===g.y?-H/2:0);u.viewport?(g=r.adjusted=u.viewport(this,r,h,l,K,q,H),C&&g.left&&(r.left+=C.left),C&&g.top&&(r.top+=C.top),g.my&&(this.position.my=g.my)):r.adjusted={left:0,top:0};c.posClass!==(C=this._createPosClass(this.position.my))&&(c.posClass=C,d.removeClass(c.posClass).addClass(C));if(!this._trigger("move",[r,m.elem||m],a))return this;delete r.adjusted;!1===b||!x||isNaN(r.left)||
isNaN(r.top)||"mouse"===f||!e.isFunction(h.effect)?d.css(r):e.isFunction(h.effect)&&(h.effect.call(d,this,e.extend({},r)),d.queue(function(a){e(this).css({opacity:"",height:""});F&&this.style.removeAttribute("filter");a()}));this.positioning=!1;return this};l.reposition.offset=function(a,b,c){if(!c[0])return b;a=e(a[0].ownerDocument);var d=!!F&&"CSS1Compat"!==w.compatMode;c=c[0];var h,f,g;do if("static"!==(f=e.css(c,"position"))){if("fixed"===f){f=c.getBoundingClientRect();var k=a;b.left+=-1*k.scrollLeft();
b.top+=-1*k.scrollTop()}else f=e(c).position(),f.left+=parseFloat(e.css(c,"borderLeftWidth"))||0,f.top+=parseFloat(e.css(c,"borderTopWidth"))||0;b.left-=f.left+(parseFloat(e.css(c,"marginLeft"))||0);b.top-=f.top+(parseFloat(e.css(c,"marginTop"))||0);h||"hidden"===(g=e.css(c,"overflow"))||"visible"===g||(h=e(c))}while(c=c.offsetParent);h&&(h[0]!==a[0]||d)&&(b.left+=1*h.scrollLeft(),b.top+=1*h.scrollTop());return b};var L=(B=l.reposition.Corner=function(a,b){a=(""+a).replace(/([A-Z])/," $1").replace(/middle/gi,
"center").toLowerCase();this.x=(a.match(/left|right/i)||a.match(/center/)||["inherit"])[0].toLowerCase();this.y=(a.match(/top|bottom|center/i)||["inherit"])[0].toLowerCase();this.forceY=!!b;a=a.charAt(0);this.precedance="t"===a||"b"===a?"y":"x"}).prototype;L.invert=function(a,b){this[a]="left"===this[a]?"right":"right"===this[a]?"left":b||this[a]};L.string=function(a){var b=this.x,c=this.y;b=b!==c?"center"===b||"center"!==c&&("y"===this.precedance||this.forceY)?[c,b]:[b,c]:[b];return!1!==a?b.join(" "):
b};L.abbrev=function(){var a=this.string(!1);return a[0].charAt(0)+(a[1]&&a[1].charAt(0)||"")};L.clone=function(){return new B(this.string(),this.forceY)};l.toggle=function(a,b,c){var d=this.cache,h=this.options,f=this.tooltip;if(b){if(/over|enter/.test(b.type)&&d.event&&/out|leave/.test(d.event.type)&&h.show.target.add(b.target).length===h.show.target.length&&f.has(b.relatedTarget).length)return this;d.event=e.event.fix(b)}this.waiting&&!a&&(this.hiddenDuringWait=!0);if(!this.rendered)return a?this.render(1):
this;if(this.destroyed||this.disabled)return this;h=a?"show":"hide";var g=this.options[h],k=this.options.position,m=this.options.content,n=this.tooltip.css("width"),v=this.tooltip.is(":visible"),p=a||1===g.target.length,q=!b||2>g.target.length||d.target[0]===b.target;(typeof a).search("boolean|number")&&(a=!v);q=(v=!f.is(":animated")&&v===a&&q)?null:!!this._trigger(h,[90]);if(this.destroyed)return this;!1!==q&&a&&this.focus(b);if(!q||v)return this;e.attr(f[0],"aria-hidden",!a);a?(this.mouse&&(d.origin=
e.event.fix(this.mouse)),e.isFunction(m.text)&&this._updateContent(m.text,!1),e.isFunction(m.title)&&this._updateTitle(m.title,!1),!R&&"mouse"===k.target&&k.adjust.mouse&&(e(w).on("mousemove.qtip",this._storeMouse),R=!0),n||f.css("width",f.outerWidth(!1)),this.reposition(b,c),n||f.css("width",""),g.solo&&("string"===typeof g.solo?e(g.solo):e(".qtip",g.solo)).not(f).not(g.target).qtip("hide",new e.Event("tooltipsolo"))):(clearTimeout(this.timers.show),delete d.origin,R&&!e('.qtip[tracking="true"]:visible',
g.solo).not(f).length&&(e(w).off("mousemove.qtip"),R=!1),this.blur(b));var H=e.proxy(function(){a?(F&&f[0].style.removeAttribute("filter"),f.css("overflow",""),"string"===typeof g.autofocus&&e(this.options.show.autofocus,f).focus(),this.options.show.target.trigger("qtip-"+this.id+"-inactive")):f.css({display:"",visibility:"",opacity:"",left:"",top:""});this._trigger(a?"visible":"hidden")},this);!1===g.effect||!1===p?(f[h](),H()):e.isFunction(g.effect)?(f.stop(1,1),g.effect.call(f,this),f.queue("fx",
function(a){H();a()})):f.fadeTo(90,a?1:0,H);a&&g.target.trigger("qtip-"+this.id+"-inactive");return this};l.show=function(a){return this.toggle(!0,a)};l.hide=function(a){return this.toggle(!1,a)};l.focus=function(a){if(!this.rendered||this.destroyed)return this;var b=e(".qtip"),c=this.tooltip,d=parseInt(c[0].style.zIndex,10),h=t.zindex+b.length;!c.hasClass("qtip-focus")&&this._trigger("focus",[h],a)&&(d!==h&&(b.each(function(){this.style.zIndex>d&&--this.style.zIndex}),b.filter(".qtip-focus").qtip("blur",
a)),c.addClass("qtip-focus")[0].style.zIndex=h);return this};l.blur=function(a){if(!this.rendered||this.destroyed)return this;this.tooltip.removeClass("qtip-focus");this._trigger("blur",[this.tooltip.css("zIndex")],a);return this};l.disable=function(a){if(this.destroyed)return this;"toggle"===a?a=!(this.rendered?this.tooltip.hasClass(x):this.disabled):"boolean"!==typeof a&&(a=!0);this.rendered&&this.tooltip.toggleClass(x,a).attr("aria-disabled",a);this.disabled=!!a;return this};l.enable=function(){return this.disable(!1)};
l._createButton=function(){var a=this,b=this.elements,c=b.tooltip,d=this.options.content.button,h="string"===typeof d?d:"Close tooltip";b.button&&b.button.remove();b.button=d.jquery?d:e("<a />",{"class":"qtip-close "+(this.options.style.widget?"":"qtip-icon"),title:h,"aria-label":h}).prepend(e("<span />",{"class":"ui-icon ui-icon-close",html:"&times;"}));b.button.appendTo(b.titlebar||c).attr("role","button").click(function(b){c.hasClass(x)||a.hide(b);return!1})};l._updateButton=function(a){if(!this.rendered)return!1;
var b=this.elements.button;a?this._createButton():b.remove()};l._setWidget=function(){var a=this.options.style.widget,b=this.elements,c=b.tooltip,d=c.hasClass(x);c.removeClass(x);x=a?"ui-state-disabled":"qtip-disabled";c.toggleClass(x,d);c.toggleClass("ui-helper-reset "+P(),a).toggleClass("qtip-default",this.options.style.def&&!a);b.content&&b.content.toggleClass(P("content"),a);b.titlebar&&b.titlebar.toggleClass(P("header"),a);b.button&&b.button.toggleClass("qtip-icon",!a)};l._storeMouse=function(a){(this.mouse=
e.event.fix(a)).type="mousemove";return this};l._bind=function(a,b,c,d,h){if(a&&c&&b.length)return d="."+this._id+(d?"-"+d:""),e(a).on((b.split?b:b.join(d+" "))+d,e.proxy(c,h||this)),this};l._unbind=function(a,b){a&&e(a).off("."+this._id+(b?"-"+b:""));return this};l._trigger=function(a,b,c){var d=new e.Event("tooltip"+a);d.originalEvent=c&&e.extend({},c)||this.cache.event||null;this.triggering=a;this.tooltip.trigger(d,[this].concat(b||[]));this.triggering=!1;return!d.isDefaultPrevented()};l._bindEvents=
function(a,b,c,d,h,f){var g=c.filter(d).add(d.filter(c)),k=[];g.length&&(e.each(b,function(b,c){b=e.inArray(c,a);-1<b&&k.push(a.splice(b,1)[0])}),k.length&&(this._bind(g,k,function(a){(this.rendered&&0<this.tooltip[0].offsetWidth?f:h).call(this,a)}),c=c.not(g),d=d.not(g)));this._bind(c,a,h);this._bind(d,b,f)};l._assignInitialEvents=function(a){function b(a){if(this.disabled||this.destroyed)return!1;this.cache.event=a&&e.event.fix(a);this.cache.target=a&&e(a.target);clearTimeout(this.timers.show);
this.timers.show=Q.call(this,function(){this.render("object"===typeof a||c.show.ready)},c.prerender?0:c.show.delay)}var c=this.options,d=c.show.target,h=c.hide.target,f=c.show.event?e.trim(""+c.show.event).split(" "):[],g=c.hide.event?e.trim(""+c.hide.event).split(" "):[];this._bind(this.elements.target,["remove","removeqtip"],function(){this.destroy(!0)},"destroy");/mouse(over|enter)/i.test(c.show.event)&&!/mouse(out|leave)/i.test(c.hide.event)&&g.push("mouseleave");this._bind(d,"mousemove",function(a){this._storeMouse(a);
this.cache.onTarget=!0});this._bindEvents(f,g,d,h,b,function(){if(!this.timers)return!1;clearTimeout(this.timers.show)});(c.show.ready||c.prerender)&&b.call(this,a)};l._assignEvents=function(){var a=this,b=this.options,c=b.position,d=this.tooltip,h=b.show.target,f=b.hide.target,g=c.container,k=c.viewport,m=e(w),n=e(z),v=b.show.event?e.trim(""+b.show.event).split(" "):[],p=b.hide.event?e.trim(""+b.hide.event).split(" "):[];e.each(b.events,function(b,c){a._bind(d,"toggle"===b?["tooltipshow","tooltiphide"]:
["tooltip"+b],c,null,d)});/mouse(out|leave)/i.test(b.hide.event)&&"window"===b.hide.leave&&this._bind(m,["mouseout","blur"],function(a){/select|option/.test(a.target.nodeName)||a.relatedTarget||this.hide(a)});b.hide.fixed?f=f.add(d.addClass("qtip-fixed")):/mouse(over|enter)/i.test(b.show.event)&&this._bind(f,"mouseleave",function(){clearTimeout(this.timers.show)});-1<(""+b.hide.event).indexOf("unfocus")&&this._bind(g.closest("html"),["mousedown","touchstart"],function(a){var b=e(a.target),c=this.rendered&&
!this.tooltip.hasClass(x)&&0<this.tooltip[0].offsetWidth,d=0<b.parents(".qtip").filter(this.tooltip[0]).length;b[0]===this.target[0]||b[0]===this.tooltip[0]||d||this.target.has(b[0]).length||!c||this.hide(a)});"number"===typeof b.hide.inactive&&(this._bind(h,"qtip-"+this.id+"-inactive",U,"inactive"),this._bind(f.add(d),t.inactiveEvents,U));this._bindEvents(v,p,h,f,ka,la);this._bind(h.add(d),"mousemove",function(a){if("number"===typeof b.hide.distance){var c=this.cache.origin||{},d=this.options.hide.distance,
f=Math.abs;(f(a.pageX-c.pageX)>=d||f(a.pageY-c.pageY)>=d)&&this.hide(a)}this._storeMouse(a)});"mouse"===c.target&&c.adjust.mouse&&(b.hide.event&&this._bind(h,["mouseenter","mouseleave"],function(a){if(!this.cache)return!1;this.cache.onTarget="mouseenter"===a.type}),this._bind(m,"mousemove",function(a){this.rendered&&this.cache.onTarget&&!this.tooltip.hasClass(x)&&0<this.tooltip[0].offsetWidth&&this.reposition(a)}));(c.adjust.resize||k.length)&&this._bind(e.event.special.resize?k:n,"resize",Z);c.adjust.scroll&&
this._bind(n.add(c.container),"scroll",Z)};l._unassignEvents=function(){var a=this.options,b=a.show.target,c=a.hide.target;a=e.grep([this.elements.target[0],this.rendered&&this.tooltip[0],a.position.container[0],a.position.viewport[0],a.position.container.closest("html")[0],z,w],function(a){return"object"===typeof a});b&&b.toArray&&(a=a.concat(b.toArray()));c&&c.toArray&&(a=a.concat(c.toArray()));this._unbind(a)._unbind(a,"destroy")._unbind(a,"inactive")};e(function(){aa(".qtip",["mouseenter","mouseleave"],
function(a){var b="mouseenter"===a.type,c=e(a.currentTarget),d=e(a.relatedTarget||a.target),h=this.options;b?(this.focus(a),c.hasClass("qtip-fixed")&&!c.hasClass(x)&&clearTimeout(this.timers.hide)):"mouse"===h.position.target&&h.position.adjust.mouse&&h.hide.event&&h.show.target&&!d.closest(h.show.target[0]).length&&this.hide(a);c.toggleClass("qtip-hover",b)});aa("[data-qtip-id]",ea,U)});var t=e.fn.qtip=function(a,b,c){var d=(""+a).toLowerCase(),h=null,f=e.makeArray(arguments).slice(1),g=f[f.length-
1],k=this[0]?e.data(this[0],"qtip"):null;if(!arguments.length&&k||"api"===d)return k;if("string"===typeof a)return this.each(function(){var a=e.data(this,"qtip");if(!a)return!0;g&&g.timeStamp&&(a.cache.event=g);if(!b||"option"!==d&&"options"!==d)a[d]&&a[d].apply(a,f);else if(c!==I||e.isPlainObject(b))a.set(b,c);else return h=a.get(b),!1}),null!==h?h:this;if("object"===typeof a||!arguments.length)return k=O(e.extend(!0,{},a)),this.each(function(a){a=e.isArray(k.id)?k.id[a]:k.id;a=!a||!1===a||1>a.length||
t.api[a]?t.nextid++:a;var b=ma(e(this),a,k);if(!1===b)return!0;t.api[a]=b;e.each(u,function(){"initialize"===this.initialize&&this(b)});b._assignInitialEvents(g)})};e.qtip=T;t.api={};e.each({attr:function(a,b){if(this.length){var c=this[0],d=e.data(c,"qtip");if("title"===a&&d&&d.options&&"object"===typeof d&&"object"===typeof d.options&&d.options.suppress){if(2>arguments.length)return e.attr(c,"oldtitle");d&&"title"===d.options.content.attr&&d.cache.attr&&d.set("content.text",b);return this.attr("oldtitle",
b)}}return e.fn.attr_replacedByqTip.apply(this,arguments)},clone:function(a){var b=e.fn.clone_replacedByqTip.apply(this,arguments);a||b.filter("[oldtitle]").attr("title",function(){return e.attr(this,"oldtitle")}).removeAttr("oldtitle");return b}},function(a,b){if(!b||e.fn[a+"_replacedByqTip"])return!0;var c=e.fn[a+"_replacedByqTip"]=e.fn[a];e.fn[a]=function(){return b.apply(this,arguments)||c.apply(this,arguments)}});e.ui||(e.cleanData_replacedByqTip=e.cleanData,e.cleanData=function(a){for(var b=
0,c;(c=e(a[b])).length;b++)if(c.attr("data-hasqtip"))try{c.triggerHandler("removeqtip")}catch(d){}e.cleanData_replacedByqTip.apply(this,arguments)});t.version="3.0.3";t.nextid=0;t.inactiveEvents=ea;t.zindex=15E3;t.defaults={prerender:!1,id:!1,overwrite:!0,suppress:!0,content:{text:!0,attr:"title",title:!1,button:!1},position:{my:"top left",at:"bottom right",target:!1,container:!1,viewport:!1,adjust:{x:0,y:0,mouse:!0,scroll:!0,resize:!0,method:"flipinvert flipinvert"},effect:function(a,b){e(this).animate(b,
{duration:200,queue:!1})}},show:{target:!1,event:"mouseenter",effect:!0,delay:90,solo:!1,ready:!1,autofocus:!1},hide:{target:!1,event:"mouseleave",effect:!0,delay:0,fixed:!1,inactive:!1,leave:"window",distance:!1},style:{classes:"",widget:!1,width:!1,height:!1,def:!0},events:{render:null,move:null,show:null,hide:null,toggle:null,visible:null,hidden:null,focus:null,blur:null}};var S=!!w.createElement("canvas").getContext,fa=/rgba?\(0, 0, 0(, 0)?\)|transparent|#123456/i,V={},oa=["Webkit","O","Moz",
"ms"];if(S){l=z.devicePixelRatio||1;L=function(){var a=w.createElement("canvas").getContext("2d");return a.backingStorePixelRatio||a.webkitBackingStorePixelRatio||a.mozBackingStorePixelRatio||a.msBackingStorePixelRatio||a.oBackingStorePixelRatio||1}();var M=l/L}else var ha=function(a,b,c){return"<qtipvml:"+a+' xmlns="urn:schemas-microsoft.com:vml" class="qtip-vml" '+(b||"")+' style="behavior: url(#default#VML); '+(c||"")+'" />'};e.extend(ba.prototype,{init:function(a){var b=this.element=a.elements.tip=
e("<div />",{"class":"qtip-tip"}).prependTo(a.tooltip);if(S){var c=e("<canvas />").appendTo(this.element)[0].getContext("2d");c.lineJoin="miter";c.miterLimit=1E5;c.save()}else c=ha("shape",'coordorigin="0,0"',"position:absolute;"),this.element.html(c+c),a._bind(e("*",b).add(b),["click","mousedown"],function(a){a.stopPropagation()},this._ns);a._bind(a.tooltip,"tooltipmove",this.reposition,this._ns,this);this.create()},_swapDimensions:function(){this.size[0]=this.options.height;this.size[1]=this.options.width},
_resetDimensions:function(){this.size[0]=this.options.width;this.size[1]=this.options.height},_useTitle:function(a){var b=this.qtip.elements.titlebar;return b&&("top"===a.y||"center"===a.y&&this.element.position().top+this.size[1]/2+this.options.offset<b.outerHeight(!0))},_parseCorner:function(a){var b=this.qtip.options.position.my;!1===a||!1===b?a=!1:!0===a?a=new B(b.string()):a.string||(a=new B(a),a.fixed=!0);return a},_parseWidth:function(a,b,c){var d=this.qtip.elements;b="border"+N(b)+"Width";
return(c?J(c,b):J(d.content,b)||J(this._useTitle(a)&&d.titlebar||d.content,b)||J(d.tooltip,b))||0},_parseRadius:function(a){var b=this.qtip.elements,c="border"+N(a.y)+N(a.x)+"Radius";return 9>F?0:J(this._useTitle(a)&&b.titlebar||b.content,c)||J(b.tooltip,c)||0},_invalidColour:function(a,b,c){b=a.css(b);return!b||c&&b===a.css(c)||fa.test(b)?!1:b},_parseColours:function(a){var b=this.qtip.elements,c=this.element.css("cssText",""),d="border"+N(a[a.precedance])+N("color");a=this._useTitle(a)&&b.titlebar||
b.content;var h=this._invalidColour,f=[];f[0]=h(c,"background-color")||h(a,"background-color")||h(b.content,"background-color")||h(b.tooltip,"background-color")||c.css("background-color");f[1]=h(c,d,"color")||h(a,d,"color")||h(b.content,d,"color")||h(b.tooltip,d,"color")||b.tooltip.css(d);e("*",c).add(c).css("cssText","background-color:transparent !important;border:0 !important;");return f},_calculateSize:function(a){var b="y"===a.precedance,c=this.options.width,d=this.options.height,e="c"===a.abbrev(),
f=(b?c:d)*(e?.5:1),g=Math.pow;a=Math.round;var k=Math.sqrt(g(f,2)+g(d,2));f=[this.border/f*k,this.border/d*k];f[2]=Math.sqrt(g(f[0],2)-g(this.border,2));f[3]=Math.sqrt(g(f[1],2)-g(this.border,2));e=(k+f[2]+f[3]+(e?0:f[0]))/k;c=[a(e*c),a(e*d)];return b?c:c.reverse()},_calculateTip:function(a,b,c){c=c||1;b=b||this.size;var d=b[0]*c;b=b[1]*c;c=Math.ceil(d/2);var e=Math.ceil(b/2);d={br:[0,0,d,b,d,0],bl:[0,0,d,0,0,b],tr:[0,b,d,0,d,b],tl:[0,0,0,b,d,b],tc:[0,b,c,0,d,b],bc:[0,0,d,0,c,b],rc:[0,0,d,e,0,b],
lc:[d,0,d,b,0,e]};d.lt=d.br;d.rt=d.bl;d.lb=d.tr;d.rb=d.tl;return d[a.abbrev()]},_drawCoords:function(a,b){a.beginPath();a.moveTo(b[0],b[1]);a.lineTo(b[2],b[3]);a.lineTo(b[4],b[5]);a.closePath()},create:function(){var a=this.corner=(S||F)&&this._parseCorner(this.options.corner);if(this.enabled=!!this.corner&&"c"!==this.corner.abbrev())this.qtip.cache.corner=a.clone(),this.update();this.element.toggle(this.enabled);return this.corner},update:function(a,b){if(!this.enabled)return this;var c=this.qtip.elements,
d=this.element,h=d.children(),f=this.options,g=this.size,k=f.mimic,m=Math.round;a||(a=this.qtip.cache.corner||this.corner);!1===k?k=a:(k=new B(k),k.precedance=a.precedance,"inherit"===k.x?k.x=a.x:"inherit"===k.y?k.y=a.y:k.x===k.y&&(k[a.precedance]=a[a.precedance]));var n=k.precedance;"x"===a.precedance?this._swapDimensions():this._resetDimensions();var v=this.color=this._parseColours(a);if("transparent"!==v[1]){var p=this.border=this._parseWidth(a,a[a.precedance]);f.border&&1>p&&!fa.test(v[1])&&(v[0]=
v[1]);this.border=p=!0!==f.border?f.border:p}else this.border=p=0;var q=this.size=this._calculateSize(a);d.css({width:q[0],height:q[1],lineHeight:q[1]+"px"});d="y"===a.precedance?[m("left"===k.x?p:"right"===k.x?q[0]-g[0]-p:(q[0]-g[0])/2),m("top"===k.y?q[1]-g[1]:0)]:[m("left"===k.x?q[0]-g[0]:0),m("top"===k.y?p:"bottom"===k.y?q[1]-g[1]-p:(q[1]-g[1])/2)];if(S){n=h[0].getContext("2d");n.restore();n.save();n.clearRect(0,0,6E3,6E3);var l=this._calculateTip(k,g,M);g=this._calculateTip(k,this.size,M);h.attr("width",
q[0]*M).attr("height",q[1]*M);h.css("width",q[0]).css("height",q[1]);this._drawCoords(n,g);n.fillStyle=v[1];n.fill();n.translate(d[0]*M,d[1]*M);this._drawCoords(n,l);n.fillStyle=v[0];n.fill()}else l=this._calculateTip(k),l="m"+l[0]+","+l[1]+" l"+l[2]+","+l[3]+" "+l[4]+","+l[5]+" xe",d[2]=p&&/^(r|b)/i.test(a.string())?8===F?2:1:0,h.css({coordsize:q[0]+p+" "+q[1]+p,antialias:""+(-1<k.string().indexOf("center")),left:d[0]-d[2]*Number("x"===n),top:d[1]-d[2]*Number("y"===n),width:q[0]+p,height:q[1]+p}).each(function(a){var b=
e(this);b[b.prop?"prop":"attr"]({coordsize:q[0]+p+" "+q[1]+p,path:l,fillcolor:v[0],filled:!!a,stroked:!a}).toggle(!(!p&&!a));!a&&b.html(ha("stroke",'weight="'+2*p+'px" color="'+v[1]+'" miterlimit="1000" joinstyle="miter"'))});z.opera&&setTimeout(function(){c.tip.css({display:"inline-block",visibility:"visible"})},1);!1!==b&&this.calculate(a,q)},calculate:function(a,b){if(!this.enabled)return!1;var c=this,d=this.qtip.elements,h=this.element,f=this.options.offset,g={};a=a||this.corner;var k=a.precedance;
b=b||this._calculateSize(a);var m=[a.x,a.y];"x"===k&&m.reverse();e.each(m,function(e,h){if("center"===h){var m="y"===k?"left":"top";g[m]="50%";g["margin-"+m]=-Math.round(b["y"===k?0:1]/2)+f}else{m=c._parseWidth(a,h,d.tooltip);var n=c._parseWidth(a,h,d.content);var l=c._parseRadius(a);g[h]=Math.max(-c.border,e?n:f+(l>m?l:-m))}});g[a[k]]-=b["x"===k?0:1];h.css({margin:"",top:"",bottom:"",left:"",right:""}).css(g);return g},reposition:function(a,b,c){function d(a,b,c,d,e){"shift"===a&&f.precedance===
b&&g[d]&&"center"!==f[c]?f.precedance="x"===f.precedance?"y":"x":"shift"!==a&&g[d]&&(f[b]="center"===f[b]?0<g[d]?d:e:f[b]===d?e:d)}function e(a,b,d){"center"===f[a]?n["margin-"+b]=m[a]=p["margin-"+b]-g[b]:(l=p[d]!==I?[g[b],-p[b]]:[-g[b],p[b]],(m[a]=Math.max(l[0],l[1]))>l[0]&&(c[b]-=g[b],m[b]=!1),n[p[d]!==I?d:b]=m[a])}if(this.enabled){a=b.cache;var f=this.corner.clone(),g=c.adjusted,k=b.options.position.adjust.method.split(" ");b=k[0];k=k[1]||k[0];var m={left:!1,top:!1,x:0,y:0},n={},l;!0!==this.corner.fixed&&
(d(b,"x","y","left","right"),d(k,"y","x","top","bottom"),f.string()===a.corner.string()&&a.cornerTop===g.top&&a.cornerLeft===g.left||this.update(f,!1));var p=this.calculate(f);p.right!==I&&(p.left=-p.right);p.bottom!==I&&(p.top=-p.bottom);p.user=this.offset;m.left="shift"===b&&!!g.left;m.left&&e("x","left","right");m.top="shift"===k&&!!g.top;m.top&&e("y","top","bottom");this.element.css(n).toggle(!(m.x&&m.y||"center"===f.x&&m.y||"center"===f.y&&m.x));c.left-=p.left.charAt?p.user:"shift"!==b||m.top||
!m.left&&!m.top?p.left+this.border:0;c.top-=p.top.charAt?p.user:"shift"!==k||m.left||!m.left&&!m.top?p.top+this.border:0;a.cornerLeft=g.left;a.cornerTop=g.top;a.corner=f.clone()}},destroy:function(){this.qtip._unbind(this.qtip.tooltip,this._ns);this.qtip.elements.tip&&this.qtip.elements.tip.find("*").remove().end().remove()}});l=u.tip=function(a){return new ba(a,a.options.style.tip)};l.initialize="render";l.sanitize=function(a){if(a.style&&"tip"in a.style){var b=a.style.tip;"object"!==typeof b&&(b=
a.style.tip={corner:b});/string|boolean/i.test(typeof b.corner)||(b.corner=!0)}};W.tip={"^position.my|style.tip.(corner|mimic|border)$":function(){this.create();this.qtip.reposition()},"^style.tip.(height|width)$":function(a){this.size=[a.width,a.height];this.update();this.qtip.reposition()},"^content.title|style.(classes|widget)$":function(){this.update()}};e.extend(!0,t.defaults,{style:{tip:{corner:!0,mimic:!1,width:6,height:6,border:!0,offset:0}}});var y=function(){function a(a){if(e.expr[":"].focusable)return e.expr[":"].focusable;
var b=!isNaN(e.attr(a,"tabindex")),c=a.nodeName&&a.nodeName.toLowerCase();if("area"===c){b=a.parentNode;c=b.name;if(!a.href||!c||"map"!==b.nodeName.toLowerCase())return!1;a=e("img[usemap=#"+c+"]")[0];return!!a&&a.is(":visible")}return/input|select|textarea|button|object/.test(c)?!a.disabled:"a"===c?a.href||b:b}function b(a){1>h.length&&a.length?a.not("body").blur():h.first().focus()}function c(a){if(k.is(":visible")){a=e(a.target);var c=f.tooltip,d=a.closest(".qtip");(1>d.length?0:parseInt(d[0].style.zIndex,
10)>parseInt(c[0].style.zIndex,10))||a.closest(".qtip")[0]===c[0]||b(a)}}var d=this,h={},f,g,k;e.extend(d,{init:function(){k=d.elem=e("<div />",{id:"qtip-overlay",html:"<div></div>"}).on("mousedown",!1).hide();e(w.body).on("focusin.qtip-modal",c);e(w).on("keydown.qtip-modal",function(a){f&&f.options.show.modal.escape&&27===a.keyCode&&f.hide(a)});k.on("click.qtip-modal",function(a){f&&f.options.show.modal.blur&&f.hide(a)});return d},update:function(b){f=b;h=!1!==b.options.show.modal.stealfocus?b.tooltip.find("*").filter(function(){return a(this)}):
[]},toggle:function(a,c,h){var m=a.tooltip,l=a.options.show.modal,n=l.effect,v=c?"show":"hide",u=k.is(":visible");m=e(".qtip-modal").filter(":visible:not(:animated)").not(m);d.update(a);c&&!1!==l.stealfocus&&b(e(":focus"));k.toggleClass("blurs",l.blur);c&&k.appendTo(w.body);if(k.is(":animated")&&u===c&&!1!==g||!c&&m.length)return d;k.stop(!0,!1);if(e.isFunction(n))n.call(k,c);else if(!1===n)k[v]();else k.fadeTo(parseInt(h,10)||90,c?1:0,function(){c||k.hide()});c||k.queue(function(a){k.css({left:"",
top:""});e(".qtip-modal").length||k.detach();a()});g=c;f.destroyed&&(f=null);return d}});d.init()};y=new y;e.extend(ca.prototype,{init:function(a){var b=a.tooltip;if(!this.options.on)return this;a.elements.overlay=y.elem;b.addClass("qtip-modal").css("z-index",t.modal_zindex+e(".qtip-modal").length);a._bind(b,["tooltipshow","tooltiphide"],function(a,d,h){d=a.originalEvent;if(a.target===b[0])if(d&&"tooltiphide"===a.type&&/mouse(leave|enter)/.test(d.type)&&e(d.relatedTarget).closest(y.elem[0]).length)try{a.preventDefault()}catch(f){}else(!d||
d&&"tooltipsolo"!==d.type)&&this.toggle(a,"tooltipshow"===a.type,h)},this._ns,this);a._bind(b,"tooltipfocus",function(a,d){if(!a.isDefaultPrevented()&&a.target===b[0]){var c=e(".qtip-modal"),f=t.modal_zindex+c.length,g=parseInt(b[0].style.zIndex,10);y.elem[0].style.zIndex=f-1;c.each(function(){this.style.zIndex>g&&--this.style.zIndex});c.filter(".qtip-focus").qtip("blur",a.originalEvent);b.addClass("qtip-focus")[0].style.zIndex=f;y.update(d);try{a.preventDefault()}catch(k){}}},this._ns,this);a._bind(b,
"tooltiphide",function(a){a.target===b[0]&&e(".qtip-modal").filter(":visible").not(b).last().qtip("focus",a)},this._ns,this)},toggle:function(a,b,c){if(a&&a.isDefaultPrevented())return this;y.toggle(this.qtip,!!b,c)},destroy:function(){this.qtip.tooltip.removeClass("qtip-modal");this.qtip._unbind(this.qtip.tooltip,this._ns);y.toggle(this.qtip,!1);delete this.qtip.elements.overlay}});l=u.modal=function(a){return new ca(a,a.options.show.modal)};l.sanitize=function(a){a.show&&("object"!==typeof a.show.modal?
a.show.modal={on:!!a.show.modal}:"undefined"===typeof a.show.modal.on&&(a.show.modal.on=!0))};t.modal_zindex=t.zindex-200;l.initialize="render";W.modal={"^show.modal.(on|blur)$":function(){this.destroy();this.init();this.qtip.elems.overlay.toggle(0<this.qtip.tooltip[0].offsetWidth)}};e.extend(!0,t.defaults,{show:{modal:{on:!1,effect:!0,blur:!0,stealfocus:!0,escape:!0}}});u.viewport=function(a,b,c,d,e,f,g){function h(a,c,d,e,f,h,g,k,m){var l=b[f],n=v[a],q=p[a],t=n===f?m:n===h?-m:-m/2,u=F[f]+D[f]-(r?
0:y[f]),w=u-l;m=l+m-("width"===g?A:B)-u;c=t-(v.precedance===a||n===v[c]?q===f?k:q===h?-k:-k/2:0)-("center"===q?k/2:0);"shift"===d?(c=(n===f?1:-1)*t,b[f]+=0<w?w:0<m?-m:0,b[f]=Math.max(-y[f]+D[f],l-c,Math.min(Math.max(-y[f]+D[f]+("width"===g?A:B),l+c),b[f],"center"===n?l-t:1E9))):(e*="flipinvert"===d?2:0,0<w&&(n!==f||0<m)?(b[f]-=c+e,E.invert(a,f)):0<m&&(n!==h||0<w)&&(b[f]-=("center"===n?-c:c)+e,E.invert(a,h)),b[f]<F[f]&&-b[f]>m&&(b[f]=l,E=v.clone()));return b[f]-l}var m=c.target,l=a.elements.tooltip,
v=c.my,p=c.at;a=c.adjust;var q=a.method.split(" "),u=q[0];q=q[1]||q[0];var t=c.viewport,x=c.container;c={left:0,top:0};if(!t.jquery||m[0]===z||m[0]===w.body||"none"===a.method)return c;var y=x.offset()||c;var r="static"===x.css("position");m=t[0]===z;l="fixed"===l.css("position");var A=m?t.width():t.outerWidth(!1);var B=m?t.height():t.outerHeight(!1);var F={left:l?0:t.scrollLeft(),top:l?0:t.scrollTop()};var D=!m&&t.offset()||c;if("shift"!==u||"shift"!==q)var E=v.clone();return c={left:"none"!==u?
h("x","y",u,a.x,"left","right","width",d,f):0,top:"none"!==q?h("y","x",q,a.y,"top","bottom","height",e,g):0,my:E}};u.polys={polygon:function(a,b){var c={width:0,height:0,position:{top:1E10,right:0,bottom:0,left:1E10},adjustable:!1},d,e=[],f=1,g=1;for(d=a.length;d--;){var k=[parseInt(a[--d],10),parseInt(a[d+1],10)];k[0]>c.position.right&&(c.position.right=k[0]);k[0]<c.position.left&&(c.position.left=k[0]);k[1]>c.position.bottom&&(c.position.bottom=k[1]);k[1]<c.position.top&&(c.position.top=k[1]);e.push(k)}var m=
c.width=Math.abs(c.position.right-c.position.left);var l=c.height=Math.abs(c.position.bottom-c.position.top);if("c"===b.abbrev())c.position={left:c.position.left+c.width/2,top:c.position.top+c.height/2};else{for(;0<m&&0<l&&0<f&&0<g;)for(m=Math.floor(m/2),l=Math.floor(l/2),f="left"===b.x?m:"right"===b.x?c.width-m:f+Math.floor(m/2),g="top"===b.y?l:"bottom"===b.y?c.height-l:g+Math.floor(l/2),d=e.length;d--&&!(2>e.length);)a=e[d][0]-c.position.left,k=e[d][1]-c.position.top,("left"===b.x&&a>=f||"right"===
b.x&&a<=f||"center"===b.x&&(a<f||a>c.width-f)||"top"===b.y&&k>=g||"bottom"===b.y&&k<=g||"center"===b.y&&(k<g||k>c.height-g))&&e.splice(d,1);c.position={left:e[0][0],top:e[0][1]}}return c},rect:function(a,b,c,d){return{width:Math.abs(c-a),height:Math.abs(d-b),position:{left:Math.min(a,c),top:Math.min(b,d)}}},_angles:{tc:1.5,tr:1.75,tl:1.25,bc:.5,br:.25,bl:.75,rc:2,lc:1,c:0},ellipse:function(a,b,c,d,e){var f=u.polys._angles[e.abbrev()];e=0===f?0:c*Math.cos(f*Math.PI);f=d*Math.sin(f*Math.PI);return{width:2*
c-Math.abs(e),height:2*d-Math.abs(f),position:{left:a+e,top:b+f},adjustable:!1}},circle:function(a,b,c,d){return u.polys.ellipse(a,b,c,c,d)}};u.svg=function(a,b,c){var d=b[0],h=e(d.ownerSVGElement),f=d.ownerDocument;b=(parseInt(b.css("stroke-width"),10)||0)/2;for(var g,k,m,l;!d.getBBox;)d=d.parentNode;if(!d.getBBox||!d.parentNode)return!1;switch(d.nodeName){case "ellipse":case "circle":b=u.polys.ellipse(d.cx.baseVal.value,d.cy.baseVal.value,(d.rx||d.r).baseVal.value+b,(d.ry||d.r).baseVal.value+b,
c);break;case "line":case "polygon":case "polyline":l=d.points||[{x:d.x1.baseVal.value,y:d.y1.baseVal.value},{x:d.x2.baseVal.value,y:d.y2.baseVal.value}];b=[];m=-1;for(g=l.numberOfItems||l.length;++m<g;)k=l.getItem?l.getItem(m):l[m],b.push.apply(b,[k.x,k.y]);b=u.polys.polygon(b,c);break;default:b=d.getBBox(),b={width:b.width,height:b.height,position:{left:b.x,top:b.y}}}c=b.position;h=h[0];h.createSVGPoint&&(d=d.getScreenCTM(),l=h.createSVGPoint(),l.x=c.left,l.y=c.top,h=l.matrixTransform(d),c.left=
h.x,c.top=h.y);f!==w&&"mouse"!==a.position.target&&(a=e((f.defaultView||f.parentWindow).frameElement).offset())&&(c.left+=a.left,c.top+=a.top);f=e(f);c.left+=f.scrollLeft();c.top+=f.scrollTop();return b};u.imagemap=function(a,b,c){b.jquery||(b=e(b));var d=(b.attr("shape")||"rect").toLowerCase().replace("poly","polygon");a=e('img[usemap="#'+b.parent("map").attr("name")+'"]');b=e.trim(b.attr("coords")).replace(/,$/,"").split(",");var h;if(!a.length)return!1;if("polygon"===d)d=u.polys.polygon(b,c);else if(u.polys[d]){var f=
-1;var g=b.length;for(h=[];++f<g;)h.push(parseInt(b[f],10));d=u.polys[d].apply(this,h.concat(c))}else return!1;c=a.offset();c.left+=Math.ceil((a.outerWidth(!1)-a.width())/2);c.top+=Math.ceil((a.outerHeight(!1)-a.height())/2);d.position.left+=c.left;d.position.top+=c.top;return d};e.extend(da.prototype,{_scroll:function(){var a=this.qtip.elements.overlay;a&&(a[0].style.top=e(z).scrollTop()+"px")},init:function(a){var b=a.tooltip;1>e("select, object").length&&(this.bgiframe=a.elements.bgiframe=e('<iframe class="qtip-bgiframe" frameborder="0" tabindex="-1" src="javascript:\'\';"  style="display:block; position:absolute; z-index:-1; filter:alpha(opacity=0); -ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";"></iframe>').appendTo(b),
a._bind(b,"tooltipmove",this.adjustBGIFrame,this._ns,this));this.redrawContainer=e("<div/>",{id:"qtip-rcontainer"}).appendTo(w.body);a.elements.overlay&&a.elements.overlay.addClass("qtipmodal-ie6fix")&&(a._bind(z,["scroll","resize"],this._scroll,this._ns,this),a._bind(b,["tooltipshow"],this._scroll,this._ns,this));this.redraw()},adjustBGIFrame:function(){var a=this.qtip.tooltip,b={height:a.outerHeight(!1),width:a.outerWidth(!1)},c=this.qtip.plugins.tip,d=this.qtip.elements.tip;a=parseInt(a.css("borderLeftWidth"),
10)||0;a={left:-a,top:-a};c&&d&&(c="x"===c.corner.precedance?["width","left"]:["height","top"],a[c[1]]-=d[c[0]]());this.bgiframe.css(a).css(b)},redraw:function(){if(1>this.qtip.rendered||this.drawing)return this;var a=this.qtip.tooltip,b=this.qtip.options.style,c=this.qtip.options.position.container;this.qtip.drawing=1;b.height&&a.css("height",b.height);if(b.width)a.css("width",b.width);else{a.css("width","").appendTo(this.redrawContainer);var d=a.width();1>d%2&&(d+=1);var e=a.css("maxWidth")||"";
var f=a.css("minWidth")||"";b=-1<(e+f).indexOf("%")?c.width()/100:0;e=(-1<e.indexOf("%")?b:1*parseInt(e,10))||d;f=(-1<f.indexOf("%")?b:1*parseInt(f,10))||0;d=e+f?Math.min(Math.max(d,f),e):d;a.css("width",Math.round(d)).appendTo(c)}this.drawing=0;return this},destroy:function(){this.bgiframe&&this.bgiframe.remove();this.qtip._unbind([z,this.qtip.tooltip],this._ns)}});(u.ie6=function(a){return 6===F?new da(a):!1}).initialize="render";W.ie6={"^content|style$":function(){this.redraw()}}})})(window,document);
;

// ***************************
// js.compressed/qtip.js
// ***************************
vBulletin.precache(["no_preview_text_available","working_ellipsis"],["threadpreview"]);
vBulletin.qtip=function(a){function k(b,d,l){var g=["left","right"];vBulletin.isRtl()&&g.reverse();d={style:{classes:"qtip-shadow qtip-rounded "+d},position:{my:"top "+g[0],at:"bottom "+g[1],viewport:a(window)}};a.extend(d,l);b.qtip(d)}function m(b){k(a(".js-tooltip[title]",b))}(function(){function b(l,g){var e=g.elements.tooltip;window.setTimeout(function(){var c=parseInt(e.css("left"),10),f=a(window).scrollLeft();if(c<f)e.css("left",f+1);else{var h=e.outerWidth(),n=a(window).width();h=c+h;f+=n;
h>f&&e.css("left",c-(h-f)-1)}},0)}var d=a.fn.qtip;a.fn.qtip=function(){"object"==typeof arguments[0]&&("undefined"==typeof arguments[0].events&&(arguments[0].events={}),arguments[0].events.move="function"==typeof arguments[0].events.move?vBulletin.ajaxtools.runBeforeCallback(arguments[0].events.move,b):b);return d.apply(this,arguments)}})();m(a(document));a(document).on("vb-instrument",function(b){m(a(b.target))});(0<a(".channel-content-widget").length&&a(".channel-content-widget").eq(0).attr("data-canviewtopiccontent")||
0<a(".search-results-widget").length)&&a(document).offon("mouseover",".topic-list-container .topic-title, .conversation-list .post-title, .conversation-list .b-post__title",function(){if(0<vBulletin.options.get("threadpreview")){var b=a(this);if("1"!=b.data("vb-qtip-preview-initialized")){b.data("vb-qtip-preview-initialized","1");var d=parseInt(b.closest(".topic-item").attr("data-node-id")||b.closest(".js-post").attr("data-node-id"));vBulletin.isRtl();k(b,"qtip-topicpreview",{content:{text:function(l,
g){var e=function(c){var f=c?c:vBulletin.phrase.get("no_preview_text_available");g.set("content.text",f);return c};return d?(vBulletin.AJAX({call:"/ajax/fetch-node-preview",data:{nodeid:d},success:function(c){e(a.trim(c))},api_error:function(){e()},error:function(c,f,h){e(f+": "+h)}}),vBulletin.phrase.get("working_ellipsis")):e()}},show:{delay:500},hide:{event:"mouseleave click"}});b.trigger("mouseover")}}else a(document).off("mouseover",".topic-list-container .topic-title, .conversation-list .post-title, .conversation-list .b-post__title")});
return{apply:k}}(jQuery);
;

// ***************************
// js.compressed/jquery/jquery.jcarousel.custom.min.js
// ***************************
/*
 jCarousel - Riding carousels with jQuery
   http://sorgalla.com/jcarousel/

 Copyright (c) 2006 Jan Sorgalla (http://sorgalla.com)
 Dual licensed under the MIT (http://www.opensource.org/licenses/mit-license.php)
 and GPL (http://www.opensource.org/licenses/gpl-license.php) licenses.

 Built on top of the jQuery library
   http://jquery.com

 Inspired by the "Carousel Component" by Bill Scott
   http://billwscott.com/carousel/

   Modified for vBulletin:
   - added destroy method
   - changed reset method by adding a flag to call setup method
   - added check for undefined instance in the main jcarousel function
*/
(function(g){var u={vertical:!1,rtl:!1,start:1,offset:1,size:null,scroll:3,visible:null,animation:"normal",easing:"swing",auto:0,wrap:null,initCallback:null,setupCallback:null,reloadCallback:null,itemLoadCallback:null,itemFirstInCallback:null,itemFirstOutCallback:null,itemLastInCallback:null,itemLastOutCallback:null,itemVisibleInCallback:null,itemVisibleOutCallback:null,animationStepCallback:null,buttonNextHTML:"<div></div>",buttonPrevHTML:"<div></div>",buttonNextEvent:"click",buttonPrevEvent:"click",
buttonNextCallback:null,buttonPrevCallback:null,itemFallbackDimension:null},q=!1;g(window).on("load.jcarousel",function(){q=!0});g.jcarousel=function(a,b){this.options=g.extend({},u,b||{});this.autoStopped=this.locked=!1;this.buttonPrevState=this.buttonNextState=this.buttonPrev=this.buttonNext=this.list=this.clip=this.container=null;b&&void 0!==b.rtl||(this.options.rtl="rtl"==(g(a).attr("dir")||g("html").attr("dir")||"").toLowerCase());this.wh=this.options.vertical?"height":"width";this.lt=this.options.vertical?
"top":this.options.rtl?"right":"left";for(var c="",e=a.className.split(" "),n=0;n<e.length;n++)if(-1!=e[n].indexOf("jcarousel-skin")){g(a).removeClass(e[n]);c=e[n];break}"UL"==a.nodeName.toUpperCase()||"OL"==a.nodeName.toUpperCase()?(this.list=g(a),this.clip=this.list.parents(".jcarousel-clip"),this.container=this.list.parents(".jcarousel-container")):(this.container=g(a),this.list=this.container.find("ul,ol").eq(0),this.clip=this.container.find(".jcarousel-clip"));0===this.clip.length&&(this.clip=
this.list.wrap("<div></div>").parent());0===this.container.length&&(this.container=this.clip.wrap("<div></div>").parent());""!==c&&-1==this.container.parent()[0].className.indexOf("jcarousel-skin")&&this.container.wrap('<div class=" '+c+'"></div>');this.buttonPrev=g(".jcarousel-prev",this.container);0===this.buttonPrev.length&&null!==this.options.buttonPrevHTML&&(this.buttonPrev=g(this.options.buttonPrevHTML).appendTo(this.container));this.buttonPrev.addClass(this.className("jcarousel-prev"));this.buttonNext=
g(".jcarousel-next",this.container);0===this.buttonNext.length&&null!==this.options.buttonNextHTML&&(this.buttonNext=g(this.options.buttonNextHTML).appendTo(this.container));this.buttonNext.addClass(this.className("jcarousel-next"));this.clip.addClass(this.className("jcarousel-clip")).css({position:"relative"});this.list.addClass(this.className("jcarousel-list")).css({overflow:"hidden",position:"relative",top:0,margin:0,padding:0}).css(this.options.rtl?"right":"left",0);this.container.addClass(this.className("jcarousel-container")).css({position:"relative"});
!this.options.vertical&&this.options.rtl&&this.container.addClass("jcarousel-direction-rtl").attr("dir","rtl");var l=null!==this.options.visible?Math.ceil(this.clipping()/this.options.visible):null;a=this.list.children("li");var d=this;if(0<a.length){var h=0,k=this.options.offset;a.each(function(){d.format(this,k++);h+=d.dimension(this,l)});this.list.css(this.wh,h+100+"px");b&&void 0!==b.size||(this.options.size=a.length)}this.container.css("display","block");this.buttonNext.css("display","block");
this.buttonPrev.css("display","block");this.funcNext=function(){d.next();return!1};this.funcPrev=function(){d.prev();return!1};this.funcResize=function(){d.resizeTimer&&clearTimeout(d.resizeTimer);d.resizeTimer=setTimeout(function(){d.reload()},100)};null!==this.options.initCallback&&this.options.initCallback(this,"init");!q&&f.isSafari()?(this.buttons(!1,!1),g(window).on("load.jcarousel",function(){d.setup()})):this.setup()};var f=g.jcarousel;f.fn=f.prototype={jcarousel:"0.2.10"};f.fn.extend=f.extend=
g.extend;f.fn.extend({setup:function(){this.prevLast=this.prevFirst=this.last=this.first=null;this.animating=!1;this.tail=this.resizeTimer=this.timer=null;this.inTail=!1;if(!this.locked){this.list.css(this.lt,this.pos(this.options.offset)+"px");var a=this.pos(this.options.start,!0);this.prevFirst=this.prevLast=null;this.animate(a,!1);g(window).off("resize.jcarousel",this.funcResize).on("resize.jcarousel",this.funcResize);null!==this.options.setupCallback&&this.options.setupCallback(this)}},reset:function(a){this.list.empty();
this.list.css(this.lt,"0px");this.list.css(this.wh,"10px");null!==this.options.initCallback&&this.options.initCallback(this,"reset");a&&this.setup()},reload:function(){null!==this.tail&&this.inTail&&this.list.css(this.lt,f.intval(this.list.css(this.lt))+this.tail);this.tail=null;this.inTail=!1;null!==this.options.reloadCallback&&this.options.reloadCallback(this);if(null!==this.options.visible){var a=this,b=Math.ceil(this.clipping()/this.options.visible),c=0,e=0;this.list.children("li").each(function(f){c+=
a.dimension(this,b);f+1<a.first&&(e=c)});this.list.css(this.wh,c+"px");this.list.css(this.lt,-e+"px")}this.scroll(this.first,!1)},canmove(){return!(this.locked||this.animating)},lock:function(){this.locked=!0;this.buttons()},unlock:function(){this.locked=!1;this.buttons()},size:function(a){void 0!==a&&(this.options.size=a,this.locked||this.buttons());return this.options.size},has:function(a,b){void 0!==b&&b||(b=a);null!==this.options.size&&b>this.options.size&&(b=this.options.size);for(;a<=b;a++){var c=
this.get(a);if(!c.length||c.hasClass("jcarousel-item-placeholder"))return!1}return!0},get:function(a){return g(">.jcarousel-item-"+a,this.list)},add:function(a,b){var c=this.get(a),e=0,n=g(b);if(0===c.length){var l=f.intval(a);for(c=this.create(a);;){var d=this.get(--l);if(0>=l||d.length){0>=l?this.list.prepend(c):d.after(c);break}}}else e=this.dimension(c);"LI"==n.get(0).nodeName.toUpperCase()?(c.replaceWith(n),c=n):c.empty().append(b);this.format(c.removeClass(this.className("jcarousel-item-placeholder")),
a);b=null!==this.options.visible?Math.ceil(this.clipping()/this.options.visible):null;e=this.dimension(c,b)-e;0<a&&a<this.first&&this.list.css(this.lt,f.intval(this.list.css(this.lt))-e+"px");this.list.css(this.wh,f.intval(this.list.css(this.wh))+e+"px");return c},remove:function(a){var b=this.get(a);if(b.length&&!(a>=this.first&&a<=this.last)){var c=this.dimension(b);a<this.first&&this.list.css(this.lt,f.intval(this.list.css(this.lt))+c+"px");b.remove();this.list.css(this.wh,f.intval(this.list.css(this.wh))-
c+"px")}},next:function(){null===this.tail||this.inTail?this.scroll("both"!=this.options.wrap&&"last"!=this.options.wrap||null===this.options.size||this.last!=this.options.size?this.first+this.options.scroll:1):this.scrollTail(!1)},prev:function(){null!==this.tail&&this.inTail?this.scrollTail(!0):this.scroll("both"!=this.options.wrap&&"first"!=this.options.wrap||null===this.options.size||1!=this.first?this.first-this.options.scroll:this.options.size)},scrollTail:function(a){if(!this.locked&&!this.animating&&
this.tail){this.pauseAuto();var b=f.intval(this.list.css(this.lt));b=a?b+this.tail:b-this.tail;this.inTail=!a;this.prevFirst=this.first;this.prevLast=this.last;this.animate(b)}},scroll:function(a,b){this.locked||this.animating||(this.pauseAuto(),this.animate(this.pos(a),b))},pos:function(a,b){var c=f.intval(this.list[0].style[this.lt]);if(this.locked||this.animating)return c;"circular"!=this.options.wrap&&(a=1>a?1:this.options.size&&a>this.options.size?this.options.size:a);for(var e=this.first>a,
g="circular"!=this.options.wrap&&1>=this.first?1:this.first,l=e?this.get(g):this.get(this.last),d=e?g:g-1,h,k=0,m,p;e?--d>=a:++d<a;)h=this.get(d),m=!h.length,0===h.length&&(h=this.create(d).addClass(this.className("jcarousel-item-placeholder")),l[e?"before":"after"](h),null!==this.first&&"circular"==this.options.wrap&&null!==this.options.size&&(0>=d||d>this.options.size)&&(l=this.get(this.index(d)),l.length&&(h=this.add(d,l.clone(!0))))),l=h,p=this.dimension(h),m&&(k+=p),null!==this.first&&("circular"==
this.options.wrap||1<=d&&(null===this.options.size||d<=this.options.size))&&(c=e?c+p:c-p);g=this.clipping();var q=[],t=0,r=0;l=this.get(a-1);for(d=a;++t;){h=this.get(d);m=!h.length;if(0===h.length){h=this.create(d).addClass(this.className("jcarousel-item-placeholder"));if(0===l.length)this.list.prepend(h);else l[e?"before":"after"](h);null!==this.first&&"circular"==this.options.wrap&&null!==this.options.size&&(0>=d||d>this.options.size)&&(l=this.get(this.index(d)),l.length&&(h=this.add(d,l.clone(!0))))}l=
h;p=this.dimension(h);if(0===p)throw Error("jCarousel: No width/height set for items. This will cause an infinite loop. Aborting...");"circular"!=this.options.wrap&&null!==this.options.size&&d>this.options.size?q.push(h):m&&(k+=p);r+=p;if(r>=g)break;d++}for(h=0;h<q.length;h++)q[h].remove();0<k&&(this.list.css(this.wh,this.dimension(this.list)+k+"px"),e&&(c-=k,this.list.css(this.lt,f.intval(this.list.css(this.lt))-k+"px")));k=a+t-1;"circular"!=this.options.wrap&&this.options.size&&k>this.options.size&&
(k=this.options.size);if(d>k)for(t=0,d=k,r=0;++t;){h=this.get(d--);if(!h.length)break;r+=this.dimension(h);if(r>=g)break}d=k-t+1;"circular"!=this.options.wrap&&1>d&&(d=1);this.inTail&&e&&(c+=this.tail,this.inTail=!1);this.tail=null;"circular"!=this.options.wrap&&k==this.options.size&&1<=k-t+1&&(e=f.intval(this.get(k).css(this.options.vertical?"marginBottom":"marginRight")),r-e>g&&(this.tail=r-g-e));b&&a===this.options.size&&this.tail&&(c-=this.tail,this.inTail=!0);for(;a-- >d;)c+=this.dimension(this.get(a));
this.prevFirst=this.first;this.prevLast=this.last;this.first=d;this.last=k;return c},animate:function(a,b){if(!this.locked&&!this.animating){this.animating=!0;var c=this,e=function(){c.animating=!1;0===a&&c.list.css(c.lt,0);!c.autoStopped&&("circular"==c.options.wrap||"both"==c.options.wrap||"last"==c.options.wrap||null===c.options.size||c.last<c.options.size||c.last==c.options.size&&null!==c.tail&&!c.inTail)&&c.startAuto();c.buttons();c.notify("onAfterAnimation");if("circular"==c.options.wrap&&null!==
c.options.size)for(var b=c.prevFirst;b<=c.prevLast;b++)null===b||b>=c.first&&b<=c.last||!(1>b||b>c.options.size)||c.remove(b)};this.notify("onBeforeAnimation");this.options.animation&&!1!==b?(b=this.options.vertical?{top:a}:this.options.rtl?{right:a}:{left:a},e={duration:this.options.animation,easing:this.options.easing,complete:e},g.isFunction(this.options.animationStepCallback)&&(e.step=this.options.animationStepCallback),this.list.animate(b,e)):(this.list.css(this.lt,a+"px"),e())}},startAuto:function(a){void 0!==
a&&(this.options.auto=a);if(0===this.options.auto)return this.stopAuto();if(null===this.timer){this.autoStopped=!1;var b=this;this.timer=window.setTimeout(function(){b.next()},1E3*this.options.auto)}},stopAuto:function(){this.pauseAuto();this.autoStopped=!0},pauseAuto:function(){null!==this.timer&&(window.clearTimeout(this.timer),this.timer=null)},buttons:function(a,b){null==a&&(a=!this.locked&&0!==this.options.size&&(this.options.wrap&&"first"!=this.options.wrap||null===this.options.size||this.last<
this.options.size),!(this.locked||this.options.wrap&&"first"!=this.options.wrap)&&null!==this.options.size&&this.last>=this.options.size&&(a=null!==this.tail&&!this.inTail));null==b&&(b=!this.locked&&0!==this.options.size&&(this.options.wrap&&"last"!=this.options.wrap||1<this.first),this.locked||this.options.wrap&&"last"!=this.options.wrap||null===this.options.size||1!=this.first||(b=null!==this.tail&&this.inTail));var c=this;if(0<this.buttonNext.length){this.buttonNext.off(this.options.buttonNextEvent+
".jcarousel",this.funcNext);if(a)this.buttonNext.on(this.options.buttonNextEvent+".jcarousel",this.funcNext);this.buttonNext[a?"removeClass":"addClass"](this.className("jcarousel-next-disabled")).attr("disabled",a?!1:!0);null!==this.options.buttonNextCallback&&this.buttonNext.data("jcarouselstate")!=a&&this.buttonNext.each(function(){c.options.buttonNextCallback(c,this,a)}).data("jcarouselstate",a)}else null!==this.options.buttonNextCallback&&this.buttonNextState!=a&&this.options.buttonNextCallback(c,
null,a);if(0<this.buttonPrev.length){this.buttonPrev.off(this.options.buttonPrevEvent+".jcarousel",this.funcPrev);if(b)this.buttonPrev.on(this.options.buttonPrevEvent+".jcarousel",this.funcPrev);this.buttonPrev[b?"removeClass":"addClass"](this.className("jcarousel-prev-disabled")).attr("disabled",b?!1:!0);null!==this.options.buttonPrevCallback&&this.buttonPrev.data("jcarouselstate")!=b&&this.buttonPrev.each(function(){c.options.buttonPrevCallback(c,this,b)}).data("jcarouselstate",b)}else null!==this.options.buttonPrevCallback&&
this.buttonPrevState!=b&&this.options.buttonPrevCallback(c,null,b);this.buttonNextState=a;this.buttonPrevState=b},notify:function(a){var b=null===this.prevFirst?"init":this.prevFirst<this.first?"next":"prev";this.callback("itemLoadCallback",a,b);this.prevFirst!==this.first&&(this.callback("itemFirstInCallback",a,b,this.first),this.callback("itemFirstOutCallback",a,b,this.prevFirst));this.prevLast!==this.last&&(this.callback("itemLastInCallback",a,b,this.last),this.callback("itemLastOutCallback",a,
b,this.prevLast));this.callback("itemVisibleInCallback",a,b,this.first,this.last,this.prevFirst,this.prevLast);this.callback("itemVisibleOutCallback",a,b,this.prevFirst,this.prevLast,this.first,this.last)},callback:function(a,b,c,e,f,l,d){if(null!=this.options[a]&&("object"==typeof this.options[a]||"onAfterAnimation"==b)){var h="object"==typeof this.options[a]?this.options[a][b]:this.options[a];if(g.isFunction(h)){var k=this;if(void 0===e)h(k,c,b);else if(void 0===f)this.get(e).each(function(){h(k,
this,e,c,b)});else{a=function(a){k.get(a).each(function(){h(k,this,a,c,b)})};for(var m=e;m<=f;m++)null===m||m>=l&&m<=d||a(m)}}}},create:function(a){return this.format("<li></li>",a)},destroy:function(){this.reset();g(window).off(".jcarousel");this.list.removeData("jcarousel");this.container.removeData("jcarousel");this.buttonNext.removeData("jcarouselstate").remove();this.buttonPrev.removeData("jcarouselstate").remove();return this},format:function(a,b){a=g(a);for(var c=a.get(0).className.split(" "),
e=0;e<c.length;e++)-1!=c[e].indexOf("jcarousel-")&&a.removeClass(c[e]);a.addClass(this.className("jcarousel-item")).addClass(this.className("jcarousel-item-"+b)).css({"float":this.options.rtl?"right":"left","list-style":"none"}).attr("jcarouselindex",b);return a},className:function(a){return a+" "+a+(this.options.vertical?"-vertical":"-horizontal")},dimension:function(a,b){a=g(a);if(null==b)return this.options.vertical?a.innerHeight()+f.intval(a.css("margin-top"))+f.intval(a.css("margin-bottom"))+
f.intval(a.css("border-top-width"))+f.intval(a.css("border-bottom-width"))||f.intval(this.options.itemFallbackDimension):a.innerWidth()+f.intval(a.css("margin-left"))+f.intval(a.css("margin-right"))+f.intval(a.css("border-left-width"))+f.intval(a.css("border-right-width"))||f.intval(this.options.itemFallbackDimension);b=this.options.vertical?b-f.intval(a.css("marginTop"))-f.intval(a.css("marginBottom")):b-f.intval(a.css("marginLeft"))-f.intval(a.css("marginRight"));g(a).css(this.wh,b+"px");return this.dimension(a)},
clipping:function(){return this.options.vertical?this.clip[0].offsetHeight-f.intval(this.clip.css("borderTopWidth"))-f.intval(this.clip.css("borderBottomWidth")):this.clip[0].offsetWidth-f.intval(this.clip.css("borderLeftWidth"))-f.intval(this.clip.css("borderRightWidth"))},index:function(a,b){null==b&&(b=this.options.size);return Math.round(((a-1)/b-Math.floor((a-1)/b))*b)+1}});f.extend({defaults:function(a){return g.extend(u,a||{})},intval:function(a){a=parseInt(a,10);return isNaN(a)?0:a},windowLoaded:function(){q=
!0},isSafari:function(){var a=navigator.userAgent.toLowerCase();return"webkit"===((/(chrome)[ \/]([\w.]+)/.exec(a)||/(webkit)[ \/]([\w.]+)/.exec(a)||[])[1]||"")}});g.fn.jcarousel=function(a){if("string"==typeof a){var b=g(this).data("jcarousel"),c=Array.prototype.slice.call(arguments,1);return"undefined"!=typeof b?b[a].apply(b,c):this}return this.each(function(){var b=g(this).data("jcarousel");b?(a&&g.extend(b.options,a),b.reload()):g(this).data("jcarousel",new f(this,a))})}})(jQuery);
;

// ***************************
// js.compressed/jquery/history.min.js
// ***************************
/*
 2010-2011 Benjamin Arthur Lupton <contact@balupton.com>
 @license New BSD License <http://creativecommons.org/licenses/BSD/>

 ============ NOTE: This version contains patch from https://github.com/christanto/history.js/commit/b78af84fc2b6b5da573e5ee0bd72f4213e36bb18 ============
 Public Domain
 @author Benjamin Arthur Lupton <contact@balupton.com>
 @author James Padolsey <https://gist.github.com/527683>
 Public Domain
 @author Benjamin Arthur Lupton <contact@balupton.com>
*/
(function(f,n){var l=f.console||n,g=f.document,m=f.navigator,p=f.amplify||!1,t=f.setTimeout,u=f.clearTimeout,v=f.setInterval,x=f.clearInterval,k=f.JSON,a=f.History=f.History||{},q=f.history;k.stringify=k.stringify||k.encode;k.parse=k.parse||k.decode;if("undefined"!==typeof a.init)throw Error("History.js Core has already been loaded...");a.init=function(){if("undefined"===typeof a.Adapter)return!1;"undefined"!==typeof a.initCore&&a.initCore();"undefined"!==typeof a.initHtml4&&a.initHtml4();return!0};
a.initCore=function(){if("undefined"!==typeof a.initCore.initialized)return!1;a.initCore.initialized=!0;a.options=a.options||{};a.options.hashChangeInterval=a.options.hashChangeInterval||100;a.options.safariPollInterval=a.options.safariPollInterval||500;a.options.doubleCheckInterval=a.options.doubleCheckInterval||500;a.options.storeInterval=a.options.storeInterval||1E3;a.options.busyDelay=a.options.busyDelay||250;a.options.debug=a.options.debug||!1;a.options.initialTitle=a.options.initialTitle||g.title;
a.options.transformHash=a.options.transformHash||!0;a.intervalList=[];a.clearAllIntervals=function(){var b,c=a.intervalList;if("undefined"!==typeof c&&null!==c){for(b=0;b<c.length;b++)x(c[b]);a.intervalList=null}};a.Adapter.bind(f,"beforeunload",a.clearAllIntervals);a.Adapter.bind(f,"unload",a.clearAllIntervals);a.debug=function(){a.options.debug&&a.log.apply(a,arguments)};a.log=function(){var b=!("undefined"===typeof l||"undefined"===typeof l.log||"undefined"===typeof l.log.apply),c=g.getElementById("log"),
d;if(b){var e=Array.prototype.slice.call(arguments);var h=e.shift();"undefined"!==typeof l.debug?l.debug.apply(l,[h,e]):l.log.apply(l,[h,e])}else h="\n"+arguments[0]+"\n";e=1;for(d=arguments.length;e<d;++e){var r=arguments[e];if("object"===typeof r&&"undefined"!==typeof k)try{r=k.stringify(r)}catch(y){}h+="\n"+r+"\n"}c?(c.value+=h+"\n-----\n",c.scrollTop=c.scrollHeight-c.clientHeight):b||alert(h);return!0};a.getInternetExplorerMajorVersion=function(){var b=a.getInternetExplorerMajorVersion;if("undefined"!==
typeof a.getInternetExplorerMajorVersion.cached)var c=a.getInternetExplorerMajorVersion.cached;else{c=3;for(var d=g.createElement("div"),e=d.getElementsByTagName("i");(d.innerHTML="\x3c!--[if gt IE "+ ++c+"]><i></i><![endif]--\x3e")&&e[0];);c=4<c?c:!1}return b.cached=c};a.isInternetExplorer=function(){return a.isInternetExplorer.cached="undefined"!==typeof a.isInternetExplorer.cached?a.isInternetExplorer.cached:!!a.getInternetExplorerMajorVersion()};a.emulated={pushState:!(f.history&&f.history.pushState&&
f.history.replaceState&&!/ Mobile\/([1-7][a-z]|(8([abcde]|f(1[0-8]))))/i.test(m.userAgent)&&!/AppleWebKit\/5([0-2]|3[0-2])/i.test(m.userAgent)),hashChange:!(("onhashchange"in f||"onhashchange"in g)&&!(a.isInternetExplorer()&&8>a.getInternetExplorerMajorVersion()))};a.enabled=!a.emulated.pushState;a.bugs={setHash:!(a.emulated.pushState||"Apple Computer, Inc."!==m.vendor||!/AppleWebKit\/5([0-2]|3[0-3])/.test(m.userAgent)),safariPoll:!(a.emulated.pushState||"Apple Computer, Inc."!==m.vendor||!/AppleWebKit\/5([0-2]|3[0-3])/.test(m.userAgent)),
ieDoubleCheck:!!(a.isInternetExplorer()&&8>a.getInternetExplorerMajorVersion()),hashEscape:!!(a.isInternetExplorer()&&7>a.getInternetExplorerMajorVersion())};a.isEmptyObject=function(b){for(var c in b)return!1;return!0};a.cloneObject=function(b){b?(b=k.stringify(b),b=k.parse(b)):b={};return b};a.getRootUrl=function(){var b=g.location.protocol+"//"+(g.location.hostname||g.location.host);g.location.port&&(b+=":"+g.location.port);return b+"/"};a.getBaseHref=function(){var b=g.getElementsByTagName("base"),
c="";1===b.length&&(b=b[0],c=b.href.replace(/[^\/]+$/,""));(c=c.replace(/\/+$/,""))&&(c+="/");return c};a.getBaseUrl=function(){return a.getBaseHref()||a.getBasePageUrl()||a.getRootUrl()};a.getPageUrl=function(){return((a.getState(!1,!1)||{}).url||g.location.href).replace(/\/+$/,"").replace(/[^\/]+$/,function(b,c,d){return/\./.test(b)?b:b+"/"})};a.getBasePageUrl=function(){return g.location.href.replace(/[#\?].*/,"").replace(/[^\/]+$/,function(b,c,d){return/[^\/]$/.test(b)?"":b}).replace(/\/+$/,"")+
"/"};a.getFullUrl=function(b,c){var d=b,e=b.substring(0,1);c="undefined"===typeof c?!0:c;/[a-z]+:\/\//.test(b)||(d="/"===e?a.getRootUrl()+b.replace(/^\/+/,""):"#"===e?a.getPageUrl().replace(/#.*/,"")+b:"?"===e?a.getPageUrl().replace(/[\?#].*/,"")+b:c?a.getBaseUrl()+b.replace(/^(\.\/)+/,""):a.getBasePageUrl()+b.replace(/^(\.\/)+/,""));return d.replace(/#$/,"")};a.getShortUrl=function(b){var c=a.getBaseUrl(),d=a.getRootUrl();a.emulated.pushState&&(b=b.replace(c,""));b=b.replace(d,"/");a.isTraditionalAnchor(b)&&
(b="./"+b);return b=b.replace(/^(\.\/)+/g,"./").replace(/#$/,"")};a.store=p?p.store("History.store")||{}:{};a.store.idToState=a.store.idToState||{};a.store.urlToId=a.store.urlToId||{};a.store.stateToId=a.store.stateToId||{};a.idToState=a.idToState||{};a.stateToId=a.stateToId||{};a.urlToId=a.urlToId||{};a.storedStates=a.storedStates||[];a.savedStates=a.savedStates||[];a.getState=function(b,c){"undefined"===typeof b&&(b=!0);"undefined"===typeof c&&(c=!0);var d=a.getLastSavedState();!d&&c&&(d=a.createStateObject());
b&&(d=a.cloneObject(d),d.url=d.cleanUrl||d.url);return d};a.getIdByState=function(b){var c=a.extractId(b.url);if(!c){var d=a.getStateString(b);if("undefined"!==typeof a.stateToId[d])c=a.stateToId[d];else if("undefined"!==typeof a.store.stateToId[d])c=a.store.stateToId[d];else{for(;c=String(Math.floor(1E3*Math.random())),"undefined"!==typeof a.idToState[c]||"undefined"!==typeof a.store.idToState[c];);a.stateToId[d]=c;a.idToState[c]=b}}return c};a.normalizeState=function(b){b&&"object"===typeof b||
(b={});if("undefined"!==typeof b.normalized)return b;b.data&&"object"===typeof b.data||(b.data={});var c={normalized:!0};c.title=b.title||"";c.url=a.getFullUrl(a.unescapeString(b.url||g.location.href));c.hash=a.getShortUrl(c.url);c.data=a.cloneObject(b.data);c.id=a.getIdByState(c);c.cleanUrl=c.url.replace(/\??&_suid.*/,"");c.url=c.cleanUrl;b=!a.isEmptyObject(c.data);if(c.title||b)c.hash=a.getShortUrl(c.url).replace(/\??&_suid.*/,""),/\?/.test(c.hash)||(c.hash+="?"),c.hash+="&_suid="+c.id;c.hashedUrl=
a.getFullUrl(c.hash);(a.emulated.pushState||a.bugs.safariPoll)&&a.hasUrlDuplicate(c)&&(c.url=c.hashedUrl);return c};a.createStateObject=function(b,c,d){b={data:b,title:c,url:d};return b=a.normalizeState(b)};a.getStateById=function(b){b=String(b);return a.idToState[b]||a.store.idToState[b]||n};a.getStateString=function(b){b={data:a.normalizeState(b).data,title:b.title,url:b.url};return k.stringify(b)};a.getStateId=function(b){return a.normalizeState(b).id};a.getHashByState=function(b){return a.normalizeState(b).hash};
a.extractId=function(b){return((b=/(.*)&_suid=([0-9]+)$/.exec(b))?String(b[2]||""):"")||!1};a.isTraditionalAnchor=function(b){return!/[\/\?\.]/.test(b)};a.extractState=function(b,c){var d=null;c=c||!1;var e=a.extractId(b);e&&(d=a.getStateById(e));if(!d){var h=a.getFullUrl(b);(e=a.getIdByUrl(h)||!1)&&(d=a.getStateById(e));d||!c||a.isTraditionalAnchor(b)||(d=a.createStateObject(null,null,h))}return d};a.getIdByUrl=function(b){return a.urlToId[b]||a.store.urlToId[b]||n};a.getLastSavedState=function(){return a.savedStates[a.savedStates.length-
1]||n};a.getLastStoredState=function(){return a.storedStates[a.storedStates.length-1]||n};a.hasUrlDuplicate=function(b){var c=a.extractState(b.url);return c&&c.id!==b.id};a.storeState=function(b){a.urlToId[b.url]=b.id;a.storedStates.push(a.cloneObject(b));return b};a.isLastSavedState=function(b){var c=!1;a.savedStates.length&&(b=b.id,c=a.getLastSavedState().id,c=b===c);return c};a.saveState=function(b){if(a.isLastSavedState(b))return!1;a.savedStates.push(a.cloneObject(b));return!0};a.getStateByIndex=
function(b){return"undefined"===typeof b?a.savedStates[a.savedStates.length-1]:0>b?a.savedStates[a.savedStates.length+b]:a.savedStates[b]};a.getHash=function(){return a.unescapeHash(g.location.hash)};a.unescapeString=function(b){for(var c;;){c=f.unescape(b);if(c===b)break;b=c}return b};a.unescapeHash=function(b){b=a.normalizeHash(b);return b=a.unescapeString(b)};a.normalizeHash=function(b){return b.replace(/[^#]*#/,"").replace(/#.*/,"")};a.setHash=function(b,c){if(!1!==c&&a.busy())return a.pushQueue({scope:a,
callback:a.setHash,args:arguments,queue:c}),!1;var d=a.escapeHash(b);a.busy(!0);var e=a.extractState(b,!0);e&&!a.emulated.pushState?a.pushState(e.data,e.title,e.url,!1):g.location.hash!==d&&(a.bugs.setHash?(e=a.getPageUrl(),a.pushState(null,null,e+"#"+d,!1)):g.location.hash=d);return a};a.escapeHash=function(b){b=a.normalizeHash(b);b=f.escape(b);a.bugs.hashEscape||(b=b.replace(/%21/g,"!").replace(/%26/g,"&").replace(/%3D/g,"=").replace(/%3F/g,"?"));return b};a.getHashByUrl=function(b){b=String(b).replace(/([^#]*)#?([^#]*)#?(.*)/,
"$2");return b=a.unescapeHash(b)};a.setTitle=function(b){var c=b.title;if(!c){var d=a.getStateByIndex(0);d&&d.url===b.url&&(c=d.title||a.options.initialTitle)}try{g.getElementsByTagName("title")[0].innerHTML=c.replace("<","&lt;").replace(">","&gt;").replace(" & "," &amp; ")}catch(e){}g.title=c;return a};a.queues=[];a.busy=function(b){"undefined"!==typeof b?a.busy.flag=b:"undefined"===typeof a.busy.flag&&(a.busy.flag=!1);if(!a.busy.flag){u(a.busy.timeout);var c=function(){if(!a.busy.flag)for(var d=
a.queues.length-1;0<=d;--d){var e=a.queues[d];0!==e.length&&(e=e.shift(),a.fireQueueItem(e),a.busy.timeout=t(c,a.options.busyDelay))}};a.busy.timeout=t(c,a.options.busyDelay)}return a.busy.flag};a.fireQueueItem=function(b){return b.callback.apply(b.scope||a,b.args||[])};a.pushQueue=function(b){a.queues[b.queue||0]=a.queues[b.queue||0]||[];a.queues[b.queue||0].push(b);return a};a.queue=function(b,c){"function"===typeof b&&(b={callback:b});"undefined"!==typeof c&&(b.queue=c);a.busy()?a.pushQueue(b):
a.fireQueueItem(b);return a};a.clearQueue=function(){a.busy.flag=!1;a.queues=[];return a};a.stateChanged=!1;a.doubleChecker=!1;a.doubleCheckComplete=function(){a.stateChanged=!0;a.doubleCheckClear();return a};a.doubleCheckClear=function(){a.doubleChecker&&(u(a.doubleChecker),a.doubleChecker=!1);return a};a.doubleCheck=function(b){a.stateChanged=!1;a.doubleCheckClear();a.bugs.ieDoubleCheck&&(a.doubleChecker=t(function(){a.doubleCheckClear();a.stateChanged||b();return!0},a.options.doubleCheckInterval));
return a};a.safariStatePoll=function(){var b=a.extractState(g.location.href);if(!a.isLastSavedState(b))return b||a.createStateObject(),a.Adapter.trigger(f,"popstate"),a};a.back=function(b){if(!1!==b&&a.busy())return a.pushQueue({scope:a,callback:a.back,args:arguments,queue:b}),!1;a.busy(!0);a.doubleCheck(function(){a.back(!1)});q.go(-1);return!0};a.forward=function(b){if(!1!==b&&a.busy())return a.pushQueue({scope:a,callback:a.forward,args:arguments,queue:b}),!1;a.busy(!0);a.doubleCheck(function(){a.forward(!1)});
q.go(1);return!0};a.go=function(b,c){var d;if(0<b)for(d=1;d<=b;++d)a.forward(c);else if(0>b)for(d=-1;d>=b;--d)a.back(c);else throw Error("History.go: History.go requires a positive or negative integer passed.");return a};a.saveState(a.storeState(a.extractState(g.location.href,!0)));p&&(a.onUnload=function(){var b=p.store("History.store")||{},c;b.idToState=b.idToState||{};b.urlToId=b.urlToId||{};b.stateToId=b.stateToId||{};for(c in a.idToState)a.idToState.hasOwnProperty(c)&&(b.idToState[c]=a.idToState[c]);
for(c in a.urlToId)a.urlToId.hasOwnProperty(c)&&(b.urlToId[c]=a.urlToId[c]);for(c in a.stateToId)a.stateToId.hasOwnProperty(c)&&(b.stateToId[c]=a.stateToId[c]);a.store=b;p.store("History.store",b)},a.intervalList.push(v(a.onUnload,a.options.storeInterval)),a.Adapter.bind(f,"beforeunload",a.onUnload),a.Adapter.bind(f,"unload",a.onUnload));if(a.emulated.pushState){var w=function(){};a.pushState=a.pushState||w;a.replaceState=a.replaceState||w}else if(a.onPopState=function(b){a.doubleCheckComplete();
var c=a.getHash();if(c)return b=a.extractState(c||g.location.href,!0),a.options.transformHash&&b?a.replaceState(b.data,b.title,b.url,!1):(a.Adapter.trigger(f,"anchorchange"),a.busy(!1)),a.expectedStateId=!1;b=b||{};"undefined"===typeof b.state&&("undefined"!==typeof b.originalEvent&&"undefined"!==typeof b.originalEvent.state?b.state=b.originalEvent.state||!1:"undefined"!==typeof b.event&&"undefined"!==typeof b.event.state&&(b.state=b.event.state||!1));b.state=b.state||!1;(b=b.state?a.getStateById(b.state):
a.expectedStateId?a.getStateById(a.expectedStateId):a.extractState(g.location.href))||(b=a.createStateObject(null,null,g.location.href));a.expectedStateId=!1;if(a.isLastSavedState(b))return a.busy(!1),!1;a.storeState(b);a.saveState(b);a.setTitle(b);a.Adapter.trigger(f,"statechange");a.busy(!1);return!0},a.Adapter.bind(f,"popstate",a.onPopState),a.pushState=function(b,c,d,e){if(a.getHashByUrl(d)&&a.emulated.pushState)throw Error("History.js does not support states with fragement-identifiers (hashes/anchors).");
if(!1!==e&&a.busy())return a.pushQueue({scope:a,callback:a.pushState,args:arguments,queue:e}),!1;a.busy(!0);var h=a.createStateObject(b,c,d);a.isLastSavedState(h)?a.busy(!1):(a.storeState(h),a.expectedStateId=h.id,q.pushState(h.id,h.title,h.url),a.Adapter.trigger(f,"popstate"));return!0},a.replaceState=function(b,c,d,e){if(a.getHashByUrl(d)&&a.emulated.pushState)throw Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(!1!==e&&a.busy())return a.pushQueue({scope:a,
callback:a.replaceState,args:arguments,queue:e}),!1;a.busy(!0);var h=a.createStateObject(b,c,d);a.isLastSavedState(h)?a.busy(!1):(a.storeState(h),a.expectedStateId=h.id,q.replaceState(h.id,h.title,h.url),a.Adapter.trigger(f,"popstate"));return!0},a.bugs.safariPoll&&a.intervalList.push(v(a.safariStatePoll,a.options.safariPollInterval)),"Apple Computer, Inc."===m.vendor||"Mozilla"===(m.appCodeName||""))if(a.Adapter.bind(f,"hashchange",function(){a.Adapter.trigger(f,"popstate")}),a.getHash())a.Adapter.onDomLoad(function(){a.Adapter.trigger(f,
"hashchange")})};a.init()})(window);
;

// ***************************
// js.compressed/jquery/history.adapter.jquery.min.js
// ***************************
/*
 2010-2011 Benjamin Arthur Lupton <contact@balupton.com>
 @license New BSD License <http://creativecommons.org/licenses/BSD/>
*/
(function(c,a){a=c.History=c.History||{};var d=c.jQuery;if("undefined"!==typeof a.Adapter)throw Error("History.js Adapter has already been loaded...");a.Adapter={bind:function(b,e,f){d(b).on(e,f)},trigger:function(b,e){d(b).trigger(e)},onDomLoad:function(b){d(b)}};"undefined"!==typeof a.init&&a.init()})(window);
;

// ***************************
// js.compressed/history.js
// ***************************
(function(h){vBulletin.ensureObj("history");var d=window.History,k=d&&!!d.enabled;d.options.transformHash=!1;vBulletin.history.instance=function(l){var g=!0,e=!!l&&k;this.isEnabled=function(){return e};this.setDefaultState=function(b,a,c){if(e){g=!1;var f=vBulletin.parseUrl(c);try{c=decodeURI(f.pathname)+decodeURIComponent(f.search)+decodeURIComponent(f.hash),d.replaceState(b,a,c),g=!0}catch(m){console.error("Unable to parse and decode URL "+c)}}};this.setStateChange=function(b,a){e&&d.Adapter.bind(window,
"statechange"+(a?"."+a:""),function(c){g&&b.apply(this,h.makeArray(arguments))})};this.pushState=function(b,a,c){if(e){g=!1;var f=vBulletin.parseUrl(c);try{c=decodeURI(f.pathname)+decodeURIComponent(f.search)+decodeURIComponent(f.hash),d.pushState(b,a,c),g=!0}catch(m){console.error("Unable to parse and decode URL "+c)}}};this.getState=function(){if(e)return d.getState()};this.log=function(){e&&d.log.call(window,arguments)};e&&(h(window).data("hashchange.history")||d.Adapter.bind(window,"hashchange.history",
function(b){var a=location.hash;g&&a&&((b=a.match(/#post(\d+)/))&&Number(b[1])+""===b[1]&&1<Number(b[1])&&0==h(a).length&&h(".conversation-content-widget").length?(a=vBulletin.parseUrl(location.href),location.replace([a.pathname,a.search,a.search?"&":"?","p=",b[1],b[0]].join(""))):(setTimeout(function(){history.back()},0),(b=vBulletin.scrollToAnchor(a))&&window.scrollTo(0,0)))}),h(window).data("hashchange.history",!0));return this};vBulletin.ready("history").resolve()})(jQuery);
;

// ***************************
// js.compressed/autocomplete.js
// ***************************
function vBulletin_Autocomplete(L,g){var e=$(L),M=g.apiClass||null,N=g.apiFunction||"getAutocomplete",O=g.delay||500,u=g.minLength||3,z=g.maxItems||!1,A=e.attr("name")||"autocompleteElements",P=g.containerClass||"entry-field",B=g.placeholderText,Q="undefined"!=typeof g.autoFocus?g.autoFocus:!1,R="undefined"!=typeof g.appendTo?g.appendTo:"body",C=g.delimiter||",",k=[],q=e.parent(".autocomplete-container"),h=q.find(".autocompleteHelper"),v=!1,w=!1,r=e.siblings(".autocomplete-box"),D=g.beforeAdd||!1,
E=g.afterAdd||!1,F=g.beforeDelete||!1,G=g.afterDelete||!1,H=this,t=g.editorContext||null,I=function(a,f,d){if(""==a||"function"==typeof D&&!D.call(this,a,f))return!1;var b=!0;$(k).each(function(n,p){p.label==a&&(b=!1)});if(!b||z&&k.length>=z)return!1;var c=$("<div />").addClass("element-x b-link").prop("title","x").html('<span class="b-icon-fa b-icon-fa--16 fa-solid fa-circle-xmark" aria-hidden="true"></span>'),l=$("<div />").addClass("element-text").text(a);$("<div />").addClass("autocomplete").append(l).append(c).appendTo(r);
k.push({label:a,value:f});x();"function"==typeof E&&E.call(this,a,f,d);r.show();return!0},y=function(a){var f=a.length,d;for(d=0;d<f;++d)I(a[d])},J=function(){r.html("");h.val("");k=[];x()},x=function(){var a=[];$(k).each(function(f,d){a.push(d.label)});e.val(a.join(C))},K=function(a,f,d){if(t)switch(t.type){case "tags":t.context.addTag(a)}else H.addElement(a,a),h.val("");if("undefined"!==typeof f&&"undefined"!==typeof d)return d.preventDefault(),!1};(function(){0==q.length&&(e.wrap('<div class="autocomplete-container b-form-input__input" />'),
q=e.parent(".autocomplete-container"),q.addClass(P).on("mousedown",function(b){var c=this;setTimeout(function(){var l=$(".autocompleteHelper:visible",c);0<l.length&&l[0].focus()},10);return!1}));0==r.length&&(r=$("<div />").addClass("autocomplete-box").insertBefore(e));0==h.length&&(h=$('<input type="text" name="autocompleteHelper" />').addClass("autocompleteHelper b-form-input__input b-form-input__input--hide-clear-button").attr("placeholder",function(){return B?B:null}).attr("maxlength",function(){return e.attr("maxlength")?
e.attr("maxlength"):null}).insertAfter(r));h.attr("tabindex",e.attr("tabindex")||0);h.off("keydown").on("keydown",function(b){if(13==b.which){var c=$(b.target).val();c.length>=u&&K(c,!0,b)}});h.off("blur").on("blur",function(b){v=window.setTimeout(function(){if(!w){var c=h.val();c.length>=u&&K(c,!0,b)}v=w=!1},200)});h.off("focus").on("focus",function(b){w=v?!0:!1;return!1});var a="font-family font-size font-weight font-style color line-height height".split(" "),f;for(f=0;f<a.length;++f)q.css(a[f],
e.css(a[f]));a='<input type="hidden" name="'+A+'"';e.attr("id")&&(a+=' id="'+e.attr("id")+'"');e.attr("class")&&(a+=' class="'+e.attr("class")+'"');if(e.attr("data-value"))var d=e.attr("data-value").split(C);e.replaceWith(a+" />");e=q.find('[name="'+A+'"]');h.autocomplete({classes:{"ui-autocomplete":"dialog-container"},autoFocus:Q,appendTo:R,delay:O,minLength:u,source:function(b,c){vBulletin.AJAX({call:"/ajax/api/"+M+"/"+N,data:{searchStr:b.term},success:function(l){if(l&&$.isArray(l.suggestions)){var n=
[];$.each(l.suggestions,function(p,m){p={label:m.title};t&&"tags"==t.type?p.value=pageData.userid:(p.value=m.value,"id"in m&&m.id&&(p.id=m.id),m.hasOwnProperty("htmllabel")&&(p.htmllabel=m.htmllabel));n.push(p)});c(n)}else vBulletin.error("error","error_getting_suggestions")},error_phrase:"error_getting_suggestions"})},select:function(b,c){H.addElement(c.item.label,c.item.value,c.item);h.val("");b.preventDefault()},focus:function(b,c){h.val(c.item.label);b.preventDefault()},open:function(b){b=$(b.target).autocomplete("instance").menu.element;
var c=parseInt($(".dialog-box").css("z-index"),10);b.css("z-index",c+1)}});if(a=h.data("ui-autocomplete"))a._renderItem=function(b,c){c=c.hasOwnProperty("htmllabel")?$("<div>").html(c.htmllabel):$("<div>").text(c.label);return $("<li>").append(c).appendTo(b)};r.on("click",".element-x",function(b){b=$(this).closest(".autocomplete");var c=b.find(".element-text").text().toLowerCase(),l=[],n=!1;$(k).each(function(p,m){m.label.toLowerCase()==c?n=m:l.push(m)});if("function"==typeof F&&!F.call(this,n.label,
n.data))return!1;k=l;b.remove();x();"function"==typeof G&&G.call(this,n.label,n.data)});q.off("click").on("click",function(b){$(b.target).hasClass("ui-autocomplete-input")||$(".ui-autocomplete-input",$(this)).trigger("focus");return!1});d&&y.call(this,d)}).call(this);this.addElement=function(a,f,d){return I.call(this,a,f,d)};this.addElements=function(a){y.call(this,a)};this.setElements=function(a){J();y(a)};this.getElements=function(){return k};this.getLabels=function(){var a=[];$(k).each(function(f,
d){a.push(d.label)});return a};this.getValues=function(){var a=[];$(k).each(function(f,d){a.push(d.value)});return a};this.getInputField=function(){return h};this.clearElements=function(){return J.call(this)};this.countElements=function(){return $(k).length};this.getMinLength=function(){return u};this.close=function(){h.val("");h.autocomplete("close")}};
;

// ***************************
// js.compressed/poll.js
// ***************************
vBulletin.precache("vote_failed vote_now vote_first vote_error_retrieving vote_lower votes_lower voters voter".split(" "),["maxpolloptions"]);
(function(c){c(function(){function m(d,g,a){d=c("<span />").addClass(g).text(vBulletin.phrase.get(d));q(d,a)}function q(d,g){g.html(d);g.fadeIn("slow");c("body").on("click.voterpopup",function(a){0==c(a.target).closest(".voter-icon").length&&(g.hide(),c("body").off("click.voterpopup"))})}function n(d,g){var a=d.parent(),b=g.options,e;for(e in b){var f=c(".pollresults-option-"+b[e].polloptionid);f.find(".title").html(JShtmlEncode(b[e].title));f.find(".bar-container .bar").css("width",b[e].percentage+
"%");f.find(".percentage").html(b[e].display_percentage+"%");f.find(".js-votes span").html(b[e].votes);var k=1==b[e].votes?"vote_lower":"votes_lower";f.find(".js-votes label").html(vBulletin.phrase.get(k))}c(".pollresults .pollvote-count span",a).html(g.poll_votes);k=1==g.poll_votes?"voter":"voters";c(".pollresults .pollvote-count label",a).html(vBulletin.phrase.get(k));d.hide();c("div.pollresults",a).removeClass("h-hide-imp")}vBulletin.conversation.bindEditFormEventHandlers("poll");(function(d){var g=
function(a){a.find(".js-remove-button").prop("disabled",2>=a.find("li").length)};c(".b-poll-fieldset__poll-answers").each(function(){g(c(this))});d.off("click",".js-poll__view-results").on("click",".js-poll__view-results",function(a){a.preventDefault();a=c(this).attr("data-nodeid");var b=c(this).closest("form");c.post(vBulletin.getAjaxBaseurl()+"/poll/get",{nodeid:a},function(e){n(b,e)},"json")});d.off("click",".js-poll__back-to-poll").on("click",".js-poll__back-to-poll",function(a){a.preventDefault();
a=c(this).closest(".js-poll__parent");a.find("div.pollresults").addClass("h-hide-imp");a.find("form.poll").show()});d.off("click",".b-poll-fieldset__add-more").on("click",".b-poll-fieldset__add-more",function(a){a=c(this);var b=a.prev(".b-poll-fieldset__poll-answers"),e=b.find("li").first().clone(!0),f=e.find(".b-form-input__input");f.val("").attr("name","polloptions[new][]");e.appendTo(b);f.trigger("focus");b.find("li").length==vBulletin.options.get("maxpolloptions")&&a.addClass("h-hide");g(b);return!1});
d.off("click",".b-poll-fieldset__poll-answers .js-remove-button").on("click",".b-poll-fieldset__poll-answers .js-remove-button",function(){var a=c(this),b=a.closest(".b-poll-fieldset__poll-answers");a.closest("li").remove();b.next(".b-poll-fieldset__add-more").removeClass("h-hide");g(b);return!1});d.off("click",".js-poll-timeout").on("click",".js-poll-timeout",function(a){a=c(this).closest(".b-poll-fieldset__poll-options").next(".b-poll-fieldset__datepicker-container");this.checked?a.removeClass("h-hide"):
a.addClass("h-hide").find(".b-datepicker__input").val("")});d.off("submit.formpoll","form.poll").on("submit.formpoll","form.poll",function(a){a.preventDefault();var b=c(this);a=b.find('[name="polloptionid"]:checked').val();var e=[];b.find('[name="polloptionids[]"]:checked').each(function(){e.push(c(this).val())});c.post(vBulletin.normalizeAjaxUrl(b.attr("action")),{polloptionid:a,"polloptionids[]":e},function(f){0==f?vBulletin.warning("vote_now","vote_failed"):(n(b,f),f=b.parent(),c("div.pollresults",
f).find(".js-poll__back-to-poll").remove())},"json")});d.offon("click",".pollresults-data .voter-icon",a=>{a=c(a.currentTarget);var b=a.find(".voters");if(b.is(":visible"))return!1;c(".pollresults-data .voter-icon .voters").hide();var e=a.attr("data-node-id"),f=a.attr("data-polloption-id"),k=a.closest("form");vBulletin.AJAX({call:"/poll/get-voters",data:{nodeid:e,polloptionid:f},success:h=>{var {options:{[f]:l}={}}=h;if(l)if(n(k,h),h=l.votersinfo,c.isEmptyObject(h))m("vote_first","note",b);else{l=
[];for(let p of Object.values(h))l.push('<a href="{0}" data-vbnamecard="{1}">{2}</a>'.format(p.profileurl,p.userid,p.displayname_safe));q(l.join(", "),b)}else m("vote_error_retrieving","error",b)},api_error:h=>m(h[0],"error",b),error:()=>m("vote_error_retrieving","error",b)})});d.offon("click",".pollresults-data .voter-icon .voters",a=>{a.stopPropagation();return!0})})(c(document))})})(jQuery);
;

// ***************************
// js.compressed/vbSlideshow.js
// ***************************
vBulletin.precache(["gallery_slideshow","no_photos_found_or_post_deleted"],[]);
(function(f){function A(a,b,e,c){var d=a.find(".caption");d.html("").hide();b.links&&d.append(f("<div />").addClass("links ellipsis").html(b.links));b.title&&d.append(f("<div />").addClass("title ellipsis").html(b.title));b.caption&&d.append(f("<div />").addClass("title ellipsis").html(b.caption));b=b.links&&b.title?15:b.links||b.title?35:50;e=a.find(".slideshow-wrapper .jcarousel-item-"+e+" img");e.outerWidth();d.css({marginBottom:b+"px",width:"100%",textAlign:"center",marginLeft:"auto",marginRight:"auto"});
e.one("load",function(){var h=f(this).outerWidth();d.css("width",h+"px")});c?d.fadeIn("fast",function(){a.trigger("click")}):d.show()}function B(a){var b=vBulletin.isRtl();37==a.which?vBulletin.gallery.slideshow.jcarousel(b?"next":"prev"):39==a.which&&vBulletin.gallery.slideshow.jcarousel(b?"prev":"next");if(33<=a.which&&40>=a.which)return!1;27==a.which&&k.dialog("instance")&&k.dialog("close")}function C(a){0<(a.originalEvent.wheelDelta||-a.originalEvent.detail)?vBulletin.gallery.slideshow.jcarousel("prev"):
vBulletin.gallery.slideshow.jcarousel("next");return!1}function D(a){if(a){var b=vBulletin.isRtl(),e=0,c=!1,d=!1;function h(g,l){if(vBulletin.gallery.slideshow.jcarousel("canmove")){var n=f(".slideshow-wrapper .jcarousel-list"),q=b?"right":"left",m=parseInt(n.css(q),10);if("restore"===g)g=m+-1*e,l?(l={},l[q]=g,n.animate(l,"fast","swing")):n.css(q,g),e=0,c=!1;else if("prev"===g||"next"===g){parseInt(n.css("width"),10);m=n.find(".jcarousel-item");l=m.length;m=m.first();m=parseInt(m.css("width"),10);
var r=Math.abs(c);g="prev"===g?r-m:r+m;var t=(g?g/m:0)+1;if(0<=g&&g<=(l-1)*m&&(l={},l[q]=-1*g,n.animate(l,"fast","swing",function(){e=0;!1!==c&&(n.css("visibility","hidden"),n.css(q,c),c=!1,vBulletin.gallery.slideshow.jcarousel("scroll",t,!1),n.css("visibility","visible"))}),!1!==c))return!0}else b&&(g*=-1),n.css(q,m+g),e+=g,!1===c&&(c=m)}}function p(g){d=!0;h(g,!0)||h("restore",!0)}f(document).swipeable({swipeleft:function(g,l){p(b?"prev":"next")},swiperight:function(g,l){p(b?"next":"prev")},swiping:function(g,
l){h(l.moved.x)},swipeend:function(g,l){e&&!d&&h("restore",!0);d&&(d=!1)}})}else f(document).swipeable("disable")}function F(){var a=f("body"),b=a.css("overflow")||"auto";a.css("overflow","hidden");var e=f(window).innerWidth(),c=f(window).innerHeight();e=parseInt(e-0,10);c=parseInt(c-0,10);k.css({borderRadius:0,borderWidth:0});a.css("overflow",b);k.dialog("instance")&&(k.dialog("option","width",e),k.dialog("option","height",c))}function G(a){var b=a.closest(".js-slideshow__gallery-node"),e=0,c="",
d=null,h=null;0<b.length&&(e=parseInt(b.attr("data-node-id")||b.attr("data-nodeid"),10),c=b.data("sort")||"",b=b.closest(".ui-widget-content"),b=b.find(".toolbar-filter-overlay .filter-options"),b.length&&(d=f("input[name=filter_time]:checked",b).val(),h=f("input[name=filter_show]:checked",b).val()));0==e&&(b=a.closest(".js-post-sm"),0<b.length&&(e=parseInt(b.attr("data-nodeid"),10)));0==e&&(a=a.closest(".js-post"),0<a.length&&(e=parseInt(a.attr("data-node-id"),10)));return{nodeid:e,sort:c,filter_time:d,
filter_show:h}}function H(a){var b=a.closest(".js-post__content-text"),e={photos:[]},c=0;(b.length&&b.find(".js-lightbox, .js-lightbox-participant")||a).each(function(){var d=f(this),h=d.data("fullsize-url")||d.parent().attr("href")||d.attr("src")||"";let p=d.data("thumb-url")||h,g=d.data("title")||"";d=d.data("caption")||"";h&&(h={url:h,thumb:p,links:g,title:d},e.photos.push(h),this===a[0]&&(u=c),c++)});return e}async function I(a){if(a.hasClass("js-lightbox"))return H(a);var b=a.closest(".b-content-entry-panel__content--gallery").find(".js-photo-postdata input");
if(0<b.length){let r={photos:[]};b.filter('[name="filedataid[]"]').each(function(){var t=this.value;t={title:JShtmlEncode(b.filter('[name="title_'+t+'"]').val()),url:pageData.baseurl+"/filedata/fetch?filedataid="+t,thumb:pageData.baseurl+"/filedata/fetch?thumb=1&filedataid="+t};r.photos.push(t)});return new Promise((t,N)=>{setTimeout(()=>{t(r)},10)})}var e=a.attr("data-channelid"),c=a.attr("src")||a.attr("href"),d=G(a);a=d.nodeid;var h=d.sort,p=d.filter_time;d=d.filter_show;var g={nodeid:a},l=parseInt(f(".albumSlideShowPageNo").val(),
10),n=parseInt(f(".albumSlideShowPerPage").val(),10),q=f(".media-tab .media-filter-overlay .filter-options input:checked").val();vBulletin.media&&vBulletin.media.MEDIA_USERID&&(g.userid=vBulletin.media.MEDIA_USERID);e&&(g.channelid=e);isNaN(l)||(g.pageno=l);isNaN(n)||(g.perpage=n);q&&(g.dateFilter=q);isNaN(u)||(g.startIndex=u);h&&(g.sort=h);p&&(g.dateFilter=p);d&&(g.showFilter=d);0<a&&(g.startIndex="");var m=JSON.stringify(g);0<a&&(v[a]=v[a]||[],v[a].push(m));w[m]||await vBulletin.AJAX({call:"/filedata/gallery",
data:g}).always(r=>{!r&&c&&(r={photos:[{title:"",url:c,thumb:""}]});w[m]=r});return w[m]}function y(a,b,e){let c=a.jcarousel("size")||1,d=a.data("curIndex")||1,h;if(b!=d)return b==c?(2<c&&(h=a.jcarousel("scroll",b-1,!1)),a.jcarousel("next")):d==c&&b==c-1?a.jcarousel("prev"):h=a.jcarousel("scroll",b,e),h}function z(a){var b=f(this);x=this;if(1==b.closest("#preview-overlay").length)return!1;a&&a.preventDefault&&a.preventDefault();!1===u&&(u=b.index());f(document).offon("click",".thumbnails .image-wrapper",
function(e,c){"undefined"==typeof c&&(c=!0);f(".thumbnails .image-wrapper",k).addClass("dimmed");f(this).removeClass("dimmed");e=Number(f(this).parent().attr("jcarouselindex"));k.data("thumbclick",!0);y(vBulletin.gallery.slideshow,e,c);k.removeData("thumbclick")});a=k.find(".slideshow-wrapper");0==a.find(".slideshow-list").length&&a.append(f("<ul />").addClass("slideshow-list"));k.dialog("open");window.vBulletin.loadingIndicator.show();vBulletin.gallery.slideshow=a.jcarousel({wrap:null,animation:"fast",
easing:"swing",scroll:1,rtl:vBulletin.isRtl(),initCallback:function(e,c){"init"==c&&(window.vBulletin.loadingIndicator.show(),I(b).then(d=>{window.vBulletin.loadingIndicator.hide();J(d,e)}))},itemLoadCallback:{onBeforeAnimation:function(e,c,d){d=e.first;e.inTail&&(d=e.last);if("init"==c)return!1;if(c=k.data("image-data")){vBulletin.gallery.slideshow.data("curIndex",d);var h=c.photos.length;if(0<d)for(;d>h;)d-=h;else for(;0>=d;)d+=h;A(k,c.photos[d-1],d,!0);vBulletin.gallery.thumbnails&&(e=E(e),y(vBulletin.gallery.thumbnails,
Math.max(d-Math.floor(e.visibleCount/2),1),!0),k.data("thumbclick")||(f("#slideshow-dialog .thumbnails .image-wrapper").addClass("dimmed"),vBulletin.gallery.thumbnails.jcarousel("get",d).find(".image-wrapper").removeClass("dimmed")))}}}});"undefined"==typeof vBulletin.gallery.slideshow.data("curIndex")&&vBulletin.gallery.slideshow.data("curIndex",1);return!1}function J(a,b){if(a&&a.photos){k.data("image-data",a);K(b,a,k);k.find(".slideshow-wrapper").find(".jcarousel-prev-horizontal").addClass("b-icon b-icon__arrow-block-left").end().find(".jcarousel-next-horizontal").addClass("b-icon b-icon__arrow-block-right");
var e=k.find(".thumbnails");b=e.find(".jcarousel-prev-horizontal");e=e.find(".jcarousel-next-horizontal");b.addClass("b-icon b-icon__arrow-bar-left").toggleClass("b-icon--disabled",b.is(".jcarousel-prev-disabled"));e.addClass("b-icon b-icon__arrow-bar-right").toggleClass("b-icon--disabled",e.is(".jcarousel-next-disabled"));A(k,a.photos[0],1);1<a.photos.length&&vBulletin.gallery.thumbnails.jcarousel("get",1).find(".image-wrapper").removeClass("dimmed");var c=u;a=parseInt(f(".albumSlideShowPerPage").val(),
10);isNaN(a)||(c=u%a);0<c&&"undefined"!=typeof y(vBulletin.gallery.slideshow,c+1,!1)&&(k.find(".slideshow-wrapper").css("visibility","hidden"),window.setTimeout(function(){f(".thumbnails .image-wrapper",k).eq(c).trigger("click",[!1]);k.find(".slideshow-wrapper").css("visibility","")},0));window.vBulletin.loadingIndicator.hide()}else openAlertDialog({title:vBulletin.phrase.get("gallery_slideshow"),message:vBulletin.phrase.get("no_photos_found_or_post_deleted"),iconType:"warning"})}function K(a,b,e){let c=
b.photos.length;a.size(c);1<c?(f("#slideshow-dialog .thumbnails").show(),L(b)):f("#slideshow-dialog .thumbnails").hide();e.toggleClass("no-thumbnails",1>=c);var d=a.first||1;f.each(b.photos,function(p,g){let l=f("<a></a>").attr("href",g.url);g=f('<img alt="{0}" class="image" />'.format(g.htmltitle||"")).attr("src",g.url);let n=f('<div class="image-wrapper"></div>');l.append(g);n.append(l);a.add(d+p,n)});b=e.find(".slideshow-wrapper .slideshow-list");e=parseFloat(b.css("width"));var h=a.get(1);h=parseFloat(h.css("width"));
0<h&&e/h<c&&b.css("width",c*h+"px");a.reload()}function E(a){var b=f("#slideshow-dialog .thumbnails .jcarousel-clip"),e=b.find(".jcarousel-item").outerWidth(!0);a=a.size();b=parseInt(b.css("max-width"),10);b=Math.min(a,Math.max(1,Math.floor(b/e)));return{visibleCount:b,recommendedContainerWidth:b*e}}function L(a){function b(c){var d=f(c.buttonPrev[0]);c=f(c.buttonNext[0]);d.toggleClass("b-icon--disabled",d.is(".jcarousel-prev-disabled"));c.toggleClass("b-icon--disabled",c.is(".jcarousel-next-disabled"))}
var e=f("#slideshow-dialog .thumbnails .thumbnail-list");0==e.length&&(e=f("#slideshow-dialog .thumbnails").append(f("<ul />").addClass("thumbnail-list")));vBulletin.gallery.thumbnails=e.jcarousel({wrap:null,animation:"fast",easing:"swing",rtl:vBulletin.isRtl(),size:a.photos.length,initCallback:function(c,d){"init"==d&&(c.size(a.photos.length),f.each(a.photos,function(h,p){h=(c.first||1)+h;if(c.has(h))return!0;if(h>a.photos.length)return!1;p=f("<img />").addClass("thumbnail").on("load",function(){}).attr({src:p.thumb,
alt:""}).appendTo(f("<div />").addClass("image-wrapper dimmed"));c.add(h,p.parent().get(0))}),d=E(c),f("#slideshow-dialog .thumbnails .jcarousel-clip").css("width",d.recommendedContainerWidth+"px"),c.size()<=d.visibleCount&&(c.buttonNext.hide(),c.buttonPrev.hide()))},itemVisibleInCallback:{onBeforeAnimation:function(c,d,h,p){f("#slideshow-dialog .thumbnails").data("visible-range",{first:c.first,last:c.last})}},buttonNextCallback:b,buttonPrevCallback:b}).disableSelection()}function M(){if(x){var a=
x;var b=(vBulletin.gallery.slideshow&&vBulletin.gallery.slideshow.data("curIndex")||1)-1;k.dialog("close");u=b;z.call(a)}}vBulletin.ensureObj("gallery");var k=f("#slideshow-dialog"),u=!1,x=!1,w={},v={};vBulletin.gallery.clearCacheForNodeid=function(a){v.hasOwnProperty(a)&&v[a].forEach(b=>delete w[b]);v[a]=[]};f(function(){k.data("vb-lightbox-initialized")||(k.data("vb-lightbox-initialized",!0),f(document).offon("click","#slideshow-dialog .close-btn",function(){k.dialog("instance")&&k.dialog("close")}),
k.dialog({autoOpen:!1,resizable:!1,closeOnEscape:!0,showTitleBar:!1,modal:!0,dialogClass:"slideshow-dialog",open:function(){F();f("body").css("overflow","hidden");f(".ui-widget-overlay").on("click",function(){k.dialog("close")});f(document).offon("keydown",B);f(document).offon("mousewheel DOMMouseScroll",C);D(!0)},close:function(a,b){vBulletin.gallery.thumbnails&&vBulletin.gallery.thumbnails.jcarousel("destroy");vBulletin.gallery.slideshow&&(vBulletin.gallery.slideshow.removeData("curIndex"),vBulletin.gallery.slideshow.jcarousel("destroy"));
f("body").css("overflow","auto");f(document).off("keydown",B);f(document).off("mousewheel DOMMouseScroll",C);D(!1);u=x=!1}}))});f(function(){f(document).offon("click",".js-slideshow--item",z);f(document).offon("click",".js-lightbox",z);k.addClass("js-no-responsive-resize");f(window).on("resize",f.debounce(300,M))})})(jQuery);
;

// ***************************
// js.compressed/conversation_filter.js
// ***************************
vBulletin.precache(["invalid_request","invalid_search_syntax","invalid_server_response_please_try_again","unknown_error"],[]);vBulletin.ensureObj("conversation");
(function(a){vBulletin.conversation.filter=function(r){function x(c,e){vBulletin.conversation.displaySelectedFilterText(c,e,b.context)}var f=this,u=null,v=0,z=!1,w=!1,b={context:document,autoCheck:!1,checkInterval:15E3,scrollToTop:null,customFilter:null,onContentLoad:null,closeOverlayOnScroll:!1,pagination:null,allowHistory:!1,tabParamAsQueryString:!0,hash:"",beforeApplyFilters:null,afterResetFilters:null};r&&"object"==typeof r&&a.extend(b,r);var p=new vBulletin.history.instance(b.allowHistory);(function(){a(".toolbar-filter-overlay input[type=radio]",
b.context).off("change.conversation_filter").on("change.conversation_filter",function(c,e,g){c=a(this);var d=a(this.form);if(!p.isEnabled()&&b.allowHistory)return c=vBulletin.makePaginatedUrl(location.href,1),location.href=vBulletin.makeFilterUrl(c,this.name,this.value,b.context,b.hash),!0;z=!0;b.customFilter=null;c.data("bypass-filter-display")||x(this);c=c.closest(".conversation-toolbar-wrapper");1<a(".conversation-toolbar-wrapper",b.context).length&&$toolbarWrappers.filter("."+(c.hasClass("top")?
"bottom":"top")).find("input[name={0}][value={1}]".format(this.name,this.value)).prop("checked",!0);"conversations_on"==this.value?(w=b.autoCheck=!0,v=1):(clearTimeout(v),w="filter_show"==this.name);a(".new-conversations-strip",b.context).hide();f.updatePageNumber(g||1);g=a('.filtered-by .filter-text[data-filter-name="q"]',b.context);if(g.length){var h=f.getSelectedFilters(d);h.q=g.data("filter-value");f.setOption("customFilter",h);f.forceApplyFilters()}else f.applyFilters(!1);p.isEnabled()&&!e&&
(h=f.getSelectedFilters(d),d=this.name,g=this.value,e=a(".filtered-by",c),h={from:"filter",page:1,tab:b.tabParamAsQueryString?"#"+c.closest(".ui-tabs-panel").attr("id"):vBulletin.getSelectedTabHashOrPath(c.closest(".ui-tabs"),!1),filters:h,filtervalue:g,filtername:d},e.data("reset")?(c=location.pathname.replace(/\/page[0-9]+/,""),b.tabParamAsQueryString&&(d=vBulletin.parseQueryString(location.search),d.tab?c+="?tab="+d.tab:d.view&&(c+="?view="+d.view))):(c=vBulletin.makePaginatedUrl(location.href,
1),c=vBulletin.makeFilterUrl(c,d,g,b.context)),p.pushState(h,document.title,c),e.data("reset",null))});a(".new-conversations-strip",b.context).off("click.conversation_filter").on("click.conversation_filter",function(){a(this).hide();w=!0;f.updatePageNumber(1);f.applyFilters(!1,!0)});a(".toolbar-filter",b.context).offon("click.conversation_filter",function(c,e,g){var d=a(".filter-wrapper",this);c=a(this).closest(".conversation-toolbar-wrapper");var h=c.find(".conversation-toolbar");let k=c.hasClass("bottom")?
"bottom":"top",m=a(".toolbar-filter-overlay",c),q=!d.is(".selected");var t=(q?0:100)+"%";"undefined"==typeof e&&(e="slow");d.toggleClass("selected");d.attr("aria-expanded",q);a(".js-expanded-indicator",this).toggleClass("fa-caret-down fa-caret-up");let C=()=>{var n="conversation_filter"+k;if(q){a("body").offon("click."+n,y=>{0==a(y.target).closest(".toolbar-filter-overlay").length&&0==a(y.target).closest(".toolbar-filter").length&&(a("body").off("click."+n),a(window).off("scroll."+n),y=0<a(y.target).closest(".toolbar-filter").length?
"fast":"slow",a(".conversation-toolbar-wrapper.{0} .conversation-toolbar .toolbar-filter".format(k),b.context).triggerHandler("click.conversation_filter",[y]))});var l=!0;if("scroll"!=g){l=a(".filtered-by",b.context);if(0==l.length||l.is(":hidden"))l=this;var A={};(l=vBulletin.isScrolledIntoView(l,A))||a("html,body").animate({scrollTop:"+="+Math.abs(A.bottom)},"fast",function(){setTimeout(function(){if(b.closeOverlayOnScroll)a(window).off("scroll."+n).on("scroll."+n,function(){a(".conversation-toolbar-wrapper.{0} .conversation-toolbar .toolbar-filter".format(k),
b.context).triggerHandler("click.conversation_filter",[0,"scroll"])})},50)})}if(l&&b.closeOverlayOnScroll)a(window).off("scroll."+n).on("scroll."+n,function(){a(".conversation-toolbar-wrapper.{0} .conversation-toolbar .toolbar-filter".format(k),b.context).triggerHandler("click.conversation_filter",[0,"scroll"])})}else a("body").off("click."+n),a(window).off("scroll."+n)};m.css("clip-path",`polygon(0 0, 100% 0, 100% ${t}, 0% ${t})`);m.show();t=m.offsetParent();t=t.offset().left+t.outerWidth();d=d.offset().left+
d.outerWidth();d=t-d;h=h.outerHeight();m.css("max-height",`calc(100vh - ${h}px)`);m.css("--js-filter-menu-right",`${d}px`);a({step:0}).animate({step:100},{step:(n,l)=>{"step"==l.prop&&(n=q?n:100-n,n=Math.max(Math.min(n,100),0),m.css("clip-path",`polygon(0 0, 100% 0, 100% ${n}%, 0% ${n}%)`))},complete:()=>{C()},duration:e});c.hasClass("bottom")&&a(".js-expanded-indicator",this).hasClass("fa-caret-up")&&(e=a(".conversation-toolbar-wrapper.bottom .toolbar-filter-overlay",b.context),a("html, body").animate({scrollTop:e.offset().top+
e.innerHeight()},500))});a(".filtered-by",b.context).offon("click.conversation_filter",".js-remove-filter",function(){var c=a(this),e=c.closest(".filtered-by"),g=c.closest(".filter-text"),d=g.data("filter-name");a();e.data("clicked",!0);if(!p.isEnabled()&&b.allowHistory)return"text"==g.data("filter-type")&&g.data("filter-js-selector")?(e=vBulletin.makePaginatedUrl(location.href,1),location.href=vBulletin.makeFilterUrl(e,"q","",b.context,b.hash,!0)):(e=vBulletin.makePaginatedUrl(location.href,1),location.href=
vBulletin.makeFilterUrl(e,d,g.data("filter-value"),b.context,b.hash,!0)),!1;var h=a(".toolbar-filter-overlay .filter-options input[name={0}]".format(d),b.context).prop("checked",!1).filter(".js-default-checked");f.updatePageNumber(1);if("text"==g.data("filter-type")&&g.data("filter-js-selector")){a(g.data("filter-js-selector")).val("");var k=f.getSelectedFilters(a("form.toolbar-filter-overlay",b.context));delete k[d];f.setOption("customFilter",k)}g.remove();g=e.find(".filter-text").length;0==g?(e.addClass("h-hide"),
e.data("reset",!0)):1==g&&e.find(".clear-all").addClass("h-hide");1==h.length?(h.data("bypass-filter-display",!0),h.trigger("click.conversation_filter"),h.data("bypass-filter-display",null)):(k&&(e=vBulletin.makePaginatedUrl(location.href,1),e=vBulletin.makeFilterUrl(e,"q","",b.context),p.pushState({from:"filter",page:1,tab:b.tabParamAsQueryString?"#"+c.closest(".ui-tabs-panel").attr("id"):vBulletin.getSelectedTabHashOrPath(c.closest(".ui-tabs"),!1),filters:k},document.title,e)),f.forceApplyFilters(),
k&&f.setOption("customFilter",null))});a(".filtered-by",b.context).offon("click.conversation_filter",".clear-all",function(c){var e=a(this).closest(".conversation-toolbar-wrapper");a(this).data("clicked",!0);f.setOption("customFilter",null);f.resetFilters(!1,!1,e);c.preventDefault()});a(".conversation-toolbar .filter-wrapper",b.context).data("object-instance",f);a(".js-conversation-showmore-button",b.context).off("click").on("click",function(){var c=parseInt(a('form.toolbar-filter-overlay input[name="pagenum"]',
b.context).val());w=!1;f.updatePageNumber(c+1);f.applyFilters(!1,!0,!0)});a(".conversation-toolbar .toolbar-search-form",b.context).off("submit.filtersearch").on("submit.filtersearch",function(){var c=a(this.elements.q),e=a.trim(c.val()),g=a(this).closest(".conversation-toolbar-wrapper");c.val(e);if(!p.isEnabled()&&b.allowHistory){var d=vBulletin.makePaginatedUrl(location.href,1);location.href=vBulletin.makeFilterUrl(d,"q",e,g);return!1}c=b.tabParamAsQueryString?"#"+a(this).closest(".ui-tabs-panel").attr("id"):
vBulletin.getSelectedTabHashOrPath(a(this).closest(".ui-tabs"),!1);if(e){var h=f.getSelectedFilters(g.find(".toolbar-filter-overlay"));d={};d.q=e;a.extend(h,d);f.setOption("customFilter",h);f.forceApplyFilters();f.displayCustomFilterText(this.elements.q);p.isEnabled()&&(d=vBulletin.makePaginatedUrl(location.href,1),d=vBulletin.makeFilterUrl(d,"q",e,g),p.pushState({from:"filter",page:1,tab:c,filters:h},document.title,d))}else d=g.find('.filter-text[data-filter-name="{0}"]'.format("q")),d.length&&(h=
f.getSelectedFilters(g.find(".toolbar-filter-overlay")),f.setOption("customFilter",h),a(".x",d).trigger("click"),p.isEnabled()&&(d=vBulletin.makePaginatedUrl(location.href,1),d=vBulletin.makeFilterUrl(d,"q",e,g),p.pushState({from:"filter",page:1,tab:c,filters:h},document.title,d)));return!1})})();this.isFilterSelected=function(c){return a('.toolbar-filter-overlay input[value="'+c+'"]',b.context).is(":checked")};this.getSelectedFilters=function(c){return vBulletin.getSelectedFilters(c,!1)};this.resetFilterForms=
function(c){if(!c||c instanceof a&&!c.length)c=b.context;a(".toolbar-filter-overlay .js-default-checked",c).prop("checked",!0);a(".toolbar-search-form .js-filter-search",c).val("")};a(".toolbar-filter-overlay, .toolbar-search-form",b.context).trigger("reset");if(p.isEnabled()){r=p.getState();if(!r||a.isEmptyObject(r.data)){a(b.context).hasClass("ui-tabs-panel")?a(b.context).attr("id"):a(".conversation-toolbar-wrapper",b.context).closest(".ui-tabs-panel").attr("id");var B={from:"filter",page:Number(a(".pagenav-form .defaultpage",
b.context).val())||1,tab:vBulletin.getSelectedTabHashOrPath(a(b.context).closest(".ui-tabs"),b.tabParamAsQueryString),filters:f.getSelectedFilters(a("form.toolbar-filter-overlay",b.context))};p.setDefaultState(B,document.title,location.href)}p.setStateChange(function(c,e,g){var d=p.getState();if("filter"==d.data.from||"pagination"==e||"tabs"==e){p.log(d.data,d.title,d.url);var h;d.data.tab&&(h=b.tabParamAsQueryString?a(d.data.tab):a('.ui-tabs .ui-tabs-panel[data-url-path="'+d.data.tab+'"]'));c=h&&
h.length&&h||b.context;if("pagination"==e){if(g){e=a(".filtered-by",c);var k=a(".toolbar-filter-overlay .filter-options-list",c),m=!1;a(".filter-text",e).filter('[data-filter-name!="q"]').remove();a(".clear-all",e).addClass("h-hide");k.find(".js-default-checked").prop("checked",!0);a.each(g,function(q,t){q=a('input[name="{0}"][value="{1}"]'.format(q,t),k);q.length&&(q.prop("checked",!0).trigger("change",[!0,d.data.page]),m=!0)});m||(k.first().data("bypass-filter-display",!0).trigger("change",[!0,
d.data.page]).data("bypass-filter-display",null),e.addClass("h-hide"))}}else g=a(c).closest(".ui-tabs"),e=b.tabParamAsQueryString?g.find('.ui-tabs-nav > li > a[href*="{0}"]'.format(d.data.tab)):g.find('.ui-tabs-nav > li > a[data-url-path="'+d.data.tab+'"]'),e.parent().hasClass("ui-tabs-active")?(g=f.getSelectedFilters(a(".toolbar-filter-overlay",c)),e=a(".conversation-toolbar .filter-wrapper",c).data("object-instance")||f,vBulletin.areJsonObjectsEqual(g,d.data.filters)||(e.setOption("context",c),
e.updatePageNumber(d.data.page),e.applyHistoryFilters(d.data))):(c=e.parent().index(),vBulletin.selectTabByIndex.call(g,c))}},"filter")}this.displayCustomFilterText=function(c,e){x(c,e||a(c).val())};this.isHistoryEnabled=function(){return p.isEnabled()};this.resetFilters=function(c,e,g){if(!g||g instanceof a&&!g.length)g=b.context;var d=a(".filtered-by",g).addClass("h-hide"),h=location.pathname.replace(/\/page[0-9]+/,"");if(b.tabParamAsQueryString){var k=vBulletin.parseQueryString(location.search);
k.tab?h+="?tab="+k.tab:k.view&&(h+="?view="+k.view)}a(".clear-all",d).addClass("h-hide");a(".filter-text",d).remove();f.resetFilterForms(g);if(!c)if(p.isEnabled()){d.data("reset",!0);f.updatePageNumber(1);k=f.getSelectedFilters(a("form.toolbar-filter-overlay",g));if(e){var m=a(".toolbar-search-form .js-filter-search",g).val("");delete k[m.attr("name")];f.setOption("customFilter",k)}f.forceApplyFilters();B={from:"filter",page:1,tab:b.tabParamAsQueryString?"#"+d.closest(".ui-tabs-panel").attr("id"):
vBulletin.getSelectedTabHashOrPath(d.closest(".ui-tabs"),!1),filters:k};p.pushState(B,document.title,h)}else b.allowHistory&&(location.href=h);"function"==typeof b.afterResetFilters&&b.afterResetFilters.apply(this,arguments);return f};this.applyHistoryFilters=function(c){if(c&&c.filters&&!a.isEmptyObject(c.filters)){var e=b.tabParamAsQueryString?a(c.tab):a('.ui-tabs .ui-tabs-panel[data-url-path="'+c.tab+'"]'),g=a(".toolbar-filter-overlay",e);"undefined"!=typeof f.lastFilters&&delete f.lastFilters;
f.resetFilters(!0,!1,e);a.each(c.filters,function(m,q){m=a('[name="'+m+'"]',g);"hidden"==m.attr("type")?m.val(q):"radio"==m.attr("type")&&q!=c.filtervalue&&m.filter('[value="'+q+'"]').prop("checked",!0)});var d=vBulletin.parseQueryString(location.href),h=!0,k=function(){a(".toolbar-search-form .js-filter-search",e).val("")};a.isEmptyObject(d)?k():a.each(d,function(m,q){var t=a('.filter-options-list input[name="{0}"][value="{1}"]'.format(m,q),g);t.length?c.filtername==m&&c.filtervalue==q?(h=!1,t.prop("checked",
!0).trigger("change",[!0])):x(t.get(0)):(t=a('.toolbar-search-form .js-toolbar-search-inner input[name="{0}"]'.format(m),e),t.length&&q?(x(t.get(0),q),t.val(q)):k())});h&&(f.setOption("customFilter",c.filters),f.forceApplyFilters(),f.setOption("customFilter",null))}return f};this.forceApplyFilters=function(){"undefined"!=typeof f.lastFilters&&delete f.lastFilters;w=!0;f.applyFilters(!1,!0);return f};this.applyFilters=function(c,e,g,d){if("function"==typeof b.beforeApplyFilters&&!1===b.beforeApplyFilters.apply(this,
arguments))return f;var h=a(".toolbar-filter-overlay",b.context);e&&clearTimeout(v);var k={filters:b.customFilter?b.customFilter:f.getSelectedFilters(h),isAjaxTemplateRender:!0,isAjaxTemplateRenderWithData:!0};if(a.isEmptyObject(k.filters))return f;c&&(k.filters.checkSince=u,k.filters.pagenum=1);d?w=!0:h.find('input[name="result-id"]').val(0).length&&(k.filters["result-id"]=0);if("undefined"!=typeof this.lastFilters&&vBulletin.areJsonObjectsEqual(this.lastFilters.filters,k.filters)&&!c)return f;this.lastFilters=
k;var m=a(".conversation-empty",b.context),q=a(".conversation-toolbar-wrapper",b.context);q.addClass("h-disabled");m.addClass("h-invisible");c&&window.vBulletin.loadingIndicator.suppressNextAjaxIndicator();var t=vBulletin.normalizeAjaxUrl(h.attr("action"))||vBulletin.getAjaxBaseurl()+"/activity/get",C=h.closest(".conversation-toolbar-wrapper").find('form.pagenav-form input[name="article_display_columns"]');1==C.length&&(k.article_display_columns=C.val());var n=a(".conversation-list",b.context);vBulletin.AJAX({url:t,
data:k,api_error:function(l){l=l[0];n.addClass("h-hide");l=vBulletin.phrase.get(l);m.html((l||"").replace(/<br\s*\/*>/g," ")).removeClass("h-hide h-invisible")},success:function(l){m.addClass("h-hide");if(c)!z&&0<l.total&&!a("body").hasClass("edit-mode")&&(a(".new-conversations-strip span",b.context).html(l.total),a(".new-conversations-strip",b.context).fadeIn("slow")),0==a(".conversation-list li.list-item",b.context).length&&m.removeClass("h-hide");else{var A=a(".js-conversation-showmore",b.context);
a(".new-conversations-strip",b.context).hide();if((0<l.total_with_sticky||0<l.total)&&l.template){l.resultId&&(a('input[name="result-id"]',h).val(l.resultId).length&&this.lastFilters&&(this.lastFilters.filters["result-id"]=l.resultId),b.pagination&&b.pagination.updateResultId(l.resultId));g?n.append(l.template):(m.addClass("h-hide"),n.html(l.template).removeClass("h-hide"));l.fixFlexGrid&&vBulletin.initFlexGridFixLastRowAll();var y=k.filters,D=parseInt(y.maxpages);y=parseInt(y.pagenum);var E=l.pageinfo;
D=D&&y>=D||E&&(y>=parseInt(E.totalpages)||!1===E.showseemore);A.toggleClass("h-hide",D)}else g||(m.removeClass("h-hide"),n.addClass("h-hide").empty());0==l.total_with_sticky&&A.addClass("h-hide");w&&b.scrollToTop&&(A=b.scrollToTop instanceof a?b.scrollToTop:a(b.scrollToTop),0<A.length&&a("body,html").animate({scrollTop:A.offset().top},"slow"));u=l.lastDate;"function"==typeof b.onContentLoad&&b.onContentLoad.apply(n.get(0),[l]);l.pageinfo&&(f.updatePageNumber(l.pageinfo.pagenumber||1),b.pagination&&
"function"==typeof b.pagination.updatePageInfo&&(b.pagination.setOption("context",b.context),b.pagination.updatePageInfo(l.pageinfo,!0)));vBulletin.inlinemod&&"function"==typeof vBulletin.inlinemod.init&&0<a(".moderationmenu_container",b.context).length&&vBulletin.inlinemod.init(b.context);a(document).trigger("vb-filterposts",{parentOfInsertedHtml:n})}z&&(z=!1)},error_phrase:"unable_to_contact_server_please_try_again",complete:function(){q.removeClass("h-disabled");m.removeClass("h-invisible");!z&&
b.autoCheck&&v&&(v=setTimeout(f.checkNewConversations,b.checkInterval))}});return f};this.updatePageNumber=function(c){c=Number(c);0<c&&a('form.toolbar-filter-overlay input[name="pagenum"]',b.context).val(c);return f};this.checkNewConversations=function(){a("body").hasClass("edit-mode")||(console.log("Checking for new activity since "+u),f.applyFilters(!0));return f};this.toggleNewConversations=function(c){c?(b.autoCheck=!0,v=setTimeout(f.checkNewConversations,b.checkInterval)):(b.autoCheck=!1,clearTimeout(v));
return f};this.hideFilterOverlay=function(){a(".conversation-toolbar-wrapper .toolbar-filter-overlay",b.context).filter(":visible").each(function(){a(this).prev(".conversation-toolbar").find(".toolbar-filter").triggerHandler("click.conversation_filter",[0])});return f};this.getOption=function(c){return b[c]};this.setOption=function(c,e){b[c]=e;return f};b.autoCheck&&(u=pageData.current_server_datetime,v=setTimeout(f.checkNewConversations,b.checkInterval))};vBulletin.conversation.displaySelectedFilterText=
function(r,x,f){var u=a(r);if(1!=u.data("bypass-filter-display")){f=f||u.closest(".conversation-toolbar-wrapper");var v=a(".filtered-by",f).removeClass("h-hide").find(".filter-text-wrapper").show(),z=a(".filter-text[data-filter-name={0}]".format(r.name),v);if("radio"==r.type){x=u.next("span").html();var w=a('<div class="filter-text" data-filter-name="{0}" data-filter-value="{1}"><span title="{2}">{3}</span><span class="js-remove-filter b-icon b-icon__x-circle"></span></div>'.format(r.name,vBulletin.htmlEntities(r.value),
u.closest(".filter-options").prev(".filter-header").html()+" - "+x,("filter_new_topics"==r.name||"filter_depth"==r.name||-1!=r.value.indexOf("_all")&&"time_all"!=r.value?(u.closest("li").find(".filter-header").html()||"")+" - ":"")+x))}else"text"==r.type&&(x="&quot;"+JShtmlEncode(x)+"&quot;",w=a('<div class="filter-text" data-filter-name="{0}" data-filter-value="{1}"><span title="{2}">{3}</span><span class="js-remove-filter b-icon b-icon__x-circle"></span></div>'.format(r.name,vBulletin.htmlEntities(r.value),
u.data("filter-name")+": "+x,x)).data("filter-type","text"),(u=u.attr("class").match(/js-.*/))&&w.data("filter-js-selector","."+u[0]));if(0<z.length)z.replaceWith(w);else{var b=[],p=!1;a(".toolbar-filter-overlay > ul > li",f).each(function(){b.push(a("input:first",this).attr("name"))});a(".filter-text",v).each(function(){var B=a(this);if(a.inArray(r.name,b)<a.inArray(B.attr("data-filter-name"),b))return B.before(w),p=!0,!1});p||v.append(w);1<a(".filter-text",v).length&&v.next(".clear-all").removeClass("h-hide")}}}})(jQuery);
;

// ***************************
// js.compressed/conversationcommon.js
// ***************************
vBulletin.precache("answer_must_be_approved_published compare_versions edit_conversation error_loading_post flag_a_post onbeforeunload_message_while_editing_post people_who_liked please_enter_your_reason_why_you_want_to_flag_this_post send_report the_report_has_been_sent topic_answered you_have_a_pending_edit_unsaved".split(" "),[]);vBulletin.ensureObj("conversation");
$.extend(vBulletin.conversation,function(a,l){function D(b){function d(t,v,y,k){var m=a(".edit-conversation-container form",f).data("content-type");!1===vBulletin.triggerHandler.apply(k.get(0),["afterSave",a(document),t])?a("body").trigger(m+"_editform_onunload",[f]):(v=pageData,v["posts-perpage"]=vBulletin.conversation.POSTS_PER_PAGE,"thread"==x&&(v["comments-perpage"]=vBulletin.conversation.COMMENTS_PER_PAGE),t&&vBulletin.ajaxtools.hasError(t.warnings,"warning_spam_post")?vBulletin.ajaxtools.showApiError(t.warnings,
t,{title_phrase:"warning",after_error:function(){t.warningReturnUrl?location.href=t.warningReturnUrl:location.reload(!0)}}):l.AJAX({call:"/create-content/loadnode",data:{nodeid:u,view:x,index:A,page:v,type:c,isAjaxTemplateRender:!0,isAjaxTemplateRenderWithData:!0},success:function(q){var n=k.closest(".js-content-entry").data("current-channelid"),p=k.find('input[name="parentid"]:checked').val();if(0<n&&0<p&&n!=p)location.reload(!0);else{a("body").trigger(m+"_editform_onunload",[f]);n=a(q.template);
p=e.closest(".js-post");var w=p.parent();p.replaceWith(n);n=w.find(".js-post").filter((K,E)=>a(E).data("node-id")==u);q.hasOwnProperty("template_article_title_info")&&(p=a(".js-update-article-title-info"),w=a(q.template_article_title_info),0<p.length&&p.empty().append(w));a("body").trigger(m+"_newcontent_onload",[n]);a(document).trigger("vb-loadnode",{insertedHtml:n,context:"conversationcommon"});n.hasClass("js-conversation-starter")&&(p=a(".js-post-title",n).first().text(),w=p+" - "+vBulletin.options.get("bbtitle"),
"topic_url"in q&&(q=pageData.baseurl+q.topic_url,q!=location.href&&window.history.replaceState({},w,q)),document.title=w,a(".page-title-widget .js-main-title").text(p));a(".js-select-box",n).selectBox();vBulletin.animateScrollTop(n.offset().top,{duration:"slow"})}},title_phrase:"conversation",error_phrase:"error_loading_post"}))}var e=a(this),c,h=e.closest(".conversation-list");0<e.closest(".js-comments").length&&(c="comment");var r=a(".edit-conversation-container form",h);if(0<r.length)vBulletin.warning("edit_conversation",
"you_have_a_pending_edit_unsaved",function(){vBulletin.animateScrollTop(r.closest(".js-post").offset().top,{duration:"slow"})});else{b.preventDefault();var u=e.parent().attr("data-node-id"),f="comment"==c?e.closest(".js-comment"):e.closest(".js-post__content-wrapper");var x=h.hasClass("thread-view")?"thread":h.hasClass("full-activity-view")?"full-activity-stream":h.hasClass("activity-view")?"activity-stream":"stream";c=c||f.attr("data-node-type")||"";b=a(".js-show-post-link",f).text()||"1";var A=
Number(b.replace("#",""));("comment"!=c||"thread"!=x&&1!=h.closest(".blog-conversation-content-widget").length)&&A--;l.AJAX({call:"/create-content/loadeditor",data:{nodeid:u,type:c,view:x,isAjaxTemplateRender:!0,isAjaxTemplateRenderWithData:!0},success:function(t){var v=function(){if("undefined"==typeof vBulletin.upload||"undefined"==typeof vBulletin.tagEditor||"undefined"==typeof vBulletin.contentEntryBox.init)vBulletin.ckeditor.loadScripts("",{},v);else{f.addClass("b-post--edit");f.find(".js-post__content").first().addClass("b-post__content--edit");
f.find(".b-post__footer").first().addClass("b-post__footer--edit");$container=f.find(".edit-conversation-container").first();f.closest(".js-album-detail").find(".conversation-body, .profile-media-uploadphotos, .js-photo-preview").addClass("h-hide-imp");vBulletin.contentEntryBox.init();vBulletin.hv.init($container.find(".js-human-verification"));vBulletin.contentEntryBox.setDefaultTab($container.find(".js-content-entry").first());$container.show();var k=$container.find(".js-attach-list");vBulletin.upload.initializePhotoUpload(f);
var m=".js-post[data-node-id={0}] .tag-editor-container .tag-input".format(u);$tagEditorBox=a(m);0<$tagEditorBox.length&&"undefined"!=typeof vBulletin.tagEditor&&new vBulletin.tagEditor.instance(m);0<k.data("attach-count")&&(k=$container.find(".b-toolbar__item").filter(function(){return"b-content-entry-panel__content--attachment"==a(this).data("panel")}),k.hasClass("b-toolbar__item--active")||k.trigger("click"));vBulletin.contentEntryBox.afterPanelChange(f);vBulletin.flatpickr&&vBulletin.flatpickr.initPickers()}};
console.log("Edit mode: Adding Content Entry UI to DOM (contains parsed post text in the .js-editor-parsed-text element)");a(".edit-conversation-container",f).first().hide().html(t.template);var y=a(".edit-conversation-container form",f).data("content-type");a(window).off("beforeunload.editPost").on("beforeunload.editPost",function(){return vBulletin.phrase.get("onbeforeunload_message_while_editing_post")});a("body").trigger(y+"_editform_onload",[f,v]);vBulletin.ajaxForm.apply(a("form.js-contententry-form",
f),[{success:d,beforeSerialize:k=>{let m=k.find("[name=text]");m.val(m.val().replace(String.fromCharCode(8203),""));k.trigger("beforeSave");return!1!==a("body").triggerHandler(y+"_editform_onbeforeserialize",[k])},beforeSubmit:(k,m,q)=>{if(!1===vBulletin.contentEntryBox.validateForm.apply(m,[q]))return!1;a(window).off("beforeunload.editPost");return!0}}])},title_phrase:"edit_conversation"})}}function B(b,d=3){var e=0,c=a("ul.poll li",b),h=parseInt(c.css("line-height"),10);c.each(function(r){a(this).removeClass("h-hide");
r=a(this).height();e+=r/h;e>d?a(this).addClass("h-hide"):a(this).css("display","")});c=e>d;a(".view-more-ctrl",b).toggleClass("h-hide-imp",!c).next(".js-button-group").toggleClass("h-hide",c).next(".view-less-ctrl").toggleClass("h-hide-imp",c)}function z(b){return b.closest(".js-post").data("node-id")}function F(){var b=a(this),d=b.data("post-ip");b.data("post-host");g.register(["ip_info","ip_address_is","host_name_is","no_ip_found"]);d?(openAlertDialog({title:g.get("ip_info"),message:g.get("ip_address_is")+
": "+d+"<br />"+g.get("host_name_is")+': <span class="ip-host-name loading">...</span>',iconType:"none"}),l.AJAX({call:"/ajax/api/node/getHostName",data:{ip:d},success:function(e){a(".ip-host-name").removeClass("loading").html(e)}})):l.alert("ip_info","no_ip_found");return!1}function G(){var b=z(a(this)),d=C({title:g.get("flag_a_post"),message:g.get("please_enter_your_reason_why_you_want_to_flag_this_post"),buttonLabel:{okLabel:g.get("send_report"),cancelLabel:g.get("cancel")},multiline:!0,validation:{callback:C.validationString,
showError:!0},onClickOK:function(e){a("body").css("cursor","wait");l.AJAX({call:"/report/report",data:{reason:e,reportnodeid:b},success:function(c){d.dialog("close");l.alert("flag_a_post","the_report_has_been_sent")},complete:function(){a("body").css("cursor","default")},error_phrase:"unable_to_contact_server_please_try_again",title_phrase:"flag_a_post"});return!1}});return!1}function H(){var b=a(this).closest(".js-comment-entry__parent").find(".js-comment-entry");b.slideToggle("fast",function(){var d=
a(this).find(".js-comment-entry__textbox");d.is(":visible")&&d.trigger("focus")});b.find(".js-comment-entry__cancel").offon("click.convocom",function(d){b.slideToggle();return!1});return!1}function I(){function b(c,h,r){r.isAjaxTemplateRenderWithData=!0;l.AJAX({call:"/ajax/render/"+h,data:r,success:function(u){c.removeClass("loading").find(".dialog-content .message").html(u.template).end().dialog("option","position",{of:window})},after_error:function(){c.dialog("close")}})}var d=z(a(this)),e=openConfirmDialog({title:g.get("post_history"),
message:g.get("loading")+"...",width:800,dialogClass:"post-history-dialog dialog-container dialog-box loading",buttonLabel:{yesLabel:g.get("compare_versions"),noLabel:g.get("cancel")},onAfterClose:function(){if("btnConfirmDialogYes"==this.id){var c=e.find(".post-history-form");a("#btnConfirmDialogYes").hide();var h=openConfirmDialog({title:g.get("post_history"),message:g.get("loading")+"...",width:800,dialogClass:"post-history-comparison-dialog dialog-container dialog-box loading",buttonLabel:{yesLabel:g.get("compare_versions"),
noLabel:g.get("close")},onAfterClose:function(){a("#btnConfirmDialogYes").show()}});c={oldpost:c.find("input:radio[name=old]:checked").val()||1,newpost:c.find("input:radio[name=new]:checked").val()||1,nodeid:d};b(h,"post_history_form",c)}}});b(e,"post_history_form",{nodeid:d})}function J(){var b=a(this),d=z(b);b=!b.closest(".js-post").hasClass("isanswer");var e=vBulletin.getSelectedFilters(a(".toolbar-filter-overlay"));a("body").css("cursor","wait");l.AJAX({call:"/create-content/setExclusiveAnswer",
data:{nodeid:d,set:b?1:0,searchFilters:e,isAjaxTemplateRender:!0,isAjaxTemplateRenderWithData:!0},success:function(c){a(".js-post.isanswer").toggleClass("isanswer",!1);c.answers&&0<c.answers.length&&c.answers.forEach(u=>{a(".js-post[data-node-id="+parseInt(u,10)+"]").toggleClass("isanswer",!0)});let h=a(".js-post.pinned-answer");h.length&&h.hide("slow",()=>{h.remove()});if(c.template){var r=a(".js-conversation-starter");c=a(c.template);c.hide();c.insertAfter(r).show("slow")}},complete:function(){a("body").css("cursor",
"default")},error_phrase:"unable_to_contact_server_please_try_again",title_phrase:"setasanswer"});return!1}var g=l.phrase,C=l.openPromptDialog;return{initContentEvents:function(b){b.offon("click.convocom",".js-post-control__ip-address",F);b.offon("click.convocom",".js-post-control__edit",D);b.offon("click.convocom",".js-post-control__flag",G);b.offon("click.convocom",".js-post-control__comment",H);b.offon("click.convocom",".js-post__history",I);b.offon("click.convocom",".js-post-control__answer",
J)},initPollEvents:function(b){b.offon("click.convocom",".list-item-poll .view-more-ctrl",function(d){var e=a(this).closest("form.poll");d=e.find("ul.poll");a(this).addClass("h-hide-imp");d.css("max-height","none").find("li.h-hide").slideDown(100,function(){e.find(".js-button-group").removeClass("h-hide").next(".view-less-ctrl").removeClass("h-hide-imp");l.animateScrollTop(e.offset().top,{duration:"fast"})});return!1});b.offon("click.convocom",".list-item-poll .view-less-ctrl",function(d){d=a(this).closest("form.poll");
B(d,3);d.find("ul.poll").css("max-height","").find("li.h-hide").slideUp(100);return!1})},limitVisiblePollOptionsInAPost:B}}(jQuery,vBulletin));
;

// ***************************
// js.compressed/channel_conversation.js
// ***************************
vBulletin.precache(["closed","this_topic_is_closed"],[]);
(function(b){if(!vBulletin.pageHasSelectors([".forum-channel-content-widget",".blog-channel-content-widget",".sg-channel-content-widget",".search-results-widget .topic-list-container"]))return!1;var x={};vBulletin.conversation.editTopicTitle=function(h){h=b(h.target).closest(".js-topic-item");var a=h.find(".js-topic-wrapper"),k=h.data("node-id");h.data("can-edit-title")&&!x[k]&&(x[k]="edit",0==a.find(".js-loading-icon").length&&b('<img class="loading-icon js-loading-icon" src="'+pageData.baseurl+
'/images/misc/progress.gif" />').appendTo(a),a.find(".js-loading-icon").show(),vBulletin.AJAX({call:"/create-content/loadtitleedit",data:{nodeid:k,isAjaxTemplateRender:!0},success:function(c){a.find(".js-topic-title").hide();a.find(".js-loading-icon").hide();a.find(".js-topic-title").after(c);c=a.find(".js-topic-title-edit");c.data("original-title",c.val());var l=30;a.find(".js-prefix, .js-post-icon, .js-topic-prefix, .js-go-to-first-unread").each(function(){l+=b(this).outerWidth(!0)});c.outerWidth(c.outerWidth()-
l);a.find(".js-topic-title-edit-form").on("submit",vBulletin.conversation.saveTopicTitle);c.on("blur",vBulletin.conversation.saveTopicTitle);c.trigger("select").trigger("focus")}}))};vBulletin.conversation.saveTopicTitle=function(h){h.preventDefault();var a=b(h.target).closest(".js-topic-wrapper");h=a.find(".js-topic-title-edit-form");var k=h.find(".js-node-id").val(),c=h.find(".js-topic-title-edit").val();"save"!=x[k]&&(x[k]="save",a.find(".js-topic-title-edit").data("original-title")==c?(a.find(".js-loading-icon").remove(),
a.find(".js-topic-title-edit-form").remove(),a.find(".js-topic-title").show(),x[k]=!1):(a.find(".js-loading-icon").appendTo(h).show(),vBulletin.AJAX({call:"/create-content/savetitleedit",data:{nodeid:k,title:c},success:function(l){a.find(".js-topic-title-edit-form").remove();a.find(".js-topic-title").html(l.title).show()},complete:function(){a.find(".js-loading-icon").remove();x[k]=!1}})))};vBulletin.conversation.openOrCloseTopic=function(h){h.stopPropagation();var a=b(this),k=a.closest(".js-topic-item"),
c=k.find(".js-topic-wrapper");h=k.data("node-id");var l=k.hasClass("closed");0==c.find(".js-loading-icon").length&&b('<img class="loading-icon js-loading-icon" src="'+pageData.baseurl+'/images/misc/progress.gif" />').appendTo(c);var r=c.find(".js-loading-icon");r.show();vBulletin.AJAX({call:"/ajax/api/node/"+(l?"openNode":"closeNode"),data:{nodeid:h},error_phrase:"error_open_close_topic",api_error:function(d){var f=vBulletin.ajaxtools;if(f.hasError(d,"inlinemodauth_required"))return!0;f.logApiError(d)},
complete:function(){r.hide()},success:function(d){k.toggleClass("closed",!l);d=a.attr("title")||"";var f=vBulletin.phrase.get("this_topic_is_closed");subStrIndex=d.indexOf(f);l&&0<=subStrIndex?(d=(d.slice(0,subStrIndex)+d.slice(subStrIndex+f.length)).trim(),a.attr("title",d)):!l&&0>subStrIndex&&a.attr("title",f+" "+d);d=c.find(".js-prefix");f=[];var v=vBulletin.phrase.get("closed");if(d.length){var g=d.text().trim();":"==g.charAt(g.length-1)&&(g=g.substring(0,g.length-1));0<g.length&&(f=g.split(", "));
if(!l)f.push(v);else if(0<f.length)for(g=f.length-1;0<=g;g--)f[g]==v&&f.splice(g,1)}else d=b('<span class="prefix js-prefix"></span>'),g=c.find(".js-go-to-first-unread"),g.length?d.insertAfter(g):d.prependTo(c),l||f.push(v);d.text(f.join(", ")+": ");d.toggle(0!=f.length)}})};b(function(){vBulletin.conversation=vBulletin.conversation||{};var h=vBulletin.tabtools,a=b(".channel-content-widget .channel-conversation-list-wrapper"),k=b("#media-tab",a),c,l,r,d,f,v,g,G,z=!0,A,t=a.find(".widget-tabs-nav .ui-tabs-nav > li"),
B=t.filter(".ui-tabs-active"),C=B.index(),y="1"==t.parent().data("allow-history"),I=new vBulletin.history.instance(y);-1==C&&(C=0,B=t.first());var D=B.find("> a").attr("href");var H=function(e){return a.offset().top+(a.outerHeight()-parseFloat(a.css("border-bottom-width")))-e.height()},E=function(e,u){var w=u.filter;u.pagination&&u.pagination.setOption("context",e);w.setOption("context",e);"undefined"!=typeof w.lastFilters&&0<b(".conversation-empty:not(.h-hide)",e).length&&delete w.lastFilters},F=
function(e,u,w,m,n,q,p){q=b(".conversation-list",e);return h.newTab(e,u,w,m,n,q,p,b.noop,y)};h.initTabs(a,I,t,y,C,D,[d,l,v],!0,function(e,u,w){var m=b(w),n="#"+m.prop("id");e=D==n;"#activity-stream-tab"!=n&&"#article-tab"!=n&&r&&d.toggleNewConversations(!1);"#topic-tab"!=n&&c&&l.toggleNewConversations(!1);if("#activity-stream-tab"==n||"#article-tab"==n)r?E(m,r):(r=F(m,a,!0,!0,e,null),d=r.filter),d.applyFilters(!1,!0);else if("#subscribed-tab"==n)f?E(m,f):(f=F(m,a,!0,!0,e,null),v=f.filter),v.applyFilters(!1,
!1);else if("#topic-tab"==n)c?E(m,c):(c=F(m,a,!0,!0,e,function(){vBulletin.markreadcheck()}),l=c.filter),l.applyFilters(!1,!0);else if("#media-tab"==n){if(g)z=!0;else{g=b(".conversation-toolbar-wrapper.scrolltofixed-floating",k);G=new vBulletin.scrollToFixed({element:g,limit:H(g)});var q=new vBulletin.history.instance(y);if(q.isEnabled()){e=q.getState();if(!e||b.isEmptyObject(e.data))e={from:"filter",page:1,tab:n,filters:vBulletin.getSelectedFilters(b("form.toolbar-filter-overlay",m))},q.setDefaultState(e,
document.title,location.href);q.setStateChange(function(p,J,K){p=q.getState();"filter"==p.data.from&&(q.log(p.data,p.title,p.url),n!=p.data.tab?vBulletin.selectTabByIndex.call(b(u).closest(".ui-tabs-nav"),u.index()):(p=b('.media-filter-overlay input[name="filter_time"][value="{0}"]'.format(p.data.filters.filter_time),m).prop("checked",!0),p.hasClass("js-default-checked")&&p.prop("defaultChecked")?b(".filtered-by .x",m).trigger("click"):p.trigger("change",[!0])))},"filter")}D==n&&(z=!1)}z&&0==b("#profileMediaDetailContainer .js-album-detail",
m).length&&(A||(A=vBulletin.media.calculatePhotosPerPage(vBulletin.media.TARGET_PHOTOS_PERPAGE)),vBulletin.media.loadGalleryById({nodeid:-2,channelid:pageData.channelid,pageno:1,dateFilter:b(".filter-options input[name=filter_time]:checked",m).val()||"time_lastweek",perpage:A},!0,{complete:function(){b(".profile-toolbar .media-toolbar-filter",k).removeClass("h-hide");G.updateLimit(H(g))}}))}});t=b(".conversation-list",a);vBulletin.conversation.initPollEvents(t);vBulletin.conversation.initContentEvents(t);
t.off("click",".js-comment-entry__post").on("click",".js-comment-entry__post",function(e){vBulletin.conversation.postComment.apply(this,[e,function(){d.updatePageNumber(1).applyFilters(!1,!0)}])});vBulletin.conversation.bindEditFormEventHandlers("all");b(document).offon("dblclick",".js-cell-topic a",e=>e.stopPropagation());b(document).offon("dblclick",".js-cell-topic",vBulletin.conversation.editTopicTitle);b(document).offon("dblclick",".js-open-close-topic",vBulletin.conversation.openOrCloseTopic)})})(jQuery);
;

// ***************************
// js.compressed/tabs.js
// ***************************
/*/

/*
 This is intended to be self contained and should not refer to the
 vBulletin object, pageData or other framework.

 The filters for the toolbars are intimately connected to the tabs and are so included here.
 Not calling it tabfiltertools for brevity.

 This depends on the jquery ui tabs widget
*/
vBulletin.tabtools=function(t,y,F,G,H){function z(a){var b=$(".conversation-toolbar-wrapper",a);return"1"==(b.length?b:a).data("allow-history")}function A(a,b,l,f,n){var d=location.pathname.replace(/\/$/,"").replace(/\/page[0-9]+/,""),c=$(".toolbar-filter-overlay",a),k=I(c,!0);c=$(".pagenav-form .js-pagenum",a).val()||1;var p=$(".toolbar-search-form .js-filter-search",a).val()||"",e=$(a).closest(".canvas-widget"),g=z(a);g=new y.instance(g);e=e.data("widget-default-tab")||e.find(".ui-tabs-nav > li:first-child a").attr("href");
$.isEmptyObject(k)&&$(".conversation-toolbar .js-button-filters",a).each(function(){var h=$(".js-button-filter.js-checked:not(.js-default-checked)",this);h.length&&(k[h.data("filter-name")]=h.data("filter-name"))});l||(a=new RegExp("\\/("+f.join("|")+")/?$"),d=(a=d.match(a))?d.replace(new RegExp(a[0]),"/"+b):d+("/"+b));1<c&&g.isEnabled()&&(d+="/page"+c);l&&b&&e!="#"+b&&(k.tab=b,g.isEnabled()||(d+="?tab="+b));if(!g.isEnabled())return d+(n?"#"+n:"");p&&(k.q=p);b=$.param(k);return d+(b?"?"+b:"")+(n?
"#"+n:"")}function J(a,b,l,f,n,d){var c=$(this);if(c.length){var k=a instanceof y.instance;if(k&&a.isEnabled()){var p=d.create;d.create=function(g,h){var q=B(location.search,["_"]),w=Object.keys(q).length,u=K(c,f),v=a.getState();!(f&&1<w&&"undefined"!=typeof q.tab||!f&&0<w)||v&&!$.isEmptyObject(v.data)||a.setDefaultState({from:"tabs",tab:u},document.title,location.href);a.setStateChange(function(m){m=a.getState();if("tabs"==m.data.from){a.log(m.data,m.title,m.url);var C=l(m.data.tab),x=B(m.url,["tab",
"_"]);if(c.tabs("option","selected")!=C)L.call(c,C),$.isEmptyObject(x)||$(window).trigger("statechange.filter",["tabs",x]);else if($.isEmptyObject(x)){var r;m.data.tab&&(r=f?$(m.data.tab):$('.ui-tabs .ui-tabs-panel[data-url-path="'+m.data.tab+'"]'));r=r&&r.length&&r||$(c.closest(".canvas-widget").data("widget-default-tab"));m=$(".toolbar-filter-overlay .filter-options .js-default-checked",r);m.length?(m.prop("checked",!0).first().data("bypass-filter-display",!0).trigger("change",[!0]).data("bypass-filter-display",
null),$(".filtered-by",r).addClass("h-hide").find(".filter-text-wrapper").empty()):$(".conversation-toolbar .js-default-checked",r).first().trigger("click",[!0])}else $(window).trigger("statechange.filter",["tabs",x])}},"tabs");p.call(c[0],g,h)}}if(b&&k){var e=d.beforeActivate;d.beforeActivate=function(g,h){var q=h.newPanel,w=h.newTab;if(!1===e.call(this,g,h))return!1;h=f?q.attr("id"):w.find(".ui-tabs-anchor").data("url-path");var u=void 0;f||(u=[],c.find(".ui-tabs-nav > li > a, .widget-tabs-panel").each(function(v,
m){v=$(this).data("url-path");-1==$.inArray(v,u)&&u.push(v)}));if(!a.isEnabled())return q=A(q,h,f,u,n),location.href=q,!1;c.data("noPushState")?c.data("noPushState",null):(g={from:"tabs",tab:"#"+h},q=A(q,h,f,u),a.pushState(g,document.title,q))}}c.tabs(d);c.trigger("vb-tabinit")}return c}function D(a,b){return a.offset().top+(a.outerHeight()-parseFloat(a.css("border-bottom-width")))-b.height()}function M(a,b,l,f,n,d){f=$(".conversation-toolbar-wrapper.scrolltofixed-floating",a);var c=null,k=null,p=
null;b&&0<f.length&&(c=new H({element:f,limit:D(b,f)}));l&&(p=new G({context:a,allowHistory:n,onPageChanged:function(e,g){k.updatePageNumber(e);g||k.applyFilters(!1,!0,!1,!0)}}));k=new F({context:a,autoCheck:!1,scrollToTop:b,pagination:p,allowHistory:n,onContentLoad:d});return{$bar:f,$floating:c,pagination:p,filter:k}}function N(a){a.css("border-bottom","").filter(".stream-view.activity-view").find(".list-item-poll form.poll").each(function(b,l){$(this).is(":visible")&&$(".view-less-ctrl",this).hasClass("h-hide-imp")&&
O(this,3)})}function E(a){a&&(P(a),N(a))}var B=t.parseQueryString,P=t.truncatePostContent,O=t.conversation.limitVisiblePollOptionsInAPost,K=t.getSelectedTabHashOrPath,I=t.getSelectedFilters,L=t.selectTabByIndex;ensureFun=t.ensureFun;return{initTabs:function(a,b,l,f,n,d,c,k,p){l.removeClass("ui-state-disabled");J.call(a,b,f,function(e){e=e||d;return l.filter('li:has(a[href*="'+e+'"])').first().index()},k,a.find(".js-module-top-anchor").prop("id"),{active:n,beforeActivate:function(e,g){for(var h;h<
c.length;h++)c[h]&&c[h].hideFilterOverlay()},create:function(e,g){p($(this),g.tab,g.panel)},activate:function(e,g){p($(this),g.newTab,g.newPanel)}})},newTab:function(a,b,l,f,n,d,c,k,p){var e=M(a,b,l,f,p,function(){e.$floating&&e.$floating.updateLimit(D(b,e.$bar));E(d);ensureFun(c)()});n&&(l=e.filter,E(d),ensureFun(k)(),l.lastFilters={filters:l.getSelectedFilters($(".toolbar-filter-overlay",a))});return e},tabAllowHistory:z}}(vBulletin,vBulletin.history,vBulletin.conversation.filter,vBulletin.pagination,
vBulletin.scrollToFixed);
;

// ***************************
// js.compressed/link.js
// ***************************
vBulletin.precache(["attach_link","please_enter_link_url"],[]);(function(a){a(function(){vBulletin.conversation.bindEditFormEventHandlers("link");a(".b-content-entry .b-content-entry-panel__content--link").each(function(){a("body").trigger("link_editform_onload",[a(this)])})})})(jQuery);
;

// ***************************
// js.compressed/media.js
// ***************************
vBulletin.precache(["saving"],["commentminchars"]);vBulletin.ensureObj("media");
$.extend(vBulletin.media,function(b){function A(a){m&&m.length||(m=b("#mediaCurrentPage",a),p=b("#mediaPageCount",a),q=b("#mediaPreviousPage",a),v=b("#mediaNextPage",a))}function n(a){b("body").css("cursor","wait");var c=b(".js-profile-media-container",h);vBulletin.AJAX({call:"/ajax/render/profile_media_content",data:{userid:c.data("user-id"),pageno:a,perpage:c.data("perpage"),isAjaxTemplateRenderWithData:!0},success:function(d){b("#mediacontent").html(d.template);b("#profileMediaDetailContainer").empty();
b("#mediacontent").removeClass("h-hide");x(!1);f.currentMediaPage=a;r(b("#mediaList"),f.currentMediaPage);vBulletin.isScrolledIntoView(b("#profileTabs .profile-tabs-nav"))||b("html,body").animate({scrollTop:b("#profileTabs .profile-tabs-nav").offset().top},"slow")},complete:function(){b("body").css("cursor","auto")},title_phrase:"profile_media"})}function B(a){var c=a.currentTarget.id;if(b("#profileMediaDetailContainer").is(":visible"))return E(a),!1;"mediaCurrentPage"==c?(a=parseInt(m.val(),10),
0<a&&a<=parseInt(p.html(),10)?(n(a),y(a)):m.val(f.currentMediaPage)):"mediaPreviousPage"==c?1<f.currentMediaPage?(a=f.currentMediaPage-1,n(a),y(a)):q.addClass("h-disabled"):"mediaNextPage"==c&&(f.currentMediaPage<parseInt(p.html(),10)?(a=f.currentMediaPage+1,n(a),y(a)):v.addClass("h-disabled"));return!1}function y(a){var c=vBulletin.makePaginatedUrl(location.href,a);k.isEnabled()?(a={from:"media_filter",page:a||1,tab:h.data("url-path")?h.data("url-path"):"#"+h.attr("id")},k.pushState(a,document.title,
c)):t&&(location.href=c)}function E(a){if(!f.currentNodeId&&!f.currentUserId)return!1;a=a.currentTarget.id;var c=f.currentGalleryPage,d={pageno:null,perpage:vBulletin.media.calculatePhotosPerPage(vBulletin.media.TARGET_PHOTOS_PERPAGE)};if("mediaCurrentPage"==a){var e=parseInt(m.val(),10);if(0>=e||e>parseInt(p.html(),10))return m.val(c),!1}else if("mediaPreviousPage"==a)if(1<c)e=c-1;else return q.addClass("h-disabled"),!1;else if("mediaNextPage"==a)if(c<parseInt(p.html(),10))e=c+1;else return v.addClass("h-disabled"),
!1;d.pageno=e;u(d);return!1}function x(a){b("#profileMediaDetailContainer").toggleClass("h-hide",!a);b("#profileMediaContainer").toggleClass("h-hide",a);q.closest("pagenav-controls").toggleClass("h-hide",a);b('.js-media-toggle[data-show-on="in-album"]').toggleClass("h-hide-imp",!a);b('.js-media-toggle[data-show-on="mediahome"]').toggleClass("h-hide-imp",a)}function r(a,c){a=Number(a.data("totalpages"))||Math.max(c,1);b(".media-tab .pagenav-controls-container");q.toggleClass("h-disabled",1>=c);v.toggleClass("h-disabled",
c>=a);m.val(c);p.text(a)}function u(a,c,d){var e=b("#profileMediaDetailContainer");c={nodeid:f.currentNodeId,userid:f.currentUserId,channelid:f.currentChannelid,pageno:1,dateFilter:h.find(".media-filter-overlay input[name=filter_time]:checked").val(),albumid:0};var g=b(".media-tab");a=b.extend({},c,a);if(!isNaN(a.nodeid)){let w;if(0!=a.nodeid){w=-1==a.nodeid?"profile_media_videolist":"profile_textphotodetail";b("body").css("cursor","wait");0==e.closest(".media-tab").length&&g.append(f.profileMediaDetailContainer);
b("#profileMediaContainer").closest(".tab").find("li.list-item-gallery").remove();var l=a.pageno;c={nodeid:a.nodeid,userid:a.userid,channelid:a.channelid,pageno:l,albumid:a.albumid,isAjaxTemplateRenderWithData:!0};a.dateFilter&&(c.dateFilter=a.dateFilter);a.perpage&&(c.perpage=a.perpage);vBulletin.AJAX({call:"/ajax/render/"+w,data:c,success:function(F){f.currentNodeId=a.nodeid;f.currentUserId=a.userid;f.currentGalleryPage=l;e.html(F.template);e.addClass("list-item").attr("data-nodeid",a.nodeid);b(".profile-media-uploadphotos",
e).on("click",G);x(!0);a.perpage&&(g.data("perpage",a.perpage),g.data("callbacks",d));vBulletin.initFlexGridFixLastRowAll();-1==a.nodeid?r(b(".media-video-list",e),l):r(b(".js-album-detail",e),l);b(".profile-toolbar .media-toolbar-filter").removeClass("h-hide");d&&"function"==typeof d.success&&d.success()},after_error:function(){d&&"function"==typeof d.error&&d.error()},complete:function(){b("body").css("cursor","auto");d&&"function"==typeof d.complete&&d.complete()},title_phrase:"profile_media"})}}}
function G(a){b(document).data("gallery-container",b(this).closest(".js-album-detail"));var c=vBulletin.upload.getUploadedPhotosDlg(!1);(a=c.data("nodeid"))&&!isNaN(parseInt(a))&&vBulletin.AJAX({call:"/ajax/render/media_addphotos",data:{nodeid:a,isAjaxTemplateRenderWithData:!0},success:function(d){c.html(d.template);vBulletin.upload.initializePhotoUpload(c.parent());d=c.find(".js-save-button");d.off("click").on("click",H);c.find(".js-cancel-button").off("click").on("click",function(e){c.dialog("close")});
vBulletin.upload.relocateLastInRowClass(c.find(".photo-item-wrapper"));0<b(".photo-display .photo-item-wrapper:not(.h-hide)",c).length?(vBulletin.upload.setUploadButtonText(c,"upload_more"),d.show()):d.hide();c.dialog("open");vBulletin.upload.adjustPhotoDialogForScrollbar(c)},after_error:function(){c.dialog("close")},title_phrase:"profile_media"})}function I(a){a=C(b(this));a.pageno=1;a.perpage=vBulletin.media.calculatePhotosPerPage(vBulletin.media.TARGET_PHOTOS_PERPAGE);f.currentFilter=a;u(a)}function H(a){var c=
b(a.target).closest(".profile-media-photoupload-dialog"),d=b(a.target).closest("form");if(0<d.length){b(a.target).closest(".photo-display-container").find(".photo-item-wrapper:not(.h-hide)").each(function(g,l){g=parseInt(b(l).find(".filedataid").val(),10);isNaN(g)||(d.append('<input type="hidden" name="filedataid[]" value="'+g+'"/>'),b('<input type="hidden" name="title_'+g+'" />').val(b(l).find("textarea").val()).appendTo(d))});var e=b("button",d).prop("disabled",!0);vBulletin.AJAX({url:d.attr("action"),
data:d.serializeArray(),success:function(){c.dialog("close");n(f.currentMediaPage)},complete:function(){e.prop("disabled",!1)},title_phrase:"profile_media"})}else c.dialog("close")}function C(a){var c;b("#profileMediaContainer").is(":visible")?c=b("#profileMediaContainer"):b("#profileMediaDetailContainer").is(":visible")&&(c=b("#profileMediaDetailContainer"));a={nodeid:parseInt(a.data("nodeid"),10)||parseInt(c.attr("data-nodeid"),10),userid:parseInt(c.data("userid"),10),channelid:parseInt(c.data("channelid"),
10),albumid:parseInt(a.data("albumid"),10)};isNaN(a.channelid)&&(a.channelid=0);isNaN(a.nodeid)&&(a.nodeid=0);0<a.nodeid?a.userid=0:isNaN(a.userid)&&(a.userid=0);isNaN(a.albumid)&&(a.albumid=0);return a}function J(){var a=b("#profileMediaDetailContainer");let c=parseInt(a.data("channelid"),10),d=parseInt(a.data("nodeid"),10),e=a.find(".js-album-detail");a=parseInt(a.find(".albumSlideShowPageNo").val()||1,10);c&&d&&(f.currentNodeId=d,f.currentChannelid=c,r(e,a),D=!0)}if(!vBulletin.pageHasSelectors(["#media-tab",
".album-widget"]))return!1;var h=b("#media-tab"),m,p,q,v,t,k,z,f={mediaTypeFilter:!1,currentMediaPage:1,currentGalleryPage:1,currentNodeId:0,currentUserId:0,currentChannelid:0,profileMediaDetailContainer:!1},D=!1;b(document).on("vb-instrument",a=>{A(b(a.target))});A(h);f.currentMediaPage=Number(m.val())||1;vBulletin.media.calculatePhotosPerPage=function(a){a=a||50;if(D)return a;var c=b("#profileMediaDetailContainer").is(":visible");c||b("#profileMediaDetailContainer").removeClass("h-hide");var d=
Math.floor(b("#profileMediaDetailContainer").width()/128);c||b("#profileMediaDetailContainer").addClass("h-hide");return 0==a%d||a<=d?a:a-a%d};vBulletin.media.setHistoryStateChange=function(){t="1"==h.find(".conversation-toolbar-wrapper").data("allow-history");k=new vBulletin.history.instance(t);k.isEnabled()&&k.setStateChange(function(a){var c=k.getState();if("media_filter"==c.data.from){k.log(c.data,c.title,c.url);a=h.closest(".ui-tabs");var d=a.find(".ui-tabs-nav > li").filter('li:has(a[href*="#{0}"])'.format(h.attr("id")));
d.hasClass("ui-tabs-active")?n(c.data.page):(c=d.index(),vBulletin.selectTabByIndex.call(a,c))}},"media_filter")};b(function(){b(document).off("click","#mediaList .albumLink").on("click","#mediaList .albumLink",I);var a=!1;h.off("click",".profile-media-createvideo, .profile-media-upload").on("click",".profile-media-createvideo, .profile-media-upload",function(c){var d=b(this).hasClass("profile-media-upload")?"gallery":"video";a||(a=b(c.target).closest(".ui-widget-content").find(".profileMediaEditContainer").dialog({modal:!0,
autoOpen:!1,width:800,title:vBulletin.phrase.get("profile_media"),resizable:!1,closeOnEscape:!1,showCloseButton:!1,dialogClass:"dialog-container dialog-box edit-media-upload-dialog js-profile-media",close:function(){b(document).data("gallery-container",null)}}),vBulletin.ckeditor.initEditor(a.find(".js-ckeditor-init-on-focus")),vBulletin.upload.initializePhotoUpload(a));a.off("dialogopen").on("dialogopen",function(e,g){a.find('.b-toolbar__item[data-panel="b-content-entry-panel__content--{0}"]:not(.b-toolbar__item--active)'.format(d)).trigger("click");
vBulletin.ckeditor.initEditorComponents(a);b(document).data("gallery-container",b(this).find(".b-content-entry-panel__content--"+d))}).dialog("open")});h.off("click",".profile-media-backbtn").on("click",".profile-media-backbtn",function(c){b(".profile-toolbar .media-toolbar-filter").addClass("h-hide");x(!1);b(this).closest(".conversation-toolbar-wrapper").find(".filtered-by").addClass("h-hide").find(".filter-text-wrapper").empty();r(b("#mediaList"),f.currentMediaPage)});h.offon("change","#mediaCurrentPage",
B);h.offon("click","#mediaPreviousPage, #mediaNextPage",B);f.profileMediaDetailContainer=b("#profileMediaDetailContainer").clone();b(document).off("afterSave",".js-album-detail .js-post__content-wrapper .js-content-entry form").on("afterSave",".js-album-detail .js-post__content-wrapper .js-content-entry form",function(c,d){u(f.currentFilter);return!1});b(document).off("afterCancel",".js-album-detail .js-post__content-wrapper .js-content-entry form").on("afterCancel",".js-album-detail .js-post__content-wrapper .js-content-entry form",
function(c){b(c.currentTarget).closest(".js-album-detail").find(".conversation-body, .profile-media-uploadphotos, .js-photo-preview").removeClass("h-hide-imp");return!0});b(document).off("afterSave",".js-profile-media .js-content-entry form").on("afterSave",".js-profile-media  .js-content-entry form",function(c,d){if("b-content-entry-panel__content--gallery"==b(".b-toolbar__item--active",this).data("panel")){c=b("#mediaList");var e=Number(c.data("totalpages"));c=0==Number(c.data("totalcount"))%vBulletin.media.ALBUMS_PERPAGE?
e+1:e;d.alert&&vBulletin.alert("media",d.alert,"alert");n(c)}else n(1);return!1});h.length&&(vBulletin.media.setHistoryStateChange(),z=h.closest(".canvas-widget").find(".js-module-top-anchor").attr("id"),h.offon("click",".media-toolbar-filter",function(c){let d=b(".filter-wrapper",this);d.toggleClass("selected");d.attr("aria-expanded",d.is(".selected"));b(".js-expanded-indicator",this).toggleClass("fa-caret-down fa-caret-up");b(c.target).closest(".conversation-toolbar-wrapper").find(".toolbar-filter-overlay").slideToggle("slow",
function(){if(b(this).is(":visible")){b("body").off("click.media_filter").on("click.media_filter",function(g){0==b(g.target).closest(".toolbar-filter-overlay").length&&0==b(g.target).closest(".toolbar-filter").length&&(b("body").off("click.media_filter"),b(".media-toolbar-filter").trigger("click"))});var e={};vBulletin.isScrolledIntoView(this,e)||b("html,body").animate({scrollTop:"+="+Math.abs(e.bottom)},"fast")}else b("body").off("click.media_filter")})}),b("form.media-filter-overlay",h).trigger("reset"),
h.offon("change",".media-filter-overlay input[type=radio]",function(c,d){if(!k.isEnabled()&&t){var e=vBulletin.makePaginatedUrl(location.href,1);location.href=vBulletin.makeFilterUrl(e,this.name,this.value,g,z);return!0}c=C(b(c.target));var g=b(".media-tab");g.data("perpage")&&(c.perpage=g.data("perpage"));u(c,!0,g.data("callbacks"));b(this).data("bypass-filter-display")||vBulletin.conversation.displaySelectedFilterText(this,this.value);if(k.isEnabled()&&!d){e=vBulletin.getSelectedFilters(b("form.toolbar-filter-overlay",
g));d=this.name;c=this.value;var l=b(".conversation-toolbar-wrapper .filtered-by",g),w={from:"filter",page:1,tab:g.data("url-path")?g.data("url-path"):"#"+g.attr("id"),filters:e,filtervalue:c,filtername:d};l.data("reset")?e=location.pathname.replace(/\/page[0-9]+/,""):(e=vBulletin.makePaginatedUrl(location.href,1),e=vBulletin.makeFilterUrl(e,d,c,g));k.pushState(w,document.title,e);l.data("reset",null)}}),h.offon("click",".filtered-by .js-remove-filter",function(c){c=b(this).closest(".filtered-by");
var d=b(this).closest(".filter-text"),e=d.data("filter-name");if(!k.isEnabled()&&t)return location.href=vBulletin.makeFilterUrl(location.href,e,d.data("filter-value"),h,z),!1;$defaultSelectedFilter=b(".toolbar-filter-overlay .filter-options input[name={0}]".format(e),h).prop("checked",!1).filter(".js-default-checked");d.remove();d=c.find(".filter-text").length;0==d?(c.addClass("h-hide"),c.data("reset",!0)):1==d&&c.find(".clear-all").addClass("h-hide");1==$defaultSelectedFilter.length&&($defaultSelectedFilter.data("bypass-filter-display",
!0),$defaultSelectedFilter.trigger("click"),$defaultSelectedFilter.data("bypass-filter-display",null))}),b("#profileMediaContainer").length||J());vBulletin.initFlexGridFixLastRowAll()});return{loadGalleryById:u}}(jQuery));
;

// ***************************
// js.compressed/sb_activity.js
// ***************************
vBulletin.precache(["blog_memberblogLabel","forum"],[]);
(function(b,w){if(!vBulletin.pageHasSelectors([".forum-activity-stream-widget",".bloghome-widget",".search-widget"]))return!1;b(function(){vBulletin.conversation=vBulletin.conversation||{};let h=b(".activity-stream-widget"),x,q,y,p,k,B,C;if(h.hasClass("forum-activity-stream-widget")||h.hasClass("bloghome-widget")){var l=h.find(".widget-tabs-nav .ui-tabs-nav > li"),z=l.filter(".ui-tabs-active"),A=z.index(),t={},D="1"==l.parent().data("allow-history"),Q=new vBulletin.history.instance(D),E=!1,F=null,
G=null;-1==A&&(A=0,z=l.first());var r=z.find("> a").attr("href");var H=function(c,a){var f=a.filter;a.pagination&&a.pagination.setOption("context",c);f.setOption("context",c);"undefined"!=typeof f.lastFilters&&0<b(".conversation-empty:not(.h-hide)",c).length&&delete f.lastFilters},I=function(c,a,f,d,e,g,m){var n=b(".conversation-list",c);return w.newTab(c,a,d,e,g,n,m,b.noop,f)},K=function(c,a){vBulletin.conversation.filter({context:a,autoCheck:!1,scrollToTop:c,pagination:!1,allowHistory:!1,tabParamAsQueryString:!0,
beforeApplyFilters:function(){J();return!1},afterResetFilters:function(){J()}})},L=function(c){var a=b(".toolbar-pagenav",c);0<a.length&&new vBulletin.pagination({context:c,allowHistory:void 0,onPageChanged:function(f,d){if(!d){d=b(".js-button-filter-my.js-checked",c).data("filter-value");var e=b(".js-button-filter-display-blogs.js-checked",c).data("filter-value"),g=a.closest(".activity-stream-widget");u(g,c,f,d,!1,!0,e)}}})},M=function(c,a){vBulletin.memberChannel.updateToolbarPagination(c);vBulletin.memberChannel.updateToolbarButtonPressState(c);
a&&K(b(".bloghome-widget"),b("#memberblog-tab"));a=c.find(".js-button-filter-display-blogs.js-checked").data("filter-value")||"display_grid";c.find(".js-flexgrid").toggleClass("b-groupgrid b-flexgrid","display_grid"==a);vBulletin.initFlexGridFixLastRowAll(!0);vBulletin.initFrameImagesWithColor()},J=function(){var c=b("#memberblog-tab .js-pagenum").val()||1,a=b(".js-button-filter-my.js-checked").data("filter-value"),f=b(".js-button-filter-display-blogs.js-checked").data("filter-value");u(F,G,c,a,!1,
!1,f)},u=function(c,a,f,d,e,g,m){f=f||1;d=d||"show_all";m=m||"display_grid";var n=vBulletin.makePaginatedUrl(location.href,f);!e&&k.isEnabled()&&(n=vBulletin.makeFilterUrl(n,"filter_blogs",d,a),e=k.getState(),k[e&&e.data&&e.data.from&&"filter_blogs"!=e.data.from?"setDefaultState":"pushState"]({from:"filter_blogs",page:f,filters:{filter_blogs:d}},document.title,n));n={tab:a.prop("id"),filter_blogs:"show_all"==d?void 0:d,display_blogs:"display_grid"==m?void 0:m};var v=b(".toolbar-filter-overlay",a);
e=v.find('input[name="filter_sort"]:checked').val();v=v.find('input[name="filter_order"]:checked').val();vBulletin.AJAX({call:"/ajax/render/blogmember_tab",data:{from:f,my:d,display_blogs:m,noToolbar:g,page:n,blogChannelId:c.data("blog-channel-id"),sort_field:e,sort_order:v},error_phrase:"unable_to_contact_server_please_try_again",success:function(N){let O=b(N);O.filter(".conversation-toolbar-wrapper").length?(a.html(N),L(a),a.trigger("vb-instrument")):(b(".blogmember-list",a).hide().replaceWith(O).show(),
b(".conversation-toolbar-wrapper",a).removeClass("h-hide"));M(c,!E);E=!0}})};w.initTabs(h,Q,l,D,A,r,[p,q],!0,function(c,a,f){F=c;G=f;var d=b(f);a="#"+d.prop("id");f=r==a;a in t||(t[a]=w.tabAllowHistory(d));p&&"#activity-stream-tab"!=a&&"#article-tab"!=a&&p.toggleNewConversations(!1);q&&"#subscribed-tab"==a&&q.toggleNewConversations(!1);if("#memberblog-tab"==a){d.off("click",".js-button-filter").on("click",".js-button-filter",function(e,g){e=b(this);var m=b(".js-button-filter-my.js-checked").data("filter-value"),
n=b(".js-button-filter-display-blogs.js-checked").data("filter-value");e.is(".js-button-filter-my")?(m=e.data("filter-value"),b(".js-button-filter-my").removeClass("js-checked")):(n=e.data("filter-value"),b(".js-button-filter-display-blogs").removeClass("js-checked"));e.addClass("js-checked");u(c,d,1,m,g,!0,n)});K(b(".bloghome-widget"),b("#memberblog-tab"));if(!k&&(k=vBulletin.history.instance(t[a]),k.isEnabled())){f=k.getState();if(!f||b.isEmptyObject(f.data))f={from:"filter_blogs",page:Number(b(".pagenav-form .defaultpage",
d).val())||1,tab:a,filters:{filter_blogs:b(".js-button-filter-my.js-checked",d).data("filter-value"),filter_display_blogs:b(".js-button-filter-display-blogs.js-checked",d).data("filter-value")}},k.setDefaultState(f,document.title,location.href);k.setStateChange(function(e){e=k.getState();if("filter_blogs"==e.data.from||"display_blogs"==e.data.from){k.log(e.data,e.title,e.url);var g=c.tabs("option","selected");c.find(".ui-tabs-nav > li").eq(g).find("a").attr("href")!=e.data.tab?(e=getTabIndexByHash(e.data.tab),
vBulletin.selectTabByIndex.call(c,e)):u(c,d,e.data.page,e.data.filters.filter_blogs,!0,!0,e.data.filters.display_blogs)}},"filter")}r==a&&L(d);M(c,!1);if(!b(".conversation-list",d).hasClass("dataLoaded")){if(r==a&&!C)return C=!0,!1;b(".conversation-empty",d).addClass("h-hide");u(c,d)}}else if("#activity-stream-tab"==a||"#article-tab"==a)p?H(d,y):(y=I(d,h,t[a],!0,!0,f,null),p=y.filter),p.applyFilters(!1,!0);else if("#subscribed-tab"==a)q?H(d,x):(x=I(d,h,t[a],!0,!0,f,null),q=x.filter),q.applyFilters(!1,
!0);else if("#forum-tab"==a){if(d.hasClass("dataLoaded"))return r==a&&vBulletin.markreadcheck(),!1;if(r==a&&!B)return B=!0,!1;b(".conversation-empty",d).addClass("h-hide");vBulletin.AJAX({call:"/ajax/render/display_Forums_tab",data:{isAjaxTemplateRenderWithData:!0,channelDepth:d.data("channelDepth")},success:function(e){d.html(e.template).addClass(function(){var g=b(".conversation-empty",this);if(0==g.length)return"dataLoaded";g.removeClass("h-hide");return""})},complete:function(){vBulletin.markreadcheck()}})}});
var P=0;h.find(".ui-tabs-nav li").each(function(){P+=b(this).width()});l=h.find(".ui-tabs-nav").width();P>l&&h.find(".widget-tabs-nav, .module-title").height(h.find(".ui-tabs-nav").height())}vBulletin.truncatePostContent(".search-widget");l=b(".conversation-list",h);vBulletin.conversation.initPollEvents(l);vBulletin.conversation.initContentEvents(l);l.off("click",".js-comment-entry__post").on("click",".js-comment-entry__post",function(c){vBulletin.conversation.postComment.apply(this,[c,function(){p.updatePageNumber(1).applyFilters(!1,
!0)}])});vBulletin.conversation.bindEditFormEventHandlers("all")})})(jQuery,vBulletin.tabtools);
;

// ***************************
// js.compressed/hv.js
// ***************************
(function(c){function f(b){c(".humanverify_image",b).each(function(){var a=c(this),d=c(".refresh_imagereg",a);d.off("click").on("click",a,g);c(".imagereg",a).off("click").on("click",a,g);d.removeClass("h-hide")})}function g(b){var a=b.data;c(".progress_imagereg",a).removeClass("h-hide");vBulletin.AJAX({call:"/ajax/api/hv/generateToken",success:function(d){d=d.hash;c("input.hash",a).val(d);c(".imagereg",a).attr("src",pageData.baseurl+"/hv/image?hash="+d);c(".imageregt",a).val("")},api_error:function(){},
complete:function(){c(".progress_imagereg",a).addClass("h-hide")}});return!1}vBulletin.ensureObj("hv");vBulletin.hv.resetOnError=function(b,a,d){var e=vBulletin.ajaxtools;return e.hasError(b,/humanverify_.*_wronganswer/)?(d.after_error=vBulletin.ajaxtools.runBeforeCallback(d.after_error,function(){vBulletin.hv.reset(!0)}),e.showApiError(b,a,d),!1):!0};vBulletin.hv.reset=function(b){var a=c(".humanverify.humanverify_image");if(0<a.length)a.find(".refresh_imagereg").trigger("click"),b&&a.find(".imageregt").trigger("focus");
else if(0<c(".js-humanverify-recaptcha2").length&&"undefined"!=typeof grecaptcha&&"function"==typeof grecaptcha.reset)grecaptcha.reset();else{var d=c(".humanverify.humanverify_question");0<d.length&&vBulletin.AJAX({call:"/ajax/render/humanverify",data:{action:"register",isAjaxTemplateRenderWithData:!0},success:function(e){e=c(e.template);d.replaceWith(e);b&&e.find(".answer").trigger("focus")}})}};vBulletin.hv.show=function(b){var a=b.find(".imagereg");b.removeClass("h-hide");a.height()!=a.attr("height")&&
b.find(".refresh_imagereg").trigger("click")};vBulletin.hv.init=function(b){f(b)};window.recaptcha2callback=function(b){c(".js-humanverify-recaptcha2-response").val(b)};c(function(){f(c(document))})})(jQuery);
;

// ***************************
// js.compressed/css_b_comp_menu_horizontal.js
// ***************************
vBulletin.precache(["more_options","advanced_search","search","more"],[]);
vBulletin.CompMenuHorizontal=function(d,r){function k(a,c,b){a.each(function(){var e=d(this);d.each(c,function(f,g){e.is("."+g)&&(e.removeClass(g),f=e.data("removed-classes")||[],-1==d.inArray(g,f)&&f.push(g),e.data("removed-classes",f))});d.each(b,function(f,g){e.is("."+g)||(e.addClass(g),f=e.data("added-classes")||[],-1==d.inArray(g,f)&&f.push(g),e.data("added-classes",f))})})}function q(a){a.each(function(){var c=d(this),b=c.data("added-classes")||[],e=c.data("removed-classes")||[];b.length&&c.removeClass(b.join(" "));
e.length&&c.addClass(e.join(" "))})}function p(a){x.push(a)}function y(a,c,b){x.map(e=>e(a,c,b))}function t(a,c){if("dropdown"==c){var b=a.data("dropdown-icon-classes")||"",e=b?" b-comp-menu-dropdown__trigger--icon-trigger":"";e=(a.data("dropdown-trigger-classes")||"")+e;let g=a.data("dropdown-trigger-phrase")||"more_options";b='<div class="b-comp-menu-dropdown js-comp-menu-dropdown '+(a.data("dropdown-menu-classes")||"")+'"> <div class="b-comp-menu-dropdown__trigger js-comp-menu-dropdown__trigger js-button '+
e+'" tabindex="0"> <span class="'+b+' b-comp-menu-dropdown__trigger-icon"> '+vBulletin.phrase.get(g)+" </span>  </div> </div>";let h=d(b);h.insertAfter(a);y(a,h,c);b=a.find("li");e=a.find("a");d.each(["h-right","h-left"],function(l,m){a.is("."+m)&&h.addClass(m)});c=a.data("dropdown-content-classes");var f=["b-comp-menu-dropdown__content","js-comp-menu-dropdown__content"];c=c?c.split(" "):[];d.each(c,function(l,m){f.push(m)});k(a,"h-margin-top-s h-right b-comp-menu-horizontal channel-tabbar-list h-hide-on-small nav-list".split(" "),
f);k(b,["h-margin-top-xs","b-post-control"],["b-comp-menu-dropdown__content-item"]);k(e,["h-left"],["h-block"]);a.appendTo(h);vBulletin.CompMenuDropdown.init();a.data("is-dropdown-menu",1)}else vBulletin.CompMenuDropdown.updateMenuAsSelectElement(),b=a.find("li"),e=a.find("a"),q(a),q(b),q(e),b=a.closest(".js-comp-menu-dropdown"),vBulletin.CompMenuDropdown.setMenuColumnCount(b,a,1),a.removeClass("b-comp-menu-dropdown__content--left b-comp-menu-dropdown__content--right"),a.insertAfter(b),y(a,b,c),(c=
a.next(".vb-select-el"))&&c.length&&c.selectBox("destroy").remove(),b.remove(),a.data("is-dropdown-menu","")}function u(a){if(a.length){let c=d("body"),b=c.is(".l-small"),e=c.is(".l-xsmall");a.each((f,g)=>{f=d(g);g=f.find("li").not(".b-post-control--disabled").length;var h=!1;isDropdown=f.data("is-dropdown-menu");if(!(f.is(".js-comp-menu-column")||isDropdown&&f.closest(".js-comp-menu-dropdown").is(".b-comp-menu-dropdown--open"))){isDropdown&&(t(f,"horizontal"),isDropdown=!1);var l=h=!1;for(let m of[f,
f.parent()])if(m.is(".js-shrink-event-parent")&&(h=!0,"need_shrink"==r.checkElementShrinkRequirement(m))){l=!0;break}f.is(".js-comp-menu-dropdown__content--main-menu")&&!l&&(h=!0,"need_shrink"==r.checkElementShrinkRequirement(d(".js-channel-subtabbar-list"))&&(l=!0));h=h?l:"need_shrink"==r.checkElementShrinkRequirement(f)?!0:void 0}(b&&f.is(".js-comp-menu--dropdown-on-small")||e&&f.is(".js-comp-menu--dropdown-on-xsmall")||h)&&0<g?isDropdown||t(f,"dropdown"):isDropdown&&t(f,"horizontal")})}}var v=
vBulletin.ensureObj("jsexec.css_b_comp_menu_horizontal",{exec:0,init:0});v.exec++;var x=[];p(function(a,c,b){a.is(".js-comp-menu-dropdown__content--main-menu")&&("dropdown"==b?(b=a.find(".current").addClass("b-comp-menu-dropdown__content-item--current"),c.addClass("b-comp-menu-dropdown--main-menu").find(".js-comp-menu-dropdown__trigger").addClass("b-comp-menu-dropdown__trigger--icon-trigger").html('<span class="b-icon b-icon__hamburger b-comp-menu-dropdown__trigger-icon"></span>'),a.find("li").first().addClass("b-comp-menu-dropdown__content-item--divider"),
c='<li class="js-search-item b-comp-menu-dropdown__content-item--no-hover js-comp-menu-dropdown__content-maintain-menu"><form action="'+d("#searchForm").attr("action")+'" class="search-box"><input type="text" autocomplete="off" class="b-form-input__input search-term" placeholder="'+vBulletin.phrase.get("search")+'..." name="q"><button title="'+vBulletin.phrase.get("search")+'" class="search-btn b-button b-button--primary" type="submit"><span class="b-icon-fa b-icon-fa--24 fa-solid fa-magnifying-glass"></span></button></form></li><li class="js-search-item"><a href="'+
pageData.baseurl+'/search">'+vBulletin.phrase.get("advanced_search")+"</a></li>",d(c).prependTo(a),d(".js-channel-subtabbar-list li").addClass("js-subtabbar-item b-comp-menu-dropdown__content-item--indent1").insertAfter(b),d(".js-channel-subtabbar").addClass("h-hide")):(a.find("li").removeClass("b-comp-menu-dropdown__content-item--divider b-comp-menu-dropdown__content-item--current b-comp-menu-dropdown__content-item--indent1"),a.find(".js-search-item").remove(),a.find(".js-subtabbar-item").appendTo(d(".js-channel-subtabbar-list")),
d(".js-channel-subtabbar").removeClass("h-hide")))});p(function(a,c,b){a.is(".js-footer-nav-list")&&("dropdown"==b?(k(a,["h-right"],[]),k(c,[],["js-select-on-xsmall"]),c=d("<li></li>").append(c).appendTo(".js-footer-chooser-list"),a.data("vb-remove-li",c)):(a.insertAfter(".js-footer-chooser-list"),a.data("vb-remove-li").remove()))});p(function(a,c,b){"dropdown"==b?(b=a.find(".js-comp-menu--exclude-from-dropdown"),0<b.length&&(c=d("<ul />").addClass(a.get(0).className).removeClass("js-comp-menu-horizontal js-comp-menu--dropdown-on-xsmall js-comp-menu--dropdown-on-small b-comp-menu-dropdown--inactive").insertAfter(c),
Object.assign(c[0].dataset,a[0].dataset),a.data("vb-exclude-item-container",c),b.each(function(e,f){e=d(this);d("<li />").addClass("js-excluded-item-marker h-hide-imp").data("vb-excluded-item",e).insertAfter(e)}),b.appendTo(c))):(c=a.data("vb-exclude-item-container"),b=a.find(".js-excluded-item-marker"),c&&c.length&&0<c.length&&0<b.length&&(b.each(function(e,f){e=d(this);e.data("vb-excluded-item").insertAfter(e)}),b.remove(),a.data("vb-exclude-item-container",!1),c.remove()))});p(function(a,c,b){function e(n){n=
d(this).closest("li");h.removeClass("b-comp-menu-dropdown__content-item--current ui-tabs-active ui-state-active ui-state-hover ui-state-default");n.addClass("b-comp-menu-dropdown__content-item--current")}if(a.is(".js-module-tab-menu")){var f=a.closest(".widget-tabs-nav, .js-widget-tabs-nav"),g=f.find(".module-title, .js-module-title"),h=a.find("li"),l=h.filter(".ui-state-active"),m=a.find("a");f.addClass("js-widget-tabs-nav");g.addClass("js-module-title");"dropdown"==b?((a.is(".js-profile-tabs-nav")||
a.is(".js-subscribe-tabs-nav"))&&d("<div />").addClass("js-profile-menu-wrapper widget-tabs-nav").insertAfter(a).append(c).append(a),k(a,["ui-tabs-nav","ui-helper-reset","ui-helper-clearfix","ui-widget-header","ui-corner-all"],[]),k(c,[],["js-select-when-dropdown"]),k(f,["widget-tabs-nav"],["widget-tabs-nav-background"]),k(g,["module-title"],[]),k(h,"ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all ui-corner-bottom ui-corner-top ui-corner-right ui-corner-left ui-corner-br ui-corner-bl ui-corner-tr ui-corner-tl".split(" "),
[]),k(m,["ui-tabs-anchor","h-block"],[]),l.length?l.addClass("b-comp-menu-dropdown__content-item--current"):setTimeout(function(){h.filter(".ui-state-active").addClass("b-comp-menu-dropdown__content-item--current");var n=a.next(".vb-select-el"),z=0;if(n&&n.length){h.each(function(B,C){z=B;if(d(C).is(".ui-state-active"))return!1});var A=n.is(".selectBox");A&&n.selectBox("destroy");n.find(".js-noop-label").remove();n.get(0).selectedIndex=z;A&&n.selectBox()}},0),h.removeClass("ui-state-default ui-tabs-active ui-state-active ui-state-hover"),
m.off("click.vbmoduletabs").on("click.vbmoduletabs",e),c.data("add-classes-to-select-el","h-margin-vert-m h-margin-horiz-xl")):(h.filter(function(){return"true"==d(this).attr("aria-selected")}).removeClass("b-comp-menu-dropdown__content-item--current").addClass("ui-tabs-active ui-state-active"),m.off("click.vbmoduletabs"),q(f),q(g),b=a.parent(),b.is(".js-profile-menu-wrapper")&&(a.insertAfter(b),c.insertAfter(b),b.remove()))}});p(function(a,c,b){if(a.is(".js-tabbed-pane__tabs")){var e=a.find("li"),
f=e.filter(".b-tabbed-pane__tab--selected");a.find("a");"dropdown"==b?(d("<div />").addClass("js-tabbed-pane__tabs-wrapper b-tabbed-pane_tabs b-tabbed-pane__tabs--standard").insertAfter(a).append(c).append(a),k(a.parent(),[],["js-comp-menu-dropdown__content"]),k(c,[],["js-select-when-dropdown"]),k(e,[],["b-comp-menu-dropdown__content-item"]),f.addClass("b-comp-menu-dropdown__content-item--current"),c.data("add-classes-to-select-el","h-margin-horiz-xl h-margin-vert-m")):(e.removeClass("b-comp-menu-dropdown__content-item--current"),
b=a.parent(),b.is(".js-tabbed-pane__tabs-wrapper")&&(a.insertAfter(b),c.insertAfter(b),b.remove()))}});p(function(a,c,b){a.is(".js-groupblog-admin-menu")&&(a.closest(".js-blog-admin-left"),a=a.find("li").filter(".sgAdminActive, .blogAdminActive"),"dropdown"==b&&(k(c,[],["js-select-on-xsmall"]),a.addClass("b-comp-menu-dropdown__content-item--current")))});p(function(a,c,b){if(a.is(".js-sharing-menu")){var e=a.find("li");"dropdown"==b?(b=a.prevAll(".userinfo"),1==b.length&&(c.appendTo(b),a.data("vb-moved-to-userinfo",
"1")),k(a,["b-sharing-menu--horizontal"],[]),k(c,[],["h-align-bottom"]),k(e,[],["b-comp-menu-dropdown__content-item--no-hover","js-comp-menu-dropdown__content-maintain-menu"])):("1"==a.data("vb-moved-to-userinfo")&&(b=c.parent(".userinfo"),a.insertAfter(b).data("vb-moved-to-userinfo","0")),q(e))}});let w=()=>u(d(".js-comp-menu-horizontal, .js-comp-menu-column"));d(document).on("vb-tabinit",a=>{u(d(a.target).find(".js-comp-menu-horizontal, .js-comp-menu-column"))});d(function(){vBulletin.phrase.register(d("[data-dropdown-trigger-phrase]").map(function(a,
c){return d(c).data("dropdown-trigger-phrase")}).get());u(d(".js-comp-menu-horizontal, .js-comp-menu-column").filter(":not(.ui-tabs-nav)"));1>v.init&&(r.registerCallback(w),d(document).on("vb-loadnewposts vb-filterposts",w));v.init++});return{registerMenuChangeFilter:p,checkHorizontalMenuState:w,convertDropdownProgressive:function(a){if(!(1>a.$children.length||1!=a.$parent.length)){a.needsShrink=a.needsShrink||function(){return"need_shrink"==r.checkElementShrinkRequirement(a.$parent)};a.copyChild=
a.copyChild||function(g){var h=g.find("> a");g=d('<a href="#"></a>');g.html(h.html());g.attr("href",h.attr("href"));g.on("click",function(){h.trigger("click");return!1});return g};var c=a.$children.filter(function(){return""!=d(this).text()});if(!(1>c.length)){var b=a.$parent.find(".js-progressive-dropdown-menu");if(1>b.length){b=d('<li class="b-top-menu__item js-shrink-event-child js-progressive-dropdown-menu h-hide-imp"> \t<div class="b-comp-menu-dropdown b-comp-menu-dropdown--sitebuilder js-comp-menu-dropdown">\t\t<div class="b-comp-menu-dropdown__trigger js-comp-menu-dropdown__trigger js-button" tabindex="0"> \t\t\t<span class="b-icon b-icon__ellipsis b-comp-menu-dropdown__trigger-icon">'+
vBulletin.phrase.get("more")+'</span> \t\t</div> \t\t<ul class="b-comp-menu-dropdown__content js-comp-menu-dropdown__content"> \t\t</ul> \t</div> </li>');b.insertAfter(c.last());var e=b.find(".js-comp-menu-dropdown__content");c.each(function(g,h){h=d(this);var l=a.copyChild(h);d('<li class="b-comp-menu-dropdown__content-item h-hide-imp"></li>').append(l).appendTo(e).data("vb-progressive-item-num",g);h.data("vb-progressive-item-num",g)});vBulletin.CompMenuDropdown.init()}var f=b.find(".b-comp-menu-dropdown__content-item");
if(a.removeMenu||!a.needsShrink())c.removeClass("h-hide-imp"),b.addClass("h-hide-imp"),f.addClass("h-hide-imp");!a.removeMenu&&a.needsShrink()&&c.reverse().each(function(){var g=d(this),h=g.data("vb-progressive-item-num"),l=f.filter(function(){return d(this).data("vb-progressive-item-num")==h});l.removeClass("h-hide-imp b-comp-menu-dropdown__content-item--first");g.addClass("h-hide-imp");b.removeClass("h-hide-imp");if(!a.needsShrink())return l.addClass("b-comp-menu-dropdown__content-item--first"),
!1})}}}}}(jQuery,vBulletin.Responsive.Debounce);
;

// ***************************
// js.compressed/css_b_comp_menu_dropdown.js
// ***************************
vBulletin.CompMenuDropdown=function(c){function z(a){c(a.target).closest(".js-comp-menu-dropdown").length||y(c(".js-comp-menu-dropdown"))}function M(){function a(f){e=new Date;h=f.originalEvent.touches[0].pageX;m=f.originalEvent.touches[0].pageY;g=l=0}function b(f){l=h-f.originalEvent.touches[0].pageX;g=m-f.originalEvent.touches[0].pageY}function d(f){400>=new Date-e&&!l&&!g&&z.call(this,f)}var e=!1,h,m,l,g;c(document).off("touchstart",a).on("touchstart",a).off("touchmove",b).on("touchmove",b).off("touchend",
d).on("touchend",d)}function D(a){var b=c(a.target).closest(".js-comp-menu-dropdown");b.is(".b-comp-menu-dropdown--open")?y(b):N(b);a=c(".js-comp-menu-dropdown").filter(function(){return c(this).get(0)!=b.get(0)});y(a);return!1}function E(a){a=c(a.target).closest(".js-comp-menu-dropdown");a.length&&a.is(".b-comp-menu-dropdown--open")&&y(a)}function F(a){a=c(a.target);a.closest(".js-comp-menu-dropdown").find(".js-comp-menu-dropdown__trigger-text").text(a.text())}function A(a,b,d){var e=b.find(".b-comp-menu-dropdown__content-item");
d=Math.min(d,4);if(1<d){b.addClass("b-comp-menu-dropdown__content--"+d+"-column");b=!a.is(".b-comp-menu-dropdown--open");var h="",m="";e.removeClass("b-comp-menu-dropdown__content-item--column-first b-comp-menu-dropdown__content-item--column-trailing");b&&a.addClass("b-comp-menu-dropdown--open");e.each(function(){var l=c(this).position();l=parseInt(l.top,10);""===h&&(h=l);""===m&&(m=l);h=Math.min(h,l);m=Math.max(m,l)});e.each(function(){var l=c(this),g=l.position();parseInt(g.top,10)<=h&&l.addClass("b-comp-menu-dropdown__content-item--column-first")});
e=e.last();e.position().top<m&&e.addClass("b-comp-menu-dropdown__content-item--column-trailing");b&&a.removeClass("b-comp-menu-dropdown--open")}else{for(a=4;1<a;)b.removeClass("b-comp-menu-dropdown__content--"+a+"-column"),--a;e.removeClass("b-comp-menu-dropdown__content-item--column-first b-comp-menu-dropdown__content-item--column-trailing")}}function G(a,b){if(a.is(".b-comp-menu-dropdown--open")){var d=b.outerHeight();b=b.outerWidth()}else a.addClass("b-comp-menu-dropdown--open"),d=b.outerHeight(),
b=b.outerWidth(),a.removeClass("b-comp-menu-dropdown--open");return{width:b,height:d}}function H(a){var b=c(window),d=b.width(),e=b.height(),h=b.scrollLeft(),m=c(document).height();a.each(function(l,g){var f=c(g),r=f.offset(),u=f.find(".js-comp-menu-dropdown__trigger").outerHeight();l=f.find(".js-comp-menu-dropdown__trigger").outerWidth();g=f.find(".js-comp-menu-dropdown__content");var k=g.find(".b-comp-menu-dropdown__content-item");g.css("width","auto");A(f,g,1);var n=G(f,g),p=n.height;n=n.width;
k=Math.max(Math.min(Math.floor(k.length/15),4),1);p=Math.ceil(p/(e-100));n=Math.floor((d-0)/n);n=Math.max(n,1);k=Math.max(k,p);k=Math.min(k,4);k=Math.min(k,n);A(f,g,k);n=G(f,g);p=n.height;n=n.width;k=g.css("margin-top");var v=parseInt(k,10),q=r.top;k=q>=p;var t=m-q>=u+p+v;r=r.left-h+l;u=d-r+l;p=r>=n;v=u>=n;q=[];k&&!t?(f.addClass("b-comp-menu-dropdown--direction-up"),q.push("Forced up")):t&&!k&&(f.removeClass("b-comp-menu-dropdown--direction-up"),q.push("Forced down"));k=f="";var w=t=0,x=0;p&&!v?(g.removeClass("b-comp-menu-dropdown__content--left").addClass("b-comp-menu-dropdown__content--right"),
f="right",k="left",q.push("Forced right alignment (opens left)")):v&&!p?(g.removeClass("b-comp-menu-dropdown__content--right").addClass("b-comp-menu-dropdown__content--left"),f="left",k="right",q.push("Forced left alignment (opens right)")):v||p||(r>=u?(g.removeClass("b-comp-menu-dropdown__content--left").addClass("b-comp-menu-dropdown__content--right"),f="right",k="left",w=n-r,x=u-l,t=Math.min(w,x),q.push("Forced right alignment (opens left) (More space on left)")):(g.removeClass("b-comp-menu-dropdown__content--right").addClass("b-comp-menu-dropdown__content--left"),
f="left",k="right",w=n-u,x=r-l,t=Math.min(w,x),q.push("Forced left alignment (opens right) (More space on right)")));f&&k&&(0<t?g.css(f,"-"+t+"px"):g.css(f,"0"),g.css(k,"auto"));x<w&&g.css("width",d).find(".b-comp-menu-dropdown__content-item").addClass("ellipsis").find("> a").addClass("ellipsis")})}function I(){var a=c(".js-comp-menu-dropdown").filter(function(){return c(this).is(".b-comp-menu-dropdown--open")});H(a)}function B(){var a=c(".js-select-on-xsmall, .js-select-on-small, .js-select-when-dropdown"),
b=c("body").is(".l-small"),d=c("body").is(".l-xsmall");a.each(function(){var e=c(this),h=0<e.next(".vb-select-el").length,m=e.is(".js-select-when-dropdown")||e.is(".js-select-on-xsmall")&&d||e.is(".js-select-on-small")&&b;m&&!h?(J(e).removeClass("h-hide-imp").selectBox(),e.addClass("h-hide-imp")):!m&&h&&(J(e).selectBox("destroy").addClass("h-hide-imp"),e.removeClass("h-hide-imp"))})}function J(a){var b=a.next(".vb-select-el");b.length||(b=c('<select class="vb-select-el"></select>'),1!=a.find(".b-comp-menu-dropdown__content-item.b-comp-menu-dropdown__content-item--current").length&&
c("<option></option>").addClass("js-noop-label").text(a.find(".js-comp-menu-dropdown__trigger").text()).appendTo(b),a.find(".js-comp-menu-dropdown__content .b-comp-menu-dropdown__content-item").each(function(d,e){var h=c(this);e=h.is(".b-comp-menu-dropdown__content-item--current");var m=h.find("> a");h=m.html()||h.html();c("<option></option>").html(h).data("vb-option-link",m).appendTo(b);e&&(b.get(0).selectedIndex=d)}),b.addClass("b-comp-menu-dropdown__select").on("change",function(d){d=d.target;
idx=d.selectedIndex;opt=d.options[idx];(linkHref=($link=c(opt).data("vb-option-link"))?$link.attr("href"):null)&&"#"!=linkHref.substr(0,1)?window.location.href=linkHref:($link.one("click",function(e){var h=$link.data("href");h&&(window.location.href=h,e.preventDefault())}),$link.trigger("click"))}).insertAfter(a),(a=a.data("add-classes-to-select-el"))&&b.addClass(a));return b}function K(){c(".js-select-on-xsmall, .js-select-on-small").each(function(){var a=c(this).data("vb-select-el");a&&(a=a.nextAll(".selectBox"),
a=a.not(a.first()),a.remove())})}function N(a){a.each(function(b,d){b=c(this).closest(".conversation-toolbar");1==b.length&&b.height(b.height())});a.addClass("b-comp-menu-dropdown--open");H(a);a.find(".js-comp-menu-dropdown__trigger-arrow").removeClass("b-icon--disabled");c(".js-expanded-indicator",a).removeClass("fa-caret-down").addClass("fa-caret-up")}function y(a){a.removeClass("b-comp-menu-dropdown--open");a.find(".js-comp-menu-dropdown__trigger-arrow").addClass("b-icon--disabled");c(".js-expanded-indicator",
a).removeClass("fa-caret-up").addClass("fa-caret-down")}function L(){var a=c(".js-comp-menu-dropdown__trigger").filter((d,e)=>"1"!=c(e).data("comp-menu-dropdown-initialized"));a.off("click",D).on("click",D).attr("tabindex","0").addClass("js-button").data("comp-menu-dropdown-initialized","1");c(document).off("click",z).on("click",z);M();var b=c();a.each(function(d,e){d=c(e);d.is(".b-comp-menu-dropdown__trigger--arrow")&&1>d.find(".js-comp-menu-dropdown__trigger-arrow").length&&c('<span class="b-icon-fa b-icon-fa--12 fa-solid fa-caret-down b-icon--disabled js-comp-menu-dropdown__trigger-arrow h-align-middle"></span>').appendTo(d);
d=d.parents(".js-shrink-event-parent");d.length&&(b=b.add(d))});b.length&&vBulletin.Responsive.Debounce.checkShrinkEvent(b);c(".js-comp-menu-dropdown").removeClass("b-comp-menu-dropdown--open-on-hover");B();c(document).off("vb-filterposts",K).on("vb-filterposts",K);c(".b-comp-menu-dropdown__content-item:not(.js-comp-menu-dropdown__content-maintain-menu)").filter(function(){return"1"!=c(this).data("comp-menu-dropdown__content-close-menu-initialized")}).off("click",E).on("click",E).attr("data-comp-menu-dropdown__content-close-menu-initialized",
"1");c(".js-comp-menu-dropdown--display-current").off("click",".b-comp-menu-dropdown__content-item",F).on("click",".b-comp-menu-dropdown__content-item",F);1>C.init&&(vBulletin.Responsive.Debounce.registerCallback(I),vBulletin.Responsive.Debounce.registerCallback(B));C.init++}var C=vBulletin.ensureObj("jsexec.css_b_comp_menu_dropdown",{exec:0,init:0});C.exec++;c(L);return{init:L,updateMenuFormat:I,updateMenuAsSelectElement:B,setMenuColumnCount:A}}(jQuery);
;

// ***************************
// js.compressed/pmchat.js
// ***************************
vBulletin.precache(["error","pmchat_close_button_label","pmchat_idle_disconnected_message","pmchat_idle_disconnected_title","pmchat_reconnect_button_label"],["pmchat_enabled","pmchat_header_polling_interval","pmchat_chat_polling_idle_timeout","pmchat_chat_polling_min_interval","pmchat_chat_polling_max_interval"]);
(function(a){function ea(g){g=g.hasOwnProperty("messageid")?"?messageid="+encodeURIComponent(g.messageid):"?aboutNodeid="+encodeURIComponent(g.aboutNodeid)+"&toUserid="+encodeURIComponent(g.toUserid);return""==g?"#":la+g}function fa(g){var v;g=g.hasOwnProperty("url")?g.url:ea(g);"#"!=g&&((v=window.open(g,"_blank","width=600,height=700,resizable=yes,scrollbars=yes,status=yes"))&&!v.closed&&"undefined"!=typeof v.closed||window.open(g+queryString))}function ma(){function g(h){var f=h[Object.keys(h)[0]];
f=f&&f.orderListForJs||[];var t=f.length,z=!1,w={};if(0<t)J.find(".js-pmchat__submenu__ephemeral").remove();else return!1;for(var C=0;C<t;C++){var u=f[C];if(h.hasOwnProperty(u)){var p=h[u];var m=q.clone(!0);var U=m.find(".js-pmchat__submenu__link"),D="js-pmchat__messagefinder__"+u;m.removeClass("h-hide-imp");U.attr("data-starter",u).prop("title",p.previewtext).attr("href",ea({messageid:u}));m.find(".js-pmchat__submenu__title").html(p.title);0==p.msgread&&m.addClass("b-comp-menu-dropdown__content-item--unread");
m.addClass(D);m.insertBefore(P);(m=0<L&&(!x.hasOwnProperty(u)||x[u].publishdate!=p.publishdate||x[u].userid!=p.userid)&&0==p.msgread&&p.userid!=pageData.userid)&&(z=!0);w[u]={publishdate:p.publishdate,userid:p.userid,title:p.title,previewtext:p.previewtext,findmehelper:D,isNew:m}}}x=w;L=E;z&&v()}function v(){console.log("New Messages found in polling! Notifying user");if(A.find(".js-comp-menu-dropdown").hasClass("b-comp-menu-dropdown--open")){var h=[];for(f in x)x.hasOwnProperty(f)&&x[f].isNew&&h.push("."+
x[f].findmehelper);if(0<h.length){var f=h.join(", ");var t=a(f),z=setInterval(function(){t.toggleClass("b-comp-menu-dropdown__content-item--unread-alert")},100);setTimeout(function(){clearInterval(z);t.removeClass("b-comp-menu-dropdown__content-item--unread-alert")},3E3)}}else A.find(".js-comp-menu-dropdown").addClass("b-comp-menu-dropdown--alert")}function V(){r+=60;r>=F&&K()}function K(){clearTimeout(W);r>=F?console.log("Header polling stopped due to idle timeout. (idle time: "+r+"s)"):W=setTimeout(X,
1E3*k)}function X(){K();console.log("Polled for header data!"+Date.now());M()}function Q(h,f,t){h.length&&(h.text()!=f&&(h.text(f),h.toggleClass("h-hide-imp",0>=f)),t&&h.parents().eq(1).toggleClass("h-hide-imp",0>=f))}function M(h){G?"function"==typeof h&&N&&N.always(h):(G=!0,O.removeClass("h-hide-imp"),vBulletin.loadingIndicator.suppressNextAjaxIndicator(),N=vBulletin.AJAX({call:"/chat/loadheaderdata",success:function(f){var t=f.headerCounts;Q(R,t.messages);Q(Y,t.totalcount);aa.each(function(){var z=
a(this),w=z.data("folderid")||0;Q(z,t.details&&t.details[w]&&t.details[w].count||0,!0)});a.isEmptyObject(f.messages)||g(f.messages)},api_error:vBulletin.ajaxtools.logApiError,error:vBulletin.ajaxtools.logAjaxError,complete:[function(){G=!1;O.addClass("h-hide-imp");E=Date.now()},h]}))}var A=a(".js-pmchat__dropdown"),R=A.find(".js-pmchat__messages-count"),Y=a(".notifications-count").not(".js-pmchat__messages-count").not("[data-folderid]"),aa=a(".notifications-count[data-folderid]").not(".js-pmchat__messages-count"),
J=A.find(".js-pmchat__dropdown-submenu"),q=J.find(".js-pmchat__dropdown__single-pm-template").removeClass("js-pmchat__dropdown__single-pm-template"),P=J.find(".js-pmchat__insert-marker"),O=a(".js-pmchat__dropdown-submenu").find(".js-pmchat__submenu__loading-icon");A.find(".js-pmchat__header-data");var k=vBulletin.options.get("pmchat_header_polling_interval")||30,r=0,F=vBulletin.options.get("pmchat_chat_polling_idle_timeout")||300,E=0,x={},L=0,G=!1,N=null,ba=a.debounce(100,function(){"function"==typeof vBulletin.CompMenuDropdown.updateMenuFormat&&
vBulletin.CompMenuDropdown.updateMenuFormat()});J.off("click").on("click",".js-pmchat__submenu__link",function(){var h={},f=a(this).attr("href");"#"!=f?h.url=f:h.messageid=a(this).data("starter");fa(h);a(this).parent().removeClass("b-comp-menu-dropdown__content-item--unread");return!1});a(".js-pmchat-reload-header").on("click",function(h){A.find(".js-comp-menu-dropdown").removeClass("b-comp-menu-dropdown--alert");r=0;Date.now()-E<1E3*k?console.log("PM Load aborted: less than "+k+" seconds since last load."):
(K(),M(ba))});(function(){console.log("Idle detection enabled");setInterval(V,6E4);a(document).on("click keypress scroll",function(h){r=0})})();var W=setTimeout(X,1E3*k)}function na(){function g(){var d=a(".js-pmchat__insert-marker").offset().top,c=a(".js-pm-content-entry-container"),e=c.outerHeight();c="fixed"==c.css("position");var b=a(window).outerHeight();(!c||d>b-e)&&vBulletin.animateScrollTop(d)}function v(d){if(f)console.log("Nothing to load, awaiting first message.");else if(B.messagesLoading)console.log("loadNewMessages() rejected: Still awaiting messages from a previous call.");
else{console.log("loadNewMessages() executing.");var c=[];O.find(".js-pmchat__post-wrapper").each(function(e,b){e=parseInt(a(b).data("publishdate")||0,10);var l=parseInt(a(b).data("nodeid")||0,10);e>G&&(G=e,N=l);0<l&&c.push(l);G>e&&a(b).removeClass("js-pmchat__post-wrapper")});B.messagesLoading=!0;vBulletin.loadingIndicator.suppressNextAjaxIndicator();vBulletin.AJAX({call:"/chat/loadnewmessages",data:{parentid:F,newreplyid:d,lastpublishdate:G,lastnodeid:N,loadednodes:c},success:function(e){S=(S+1)%
10;e.html&&""!==e.html?(T[S]=1,D=Date.now(),console.log("loadNewMessages(): Inserting new messages."),a(e.html).insertBefore(ba),g()):(T[S]=-1,console.log("loadNewMessages(): No new messages."))},error:function(e){console.log("loadNewMessages(): Error loading new PMs. Ajax result:");console.log(e)},complete:function(e){window.vBulletin.loadingIndicator.hide();B.messagesLoading=!1;B.queued&&(B.queued=!1,window.vBulletin.loadingIndicator.show(),setTimeout(v,0));V()}})}}function V(){clearTimeout(z);
var d=Date.now(),c=d-D,e=d-t,b=0<T[S],l=T.reduce(function(n,y){return n+y})/10;0<D?b?(m>C&&(m=C),--m,D>w&&(w=D)):m-=1*l:m+=1;m<u?m=u:m>p&&(m=p);t=d;Z&&(Z=!1,w=d);b=(d-w)/1E3;console.log("Idle time: "+b+"s. (timeout: "+U+"s)");b>=U?(console.log("Polling for messages stopped due to idle timeout. Idle start time: "+w+" time now: "+d),X(),w=d):(z=setTimeout(K,1E3*m),console.log("Polling for messages complete. Next poll in "+m+"seconds. Time since last poll: "+e/1E3+"s, since last hit: "+c/1E3+"s."))}
function K(){V();v()}function X(){if(null==h){var d={title:vBulletin.phrase.get("pmchat_idle_disconnected_title"),message:vBulletin.phrase.get("pmchat_idle_disconnected_message"),width:"50%",buttonLabel:{yesLabel:vBulletin.phrase.get("pmchat_reconnect_button_label"),noLabel:vBulletin.phrase.get("pmchat_close_button_label")},onClickYes:function(){w=Date.now();m=C;K()},onClickNo:function(){window.close()}};h=openConfirmDialog(d)}else h.dialog("open")}function Q(d){d?(oa.remove(),ha.remove(),k.attr("data-message-type",
"pm-reply"),History.replaceState({},L,pageData.baseurl_pmchat+"?messageid="+d),A(d)):console.log("Missing nodeid for loadParticipants()")}function M(){pa.trigger("event-js-element-resize")}function A(d,c){vBulletin.AJAX({call:"/chat/loadparticipants",data:{nodeid:d},success:function(e){let b=a(".js-pmchat__participants-insert-marker"),l=a(".js-pmchat__participant");e.participants_html&&""!=e.participants_html&&b.length&&(l.remove(),b.prepend(e.participants_html),ca.trigger("event-js-content-change"));
P.hasClass("h-hide")&&(P.removeClass("h-hide"),ia.trigger("click"),da.removeClass("h-hide"));e.phrase&&""!=e.phrase&&(a(".js-participants-count-phrase").text(e.phrase),a(".js-participants-count-phrase--title").prop("title",e.phrase));e.title&&""!=e.title&&a(document).find("title").html(e.title);if(c&&c.success&&"function"==typeof c.success)return c.success.apply(this,[e])},complete:function(e,b,l){if(c&&c.complete&&"function"==typeof c.complete)return c.complete.apply(this,[e,b,l])},error:function(e,
b,l){console.log("/ajax/chat/loadparticipants failed!");console.log("----------------");console.log("jqXHR:");console.dir(e);console.log("text status:");console.dir(b);console.log("error thrown:");console.dir(l);console.log("----------------")}})}function R(d){var c=a(this).attr("href");c.startsWith("#")||(d.preventDefault(),(d=window.open(c,"_blank"))&&!d.closed&&"undefined"!=typeof d.closed||window.open(c))}function Y(d){da.animate({height:"toggle"},{duration:"fast",start:function(){ca.trigger("event-js-element-resize-start")},
progress:function(c,e,b){M()},complete:function(){M()}});d.preventDefault();ja.length&&ja.toggleClass("fa-caret-down fa-caret-up")}function aa(){var d=function(n){var y=0<ca.height();if(n.data&&n.data.command)switch(n.data.command){case "open":H.removeClass("h-hide");break;case "close":H.addClass("h-hide");break;default:y?H.toggleClass("h-hide"):H.removeClass("h-hide")}else H.toggleClass("h-hide");y?M():Y(n);n.preventDefault()},c={},e=a(".js-participants-add-recipients-input"),b=new vBulletin_Autocomplete(e,
{apiClass:"user",afterAdd:function(n,y,I){"undefined"!=typeof I&&"undefined"!=typeof I.id&&I.id&&(c[y]=I.id)},delimiter:" ; "}),l=function(n){b.clearElements();n.data?n.data.command="close":n.data={command:"close"};d(n)};console.log({addRecipientsAutoComplete:b});ka.off("click").on("click",{command:"toggle"},d);H.find(".js-add-recipients-cancel").off("click").on("click",{command:"close"},l);H.find(".js-add-recipients-submit").off("click").on("click",function(n){var y=b.getInputField(),I=y.val();I&&
(y.val(""),b.addElement(I,I));y=b.getValues();vBulletin.AJAX({call:"/ajax/api/content_privatemessage/addPMRecipientsByUsernames",data:{pmid:F,usernames:y,usernamesToIds:c},success:function(ra){A(F,{success:function(){l(n);B.messagesLoading?B.queued=!0:v()},complete:function(){window.vBulletin.loadingIndicator.hide()}})}})})}function J(d){function c(){if("fixed"==b.css("position")){l.removeClass("h-hide");var n=b.outerHeight()-30;l.css("height",n+"px")}else l.addClass("h-hide")}var e=d+"-replacement",
b=a("."+d),l=a("."+e);0==l.length&&(l=a("<div />").addClass(e).insertAfter(b));a(c);a(document).off("click",c).on("click",c);vBulletin.Responsive.Debounce.registerCallback(c);CKEDITOR.on("instanceReady",function(n){c();n.editor.on("focus",function(){setTimeout(function(){c()},0)})});b.on("event-js-element-resize",c)}var q=a(".js-pmchat__container"),P=a(".js-pmchat__participants"),O=q.find(".js-pmchat__thread-container"),k=q.find("form"),r=q.find(".js-pmchat__data");q=parseInt(r.data("pmchannelid"),
10);var F=parseInt(r.data("parentid"),10),E=parseInt(r.data("pm_messageid"),10),x=parseInt(r.data("to_userid"),10),L=r.data("pm_title"),G=0,N=0,ba=a(".js-pmchat__insert-marker"),W=O.find(".js-pmchat__thread-placeholder"),h,f=!1;q!=F&&0<E||(f=!0);var t=0,z,w=Date.now(),C,u=vBulletin.options.get("pmchat_chat_polling_min_interval")||1,p=vBulletin.options.get("pmchat_chat_polling_max_interval")||30;p<u&&(q=p,p=u,u=q);var m=C=(10*u+1*p)/11;var U=vBulletin.options.get("pmchat_chat_polling_idle_timeout")||
300,D=0,S=9,T=[];for(q=0;10>q;++q)T[q]=0;var B={messagesLoading:!1,queued:!1},Z=!1,pa=a(".js-pmchat__header"),ia=a(".js-participants-collapser-ui"),ja=a(".js-participants-toggle-arrow"),da=a(".js-participants-collapsible"),ca=da.find(".js-vbscroller-wrapper"),ka=a(".js-participants-show-add-recipients-ui"),H=a(".js-participants-add-recipients-wrapper"),oa=k.find(".js-wrapper-contententry_title"),ha=k.find(".js-wrapper-contententry__msgRecipients");new vBulletin_Autocomplete(a(".privatemessage_author"),
{apiClass:"user",delimiter:" ; "});a(".js-pm-content-entry-container .js-pmchat-submit").off("click").on("click",function(d){function c(b,l,n){a("<input>").attr({type:"hidden",name:l,value:n}).appendTo(b)}var e=a(this);e.prop("disabled",!0);w=Date.now();f?(0==k.find('input[name="msgRecipients"]').length&&x?(console.log({msg:"sentto input added with prefill:",to_userid:x}),c(k,"sentto[]",x)):console.log({msg:'User editable input[name="msgRecipients"] was found. Prefilled sentto skipped.'}),0==k.find('input[name="title"]').length?
(console.log({msg:"title input added with prefill:",pm_title:L}),c(k,"title",L)):console.log({msg:'User editable input[name="title"] was found. Prefilled title skipped.'})):(d=k.find('input[name="respondto"]'),0<d.length?d.val(E):c(k,"respondto",E),0==k.find('input[name="msgtype"]').length&&c(k,"msgtype","message"));f&&W.addClass("h-hide");vBulletin.loadingIndicator.show();vBulletin.AJAX({url:k.attr("action"),data:k.serialize(),success:function(b){b.nodeId&&(b=parseInt(b.nodeId,10),f&&(k.find('input[name="parentid"]').val(b),
r.data("parentid",b),r.data("pm_messageid",b),r.attr("data-parentid",b),r.attr("data-pm_messageid",b),F=E=b,f=!1,Q(b)),console.log("==================NEW MESSAGE POSTED, LOADING NEW MESSAGES!"),B.messagesLoading?B.queued=!0:v(b),vBulletin.contentEntryBox.resetForm(k,!1,function(){var l=k.attr("ck-editorid")||a(".js-editor",k).attr("id");l=vBulletin.ckeditor.getEditor(l);vBulletin.hv.reset();l.focus()}))},api_error:vBulletin.hv.resetOnError,complete:function(b){vBulletin.loadingIndicator.hide();e.prop("disabled",
!1)}});return!1});q="a:not('.js-pmchat-ignoreanchor')";var qa=`.js-namecard-html ${q}`;vBulletin.options.get("usenamecard")&&(q+=":not([data-vbnamecard])",a("body").on("click",qa,R));O.on("click",q,R);P.on("click",q,R);a("body").on("click","a.js-pmchat-ignoreanchor",function(d){d.preventDefault()});ia.off("click").on("click",Y);0<ka.length&&0<H.length&&aa();a(".js-pm-content-entry-container .js-button").enable();g();K();(function(){a(document).on("click keypress scroll",function(c){Z=!0});var d=k.attr("ck-editorid")||
a(".js-editor",k).attr("id");a("#"+d).on("afterInit",function(){var c=vBulletin.ckeditor.getEditor(d);c.on("contentDom",function(){function e(){Z=!0}var b=c.editable();null!=b&&(b.attachListener(b,"keypress",e),b.attachListener(b,"click",e),b.attachListener(b,"focus",e))})})})();window.setTimeout(function(){var d=k.attr("ck-editorid")||a(".js-editor",k).attr("id");a("#"+d).on("afterInit",function(){var c=vBulletin.ckeditor.getEditor(d);if(c){console.log("Setting predefined starter PM text: "+r.data("pm_textprefill"));
var e=r.data("pm_textprefill");e&&(e+="&nbsp;");c.setData(e,function(){vBulletin.ckeditor.fixTableFunctionality.call(vBulletin.ckeditor,{},c);var b=ha.find(".autocompleteHelper");0<b.length?b.trigger("focus"):c.focus();e&&(b=c.createRange(),b.moveToPosition(b.root,CKEDITOR.POSITION_BEFORE_END),c.getSelection().selectRanges([b]));g()})}else console.log("Editor not found, cannot set predefined starter PM text")})},0);J("js-pm-content-entry-container");J("js-pmchat__header");(function(){var d=a("#debug-information");
if(1==d.length){function c(){a("body").is(".l-xsmall")?d.appendTo("body"):d.insertBefore(".js-pm-content-entry-container")}c();vBulletin.Responsive.Debounce.registerCallback(c)}})()}var la=pageData.baseurl_pmchat;(function(){a(function(){a("body").off("click",".js-pmchat-link").on("click",".js-pmchat-link",function(v){v.preventDefault();v={url:a(this).attr("href")};fa(v);return!1});var g=a(".js-pmchat__dropdown");0<g.length?g.attr("data-initialized")?console.log("PM Dropdown already initialized. Skipping re-init."):
(console.log("Initializing PM Dropdown!"),g.attr("data-initialized",!0),ma()):console.log("PM Dropdown not detected, skipping init.");g=a(".js-pmchat__container");0<g.length?g.attr("data-initialized")?console.log("PM Chat window already initialized. Skipping re-init."):(console.log("Initializing PM Chat window!"),g.attr("data-initialized",!0),na()):console.log("PM Chat window not detected, skipping init.")})})()})(jQuery);
;

// ***************************
// js.compressed/module-search2.js
// ***************************
(function(e){function z(a){var c=a.find(".js-widget-search2-nodelist-item"),b=0,f=a.find(".js-fixed-event-year-header"),n=a.find(".js-year-header");0==f.length&&(f=e("<li />").addClass("js-fixed-event-year-header b-event__listyear b-event__listyear--fixed h-hide").prependTo(a));e.each(n,function(g,d){g=e(d);g.next().hasClass("js-widget-search2-nodelist-item")||g.remove()});e.each(c,function(g,d){g=e(d);d=parseInt(g.data("start-year"),10);var l=g.prev(".js-year-header");d>b&&(l.length||e("<li />").addClass("js-year-header b-event__listyear").text(d).data("start-year",
d).insertBefore(g),b=d)})}function A(a){var c=a.find(".js-widget-search2-nodelist-item"),b=a.data("search-max-page")||!1,f=a.data("loaded-pages")||{};c.removeClass("b-event--lastchild h-hide");z(a);a.find(".js-loading").appendTo(a);a.find(".js-no-more-items").appendTo(a);b&&f.hasOwnProperty(b)&&a.find(".js-no-more-items").removeClass("h-hide");c=a.height();b=a.scrollTop();a.height("auto");f=a.height();a.height(c);a.scrollTop(b);a.data("full-height",f)}function E(a,c){var b=c.$anchorItem&&c.$anchorItem.offset().top||
0;c=c.anchorItemPreviousTop-b;a.scrollTop();a.scrollTop(a.scrollTop()-c)}function F(a){var c=a.find(".js-widget-search2-nodelist-item"),b={},f=a.offset().top,n=f+a.height(),g=!1,d=!1,l,k=Number.POSITIVE_INFINITY,h,p=0;e.each(c,function(m,q){m=e(q);q=m.hasClass("h-hide");var u=m.offset().top,v=u+m.height(),x=m.data("nodeid");b["nodeid"+x]=!0;g=!q&&!(v<=f||n<=u);d=f<=u;"undefined"==typeof l&&g&&d&&(l=m,k=l.data("page"));g&&(h=m,p=h.data("page"))});return{$items:c,haveNodeids:b,$firstVisibleItem:l,firstVisiblePage:k,
$lastVisibleItem:h,lastVisiblePage:p,$anchorItem:h,anchorItemPreviousTop:h&&h.offset().top||0}}function B(a){a=e(a.target);var c=a.scrollTop();a.data("full-height");var b=a.position().top,f=a.height(),n=a.find(".js-widget-search2-nodelist-item");f=n.slice(-5).first().position().top-b<f;var g=n.slice(0,5).last();g=g.position().top-b+g.height()>b;var d=a.find(".js-fixed-event-year-header");if(0<c){var l=0;e.each(n,function(k,h){k=e(h);h=k.position().top-b;var p=k.height();if(0<h+p)return l=k.data("start-year"),
!1});d.css({top:b,width:n.first().width()}).text(l).removeClass("h-hide")}else d.addClass("h-hide");f?C(a,"bottom"):g&&C(a,"top")}function D(){e(".js-widget-search2").each(function(a,c){c=e(c);a=c.find(".js-fixed-event-year-header");c=c.find(".js-widget-search2-nodelist-item").first();a.css("width",c.width())})}function C(a,c){if(!r){r=!0;var b=a.closest(".js-widget-search2"),f=b.data("widget-id"),n=b.data("widget-instance-id"),g=a.data("search-max-page")||Number.POSITIVE_INFINITY,d=a.data("loaded-pages")||
{};e.isEmptyObject(d)&&(b=b.data("current-page"),d={},d[b]=b,a.data("loaded-pages",d));var l=Object.keys(d).sort(function(k,h){return parseInt(k,10)-parseInt(h,10)});if("bottom"==c){if(b=d[l[l.length-1]]+1,g<b){r=!1;return}}else if("top"==c){if(b=d[l[0]]-1,1>b){r=!1;return}}else{r=!1;return}a.find(".js-loading").removeClass("h-hide");vBulletin.AJAX({call:"/ajax/render/widget_search2",data:{widgetinstanceid:n,widgetid:f,currentPage:b},success:function(k){var h=e(k).filter(".js-widget-search2"),p=h.find(".js-widget-search2-nodelist"),
m=p.find(".js-widget-search2-nodelist-item");k=F(a);var q=k.$items,u=q.first(),v=q.length,x=k.haveNodeids;p=p.data("search-has-more");h=h.data("current-page");d[h]=h;a.data("loaded-pages",d);p||a.data("search-max-page",h);e.each(m,function(w,y){w=e(y);y=w.data("nodeid");"undefined"==typeof x["nodeid"+y]&&("bottom"==c?a.append(w):"top"==c&&u.before(w),v++)});if(200<v){var t;m=a.find(".js-widget-search2-nodelist-item");"bottom"==c?t=d[l[0]]:"top"==c&&(t=d[l[l.length-1]]);m=m.filter("[data-page='"+t+
"']");if(t<=k.firstVisiblePage||t>=k.lastVisiblePage)m.remove(),delete d[t],a.data("loaded-pages",d)}A(a);E(a,k)},complete:function(){a.find(".js-loading").addClass("h-hide");r=!1}})}}var r=!1;e(function(){var a=e(".js-widget-search2");a.length&&e.each(a,function(c,b){c=e(b);if("1"!=c.data("vb-continuous-scroll-initialized")){b=c.find(".js-widget-search2-nodelist");if(b.data("search-has-more")||b.find(".js-widget-search2-nodelist-item.h-hide").length){z(b);var f=b.parents(".js-show-on-tabs-create.h-hide");
f.length&&f.removeClass("h-hide");b.css({height:b.height(),overflowY:"scroll"});f.length&&f.addClass("h-hide")}A(b);b.off("scroll",B).on("scroll",B);e(window).off("resize",D).on("resize",D);c.attr("vb-continuous-scroll-initialized","1")}})})})(jQuery);
;

// ***************************
// js.compressed/module-tabbedcontainer.js
// ***************************
(function(b){function f(a){if("1"!=a.data("vb-tabbedcontainer-tabs-initialized")){var d=a.data("default-tab")||0;a.tabs({create:function(c,e){a.find(".js-tabs-loading-placeholder").remove();a.find(".js-show-on-tabs-create").removeClass("h-hide");a.tabs("option","active",d)},activate:function(c,e){e.newPanel.find(".js-parent-tab-render-listener").trigger("parent-tab-render")}});a.trigger("vb-tabinit");a.attr("data-vb-tabbedcontainer-tabs-initialized","1")}}b(function(){var a=b(".js-tabbedcontainer-widget-tab-wrapper");
a.length&&b.each(a,function(d,c){f(b(c))})})})(jQuery);
;

// ***************************
// js.compressed/reactions.js
// ***************************
(function(){function C(n,c){function x(){h.data("nodeid",null);h.toggleClass("vb-pop-open",!1);c(".js-reactions-add-reaction").attr("aria-expanded",!1)}function z(k,p,r=!1){return n.AJAX({call:"/ajax/api/reactions/"+(r?"unvoteNode":"voteNode"),data:{nodeid:k,votetypeid:p},success:function(a){if(a.nodevotes){a=a.nodevotes;var b=c(`.js-reactions-toggle-vote[data-nodeid="${k}"]`);b.attr("data-deleteme",1);for(votetypekey in a)if(a.hasOwnProperty(votetypekey)){var d=a[votetypekey],e=parseInt(d.votetypeid,
10),g=parseInt(d.votes,10);d=d.ivoted;var f=b.filter(`[data-votetypeid="${e}"]`),l=f.length&&f.find(".js-reactions-count");if(e)if(f.length)f.data("ivoted",d),f.attr("data-ivoted",d),l.text(g),f.attr("data-deleteme",0==g?1:0);else if(0<g){f=k;d=d?1:0;e=parseInt(e,10);f=parseInt(f,10);g=parseInt(g,10);l=c(`.js-reactions-dovote[data-votetypeid="${e}"]`);let t=l.html();g=l.length?`<div class="reactions__topic-reaction js-reactions-toggle-vote"
				data-ivoted="${d}"
				data-votetypeid="${e}"
				data-nodeid="${f}"
			>
			${t}<span class="reactions__topic-reaction--count js-reactions-count">${g}</span>
		</div>`:"";""!=g&&c(g).appendTo(c(`.js-topic-reactions-list[data-nodeid="${k}"]`))}}b.filter("[data-deleteme=1]").remove()}},api_error:function(a){return D.hasError(a,"nodevote_dupe_notallowed")?(console.log("TODO: implement flashAlreadyVoted()"),!1):!0},complete:()=>x()})}function u(k,p=!0){k.data("data-vbreaction-lock",p);k.css("cursor",p?"wait":"pointer")}if(!n.reactionsinit){function k(a,b,d){p(A);A=a;E.apply(a,"qtip-whovoted",{position:{viewport:c(window),adjust:{method:"shift flip"}},content:{title:{text:y.get("people_who_liked"),
button:!0},text:function(e,g){n.AJAX({call:"/ajax/api/reactions/fetchWhovoted",data:{nodeid:b,votetypeid:d},success:f=>{let l;if(1>f.length||!f.users)l=y.get("no_one_voted");else{l='<ul class="whovoted-container">';for(const m of f.users){f=pageData.baseurl+m.profileurl;var t=(m.avatar.isfullurl?"":pageData.baseurl_core+"/")+m.avatar.avatarpath;t=c("<img>").attr({src:t,alt:m.username});$userlink=c("<a>").attr("href",f);$avatar=$userlink.clone().addClass("avatar h-inline-block");$rightcolumn=c("<div>").addClass("rightcolumn");
$li=c("<li>").addClass("whovoteditem");$li.append($avatar.append(t));$rightcolumn.append($userlink.clone().addClass("username").html(m.musername));m.doshowdisplayname&&$rightcolumn.append(c("<div>").addClass("usertitle").append($userlink.clone().html(m.username)));$rightcolumn.append(c("<div>").addClass("usertitle").html(m.usertitle));$li.append($rightcolumn);l+=c("<div>").append($li).html()}l+="</ul>"}g.set("content.text",l)}});return y.get("working_ellipsis")}},show:{event:"",ready:!0},hide:{event:"unfocus",
fixed:!0}})}function p(a){var b=a?"object"!==typeof a.data("qtip")?!1:"false"==a.qtip().tooltip.attr("aria-hidden"):!1;b&&a.qtip("hide")}function r(a){a=c(a.currentTarget);return[a,parseInt(a.data("nodeid"),10),parseInt(a.data("votetypeid"),10)]}n.reactionsinit=!0;var h=c(".js-reactions-available-list"),D=n.ajaxtools,B=c(window);c(document).offon("click",".js-reactions-add-reaction",a=>{a=c(a.currentTarget);a.data("vb-reactions-list")||a.siblings(".js-reactions-available-list");if(h)if(h.hasClass("vb-pop-open")&&
h.data("nodeid")==a.data("nodeid"))x();else{var b=parseInt(a.data("nodeid"),10);h.data("nodeid",b);b=h;B.scrollTop();var d=a.offset().top+a.outerHeight(!0);d=Math.max(d-b.outerHeight(!0),B.scrollTop());var e="ltr"==pageData.textdirection,g=a.offset().left+(e?0:a.outerWidth(!0));b.css("top",d);e?b.css("left",g):b.css("right",g);h.toggleClass("vb-pop-open",!0);c(".js-reactions-add-reaction").attr("aria-expanded",!1);a.attr("aria-expanded",!0);h.find(".js-reactions-dovote:first").focus()}return!1});
c(document).on("click.reactions",a=>{x(c(".js-reactions-available-list.vb-pop-open"))});c(document).on("click.reactions",".js-reactions-available-list",()=>!1);c(document).offon("click",".js-reactions-dovote",a=>{const b=c(a.currentTarget);a=parseInt(h.data("nodeid"),10);const d=parseInt(b.data("votetypeid"),10);b.data("data-vbreaction-lock")||(u(b),z(a,d).then(()=>u(b,!1)))});var v=!1,q=!1,w,E=n.qtip,y=n.phrase,A;c(document).offon("click",".js-reactions-toggle-vote",a=>{if(q)return q=!1;const [b,
d,e]=r(a);a=b.hasClass("js-reactions-toggle-vote")&&b.data("ivoted");b.data("data-vbreaction-lock")||(u(b),z(d,e,a).then(()=>u(b,!1)))});c(document).offon("contextmenu ",".js-topic-reactions-whovoted-container .js-reactions-toggle-vote",a=>{if(q)return q=!1;const [b,d,e]=r(a);d&&e&&(a.preventDefault(),v=!1,clearTimeout(w),k(b,d,e))});c(document).offon("mousedown mouseenter touchstart",".js-topic-reactions-whovoted-container .js-reactions-toggle-vote",a=>{const [b,d,e]=r(a);d&&e&&(a.preventDefault(),
"touchstart"!=a.type||"touchstart"==a.originalEvent.type)&&(v=!0,q=!1,clearTimeout(w),w=setTimeout(()=>{v&&(q=!0,k(b,d,e))},750))});c(document).offon("mouseup mouseleave touchend",".js-topic-reactions-whovoted-container .js-reactions-toggle-vote",a=>{v=!1;clearTimeout(w)})}}Promise.all([vBulletin.ready("global")]).then(()=>{C(vBulletin,jQuery)})})();
;

