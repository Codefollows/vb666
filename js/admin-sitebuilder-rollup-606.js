/*
 =======================================================================*\
|| ###################################################################### ||
|| # vBulletin 6.0.6
|| # ------------------------------------------------------------------ # ||
|| # Copyright 2000-2024 MH Sub I, LLC dba vBulletin. All Rights Reserved.  # ||
|| # This file may not be redistributed in whole or significant part.   # ||
|| # ----------------- VBULLETIN IS NOT FREE SOFTWARE ----------------- # ||
|| # http://www.vbulletin.com | http://www.vbulletin.com/license.html   # ||
|| ###################################################################### ||
\*========================================================================*/
// ***************************
// js.compressed/jquery/jquery.thumbnail-radio-checkbox.min.js
// ***************************
(function(b){function f(){return"radio-checkbox-"+this.attr("name").replace(/\[|\]/g,"")}var g={thumbnailClass:"",preselect:null,select:null,unselect:null},e={init:function(c){var d=this;"object"===typeof c&&(d.settings=b.extend({},g,c));d.each(function(){var a=b(this);a.hide();b("<div></div>").addClass("radio-checkbox-thumbnail-container").addClass(function(){return"radio"==a.attr("type")?f.apply(a):""}).insertBefore(a).append(b("<div></div>").attr("id",a.attr("id")?"thumbnail-"+a.attr("id"):
"").addClass("radio-checkbox-thumbnail "+d.settings.thumbnailClass).addClass(function(){return"radio"==a.attr("type")?"has-hover":"no-hover"}).bind("mousedown.thumbnailRadioCheckbox",function(){return"function"===typeof d.settings.preselect?d.settings.preselect(b("img",this),a):!0}).bind("click.thumbnailRadioCheckbox",function(){b(this).hasClass("disabled")||"radio"==a.attr("type")&&b(this).hasClass("selected")||("checkbox"==a.attr("type")?(b(this).toggleClass("selected"),b(this).hasClass("selected")?
(a.prop("checked",!0),"function"===typeof d.settings.select&&d.settings.select(b("img",this),a)):(a.removeAttr("checked"),"function"===typeof d.settings.unselect&&d.settings.unselect(b("img",this),a))):(a.prop("checked",!0),b(".radio-checkbox-thumbnail-container."+f.apply(a)+" > div.selected").removeClass("selected"),b(this).addClass("selected"),"function"===typeof d.settings.unselect&&d.settings.unselect(b("img",this),a),"function"===typeof d.settings.select&&d.settings.select(b("img",this),a)))}).append(b("<img />").attr({src:a.attr("data-thumbnail"),
alt:a.next("label").text(),title:""}).css({width:a.attr("data-thumbnail-width")?a.attr("data-thumbnail-width")+"px":"auto",height:a.attr("data-thumbnail-height")?a.attr("data-thumbnail-height")+"px":"auto"})).append(a.nextAll(".radio-checkbox-inside-thumbnail"))).append(a.removeAttr("data-thumbnail").removeAttr("data-thumbnail-width").removeAttr("data-thumbnail-height"),a.nextAll());a.is(":checked")&&(a.prev().addClass("selected"),"function"===typeof d.settings.select&&d.settings.select(b("img",a.prev()),
a));a.is(":disabled")&&a.prev().addClass("disabled")});return this},enable:function(c,d){c.each(function(){var a=b(this);d?(a.prev().removeClass("disabled"),a.removeAttr("disabled")):(a.prev().addClass("disabled"),a.attr("disabled","disabled"))});return this},check:function(c,d){var a=c.prev(),e=b("img",a);d?("radio"==c.attr("type")&&(b(".radio-checkbox-thumbnail-container."+f.apply(c)+" > div.selected").removeClass("selected"),"function"===typeof this.settings.unselect&&this.settings.unselect(e,
c)),a.addClass("selected"),c.prop("checked",!0),"function"===typeof this.settings.select&&this.settings.select(e,c)):(a.removeClass("selected"),c.removeAttr("checked"),"function"===typeof this.settings.unselect&&this.settings.unselect(e,c));return this},option:function(){if(2<=arguments.length)this.settings[arguments[0]]=arguments[1];else if(1===arguments.length)return this.settings[arguments[0]];return this}};b.fn.thumbnailRadioCheckbox=function(){var c=arguments[0];this.settings=this.settings||
g;if(e[c])return e[c].apply(this,Array.prototype.slice.call(arguments,1));if("object"!==typeof c&&c)b.error("Method "+c+" does not exist.");else return e.init.apply(this,arguments)}})(jQuery);
;

// ***************************
// js.compressed/sb_page.js
// ***************************
vBulletin.precache("action active ad_list_description ad_otherlocations ad_used_one_other_location ad_used_x_other_locations add_modules add_subforum adding_multiple_modules_not_allowed all applying_new_template are_you_sure_want_to_delete_ad_x cancel cannot_add_system_module cannot_convert_channel cannot_remove_system_module change_homepage change_homepage_confirm_x change_homepage_confirm_x_to_y change_homepage_please_select channels check_to_hide_module choose_base_module choose_options_favicon choose_options_site_logo click_text_edit_title confirm_deletion_gcpglobal confirm_deletion_x confirm_remove_page_desc content_types create_ad create_new_custom_module delete display_order do_you_want_to_cancel_editing_search_module do_you_want_to_exit_without_saving_page do_you_want_to_remove_channel do_you_want_to_remove_forum do_you_want_to_remove_module do_you_want_to_remove_tab drag_and_drop_module_here drop_page_here dropping_container_module_into_container_module_not_allowed edit edit_ad_x edit_blog_categories edit_custom_html_module edit_favicon edit_navigation_item edit_search_module edit_site_logo error_adding_widgets error_cloning_widget error_deleting_page error_fetching_channels error_loading_search_config_script error_processing_favicon error_processing_site_logo error_renaming_module_title error_retrieving_cloned_widget_template error_retrieving_configuration error_retrieving_list_user_groups error_retrieving_modules error_retrieving_navigation_bar_configuration error_retrieving_page_map error_retrieving_templates error_saving_configuration_module error_saving_forums error_saving_navigation_bar_configuration error_saving_page error_saving_search_config error_saving_site_logo error_uploading_logo exit_without_saving_page expand forum_changes_will_be_lost global_section_notice hompage_updated_reload input_navigation_item_name input_target_url invalid_image_url main_navigation_bar make_category make_forum manage_ads module_configuration module_icon move_not_allowed moving_main_nav_to_own_sub_nav_error moving_main_nav_with_sub_nav_error new_navigation_item new_subnavigation_item next no no_ad_added no_configurations_found no_modules no_permission none overwrite_template_continue page_saved page_template_title_cannot_be_empty page_title_cannot_be_empty page_view_perm_admincp please_choose_overwrite_template_options please_enter_channel_title please_enter_new_module_title please_enter_new_template_name please_enter_page_name previous remove_channel remove_channel_q remove_forum remove_forum_q remove_module_q rename rename_custom_module reset save save_new_page save_page search_results select_edit_link_header special_options sub_navigation_bar subchannels_will_be_deleted switch_template template_changes_will_be_lost this_url_is_already_used title unable_to_delete_widget_instances uncheck_to_unhide_module url_too_long user_group_settings warning warning_gcpuser yes you_are_here you_can_also_drag_and_drop_modules_here you_cannot_revert_this_layout_confirm you_must_specify_a_screen_layout".split(" "),
[]);
(function(a,V,O,va){function Qa(b){return b.val()==b.prop("defaultValue")}function oa(){location.reload(!0)}function Ra(b,c,d){return new Promise((e,h)=>{b?O.openConfirmDialogSimple({title:c,message:d,iconType:"warning",onClickYes:e,onClickNo:h}):e()})}function Fa(b){var c=()=>b.css("maxHeight","80vh");c();b.on("dialogopen",c);return b}function ea(){setTimeout(function(){vBulletin.vBScroller&&vBulletin.vBScroller.initializeScroller&&a(".js-vbscroller-wrapper:visible").each(function(){vBulletin.vBScroller.initializeScroller(a(this))});let b=
a(".scroller.category"),c=a(".categories");b.length&&c.length&&(c.width()<=b.width()?a(".category-arrow-left, .category-arrow-right").css("visibility","hidden"):a(".category-arrow-right").css("visibility","visible"))},0)}function wa(){var b=a("#edit-page-dropdown .panel .panel-main-content:visible");0<b.length&&(b=parseFloat(b.css("margin-left"))+parseFloat(b.css("margin-right"))+parseFloat(b.css("border-left-width"))+parseFloat(b.css("border-right-width"))+parseFloat(b.css("padding-left"))+parseFloat(b.css("padding-right")),
a("#edit-page-dropdown .panel .panel-main-content").width(a("#edit-page-dropdown .panel:visible").width()-a("#edit-page-dropdown .panel .panel-header-text:visible").outerWidth(!0)-b-1),a("#edit-page-dropdown form .form-gutter-right").width(Math.ceil((a("#edit-page-dropdown form:visible").width()-a("#edit-page-dropdown .panel:visible").outerWidth(!0))/2)),ea())}function vb(b,c){if(b.is(".container-widget")){var d=b.find(".js-admin-widget-list");d.css({minHeight:"35px",height:"auto",paddingBottom:"10px"}).closest(".js-widget-content").removeClass("h-hide").css({minHeight:"35px"});
if(!a.isEmptyObject(c)){var e=[];a.each(c,function(){e.push(this)});e.sort(function(h,q){return h.displayorder==q.displayorder?0:h.displayorder<q.displayorder?-1:1});a.each(e,function(){var h=a(this.rendered_template);this.hidden&&h.addClass("hidden-widget");d.append(h)})}}}function ja(b,c,d){var e=b.attr("data-widget-id");b={widgetinstanceid:b.attr("data-widget-instance-id")||"",widgetid:e,guid:"",userid:0,channelId:0,withTemplate:!1};d="undefined"==typeof d?!1:!!d;vBulletin.AJAX({call:"/ajax/api/widget/fetchConfigAndIsUserEditable",
data:b,success:function(h){var q=h;d||(q=h.config);"function"==typeof c&&c(q)}})}function pa(b){b.tab_data||(b.tab_data=[]);b.default_tab||(b.default_tab=0);b.submodules_key||(b.submodules_key="tabbedContainerSubModules__temp");b.display_tabs||(b.display_tabs="");if(""==b.display_tabs){var c={};a.each(b.tab_data,function(d,e){c[d]="1"});b.display_tabs=c}return b}function qa(){"undefined"==typeof ka&&(ka=a("#config_pagetemplateid").val()||a("#select-template input[type=radio]:checked").val()||"");
return ka}function Sa(b){b=parseInt(b,10);0<b&&(ka=b,a("#config_pagetemplateid, #save-page-form #pagetemplateid-yes, #save-page-form #pagetemplateid-new").val(ka))}function xa(b){b=b.closest(".js-section");return b.length?b.data("section")||0:0}function ya(b){b=b.prev(".canvas-widget");return b.length?b.data("widget-instance-id")||0:0}function ra(b,c){vBulletin.AJAX({call:"/ajax/api/widget/saveAdminConfig",data:{widgetid:b.attr("data-widget-id"),widgetinstanceid:b.attr("data-widget-instance-id")||
"",pagetemplateid:qa(),data:c,displaysection:xa(b),displayafterwidgetinstanceid:ya(b)},complete:function(){a("body").css("cursor","auto")}})}function za(b){b=b.parents(".canvas-widget");return b.length?($parentModule=a(b[0]),parseInt($parentModule.data("widget-instance-id"),10)):0}function sa(b){var c=b.parents(".canvas-widget[data-is-tabbed-container='true']");b.data("is-tabbed-container")&&Ga(b);0!=c.length&&Ga(a(c[0]))}function fa(b){var c={};b.find("> .js-admin-widget-content > .js-admin-widget-tab").each(function(){var d=
a(this),e=[],h=d&&d.data("tab-number")||0,q=d&&d.data("tab-title")||"";c[h]={title:q};d.find("> .widget-content > .canvas-layout-row > .canvas-widget-list > .canvas-widget:not(.dummy-widget)").each(function(){var v=a(this),x=v.data("widget-id");v=v.data("widget-instance-id")||v.attr("data-widget-instance-id");var f={};v&&(f.widgetinstanceid=v);x&&(f.widgetid=x);a.isEmptyObject(f)||e.push(f)});c[h].widgets=e});return c}function Ga(b){ja(b,function(c){c=pa(c);c.tab_data=fa(b);a.isEmptyObject(c)||ra(b,
c)})}function Ta(b){vBulletin.AJAX({call:"/ajax/api/widget/deleteWidgetInstances",data:{widgetInstanceIds:b},api_error:vBulletin.ajaxtools.logApiError})}function Aa(b,c,d,e,h,q){var v=qa(),x=""==v||0==v;if(x){if(Ua.saveNewWidgetInstance){Va.one("save-new-widgetinstance-pagetemplateid-ready",function(f){Aa(b,c,d,e,h,q)});return}Ua.saveNewWidgetInstance=!0}vBulletin.AJAX({call:"/ajax/api/widget/saveNewWidgetInstance",data:{containerinstanceid:b,widgetid:c,pagetemplateid:v,subWidgetConfig:d,displaysection:h,
displayafterwidgetinstanceid:q},success:function(f){x&&f.pagetemplateid&&(Sa(f.pagetemplateid),Va.trigger("save-new-widgetinstance-pagetemplateid-ready"));f.widgetinstanceid&&"function"==typeof e&&e(f.widgetinstanceid)}})}function ta(b){if(b.data("is-tabbed-container")){var c=b.attr("data-widget-instance-id");if(!c){var d=za(b),e=xa(b),h=ya(b);return Aa(d,b.attr("data-widget-id"),{},function(u){b.attr("data-widget-instance-id",u);return ta(b)},e,h)}if(a.isEmptyObject(Ba))return Wa(ta,[b]);if(!b.data("tabbed-container-initialized")){var q=
b.find(".js-admin-widget-tab-panel-template");d=q.find(".js-admin-widget-list");var v=b.find(".js-admin-widget-tab-header-template");e=b.find(".js-admin-widget-content");var x=e.find(".js-tab-headers"),f=x.find(".js-tab-add");q.detach().removeClass("js-admin-widget-tab-panel-template");v.detach().removeClass("js-admin-widget-tab-header-template");e.tabs({beforeActivate:function(u,n){if(a(n.newTab).hasClass("js-tab-add"))return!1}});var r=e.tabs("widget");d.css({minHeight:"60px",height:"auto",paddingBottom:"10px"});
x.find(".js-tab-add").on("click",function(){ja(b,function(u){var n=pa(u.config),l=n.tab_data.length||0,k=u.isusereditable.tab_data||!1;openPromptDialog({title:vBulletin.phrase.get("enter_tab_title"),message:"",buttonLabel:{okLabel:vBulletin.phrase.get("ok"),cancelLabel:vBulletin.phrase.get("cancel")},onClickOK:function(m){if(!m)return!1;y(m,[],l,l,k);n.display_tabs[l]="1";n.tab_data=fa(b);a.isEmptyObject(n)||ra(b,n)}})},!0)});v.find(".js-edit-tab-button").on("click",function(){var u=a(this).closest("li[aria-controls]"),
n=u.attr("aria-controls"),l=r.find(".js-admin-widget-tab[id='"+n+"']"),k=l&&l.data("tab-title")||"";ja(b,function(m){var t=pa(m);openPromptDialog({title:vBulletin.phrase.get("enter_tab_title"),message:"",initialValue:k,buttonLabel:{okLabel:vBulletin.phrase.get("ok"),cancelLabel:vBulletin.phrase.get("cancel")},onClickOK:function(g){u.find("span.js-tab-title").text(g);l.data("tab-title",g);t.tab_data=fa(b);a.isEmptyObject(t)||ra(b,t)}})});return!1});v.find(".js-remove-tab-button").on("click",function(){var u=
a(this).closest("li[aria-controls]"),n=u.attr("aria-controls"),l=r.find(".js-admin-widget-tab[id='"+n+"']");ja(b,function(k){var m=pa(k.config),t=l.data("tab-number");O.openConfirmDialogSimple({title:"remove_tab_q",message:["do_you_want_to_remove_tab",l.data("tab-title")],iconType:"warning",onClickYes:function(){m.default_tab==t&&(m.default_tab=0);Array.isArray(m.display_tabs)||(m.display_tabs=a.map(m.display_tabs,function(p){return p}));m.display_tabs.splice(t,1);var g=[];l.find(".canvas-widget").each(function(p,
z){(p=a(this).data("widget-instance-id"))&&g.push(p)});g.length&&Ta(g);u.remove();l.remove();x.find("li:not('.js-tab-add')").each(function(p,z){z=a(this).attr("aria-controls");z=r.find(".js-admin-widget-tab[id='"+z+"']");z.length&&z.data("tab-number",p)});r.tabs("refresh");m.tab_data=fa(b);a.isEmptyObject(m)||ra(b,m);la();W=!0}})},!0);return!1});var y=function(u,n,l,k,m){"undefined"==typeof u&&(u="Untitled Tab");"undefined"==typeof n&&(n=[]);"undefined"==typeof l&&(l=b.find(".js-admin-widget-tab").length);
var t=[];for(C in n)n.hasOwnProperty(C)&&t.push(C);t.sort(function(H,K){return H-K});var g=t.length,p=q.clone().uniqueId().removeClass("h-hide").data("tab-number",l).data("tab-title",u),z=p.find(".js-admin-widget-list");C=p.attr("id");var A=v.clone(!0).removeClass("h-hide");A.children("a.js-tab-header-link").attr("href","#"+C);A.find("span.js-tab-title").text(u);for(j=0;j<g;j++){var C=t[j],B=n[C],E=B.widgetid||Ba[B.guid],F=B.widgetinstanceid||"";u=a('<div data-widget-id="'+E+'" />');u.attr("data-tab-number",
l);u.attr("data-widget-order",C);u.attr("data-widget-instance-id",F);u.append(a('<img src="images/loader-box-blue.gif" /> '));z.append(u);E&&(C=function(H,K,I,U){return function(L){L=L.filter(function(){return this.nodeType===Node.ELEMENT_NODE});if(I)L.attr("data-widget-instance-id",I);else{var Y=H.adminconfig||{},X=xa(U),D=ya(U);Aa(c,K,Y,function(M){L.attr("data-widget-instance-id",M);Ga(b)},X,D)}if(!m){Y=L.find(".js-move-button");X=L.find(".js-edit-button");D=L.find(".js-remove-button");var w=L.find(".js-edit-tab-button"),
G=L.find(".js-remove-tab-button");Y.hide();X.hide();D.hide();w.hide();G.hide();L.addClass("js-widget-non-sortable")}U.replaceWith(L);L.filter(":not(.container-widget)").find(".toggle-button").trigger("click",[!0]);ta(L)}}(B,E,F,u),Xa(u,C))}f.before(A);r.append(p);r.tabs("refresh");r.tabs("option","active",k);z.prepend('<div class="canvas-widget dummy-widget dummy-widget--no-fixed-height"><span>{0}</span></div>'.format(vBulletin.phrase.get("drag_and_drop_modules_below")))};ja(b,function(u){var n=pa(u.config),
l=n.tab_data,k=l.length,m=n.default_tab;u=u.isusereditable.tab_data||!1;for(n=0;n<k;n++)y(l[n].title,l[n].widgets,n,m,u);u?x.sortable({helper:"clone",opacity:1,axis:"x",items:"li:not('.js-tab-add')",cancel:".js-edit-tab-button, .js-remove-tab-button",start:function(){old_numidx_to_controls={};new_controls_to_numidx={};r.find(".js-admin-widget-tab").each(function(t,g){old_numidx_to_controls[t]=a(this).attr("id")})},stop:function(){x.find("li:not('.js-tab-add')").each(function(t,g){g=a(this).attr("aria-controls");
var p=r.find(".js-admin-widget-tab[id='"+g+"']");p.length&&(p.data("tab-number",t),r.append(p));new_controls_to_numidx[g]=t});r.tabs("refresh");ja(b,function(t){m=new_controls_to_numidx[old_numidx_to_controls[m]];t.default_tab=m;var g={},p;for(p in t.display_tabs)g[new_controls_to_numidx[old_numidx_to_controls[p]]]=t.display_tabs[p];t.display_tabs=g;t.tab_data=fa(b);a.isEmptyObject(t)||ra(b,t)})}}):f.hide()},!0);b.data("tabbed-container-initialized",!0)}}}function Ya(b,c){var d=a(".js-canvas-layout-container > .canvas-layout").attr("id");
vBulletin.sitebuilder.tempModuleHTMLCache||(vBulletin.sitebuilder.tempModuleHTMLCache={},a(".js-canvas-layout-container .canvas-widget").each(function(){var h=a(this).data("widget-instance-id");vBulletin.sitebuilder.tempModuleHTMLCache["widgetinstance_"+h]=this.outerHTML}));let e=a(".js-canvas-layout-container");e.text("");vBulletin.AJAX({call:"/admin/get-layouts-for-sitebuilder",data:{pagetemplateid:pageData.pagetemplateid,channelid:pageData.channelid},success:function(h){e.html(h.screenlayoutlist);
if(h.widgets&&0<h.widgets.length){let q=a("#"+d);a.each(h.widgets,function(v,x){v=q.find(".canvas-widget-list.section-"+v);for(let f of x)v.append(f.rendered_template),x=v.find(".canvas-widget").filter(function(){return a(this).data("widget-instance-id")==f.widgetinstanceid}),"undefined"!=typeof f.subModules&&vb(x,f.subModules),ta(x)})}a(".js-section-global").each((q,v)=>{a("<div />").addClass("global-section-notice").html(vBulletin.phrase.get("global_section_notice")).prependTo(v)});vBulletin.ensureFun(c)()},
title_phrase:"sitebuilder",error_phrase:"unable_to_load_layouts"})}function Z(b,c){var d=c.enableButtons;b=a(".js-top-menu-sitebuilder--list .js-top-menu-link");d?(a(".js-top-menu-user").removeClass("h-hide"),b.removeClass("b-top-menu__item-link--selected b-top-menu__item-link--disabled")):(c=a(c.currentButton),b.removeClass("b-top-menu__item-link--selected").addClass("b-top-menu__item-link--disabled"),c.addClass("b-top-menu__item-link--selected"),a(".js-top-menu-user").addClass("h-hide"))}function Za(b,
c){a(".js-top-menu-sitebuilder .js-top-menu-link");Z(null,{enableButtons:!c,currentButton:b});a(document.body).toggleClass("edit-mode "+b.id,c).toggleClass("view-mode",!c);a(".js-top-menu-user").toggleClass("h-hide",c)}function ba(){a(this).hasClass("selected")||a(document.body).hasClass("edit-mode")||Za(this,!0);return!1}function $a(){Za(this,!1);return!1}function ab(b,c){b=a("<div />").append(b.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,'<span class="axd-placeholder">{0}'.format(vBulletin.phrase.get("x_will_show_up_here_when_saved",
c))).replace(/<vb:/g,"&lt;vb:").replace(/<\/vb:/g,"&lt;/vb:"));b.find("span.axd-placeholder").not(":first").remove();b.find("iframe").remove();return b.html()}function wb(){function b(){return new Promise((g,p)=>{V.AJAX({call:"/ajax/api/site/loadHeaderNavbar",data:{siteId:1,url:location.pathname+location.search,edit:0,channelId:pageData.channelid||pageData.nodeid||0},success:function(z){g(z)}})})}function c(g=!1){let p="navbar"==r,z=p?a("#channel-tabbar ul"):a("#footer-tabbar ul.nav-list"),A=p?a("#channel-subtabbar ul"):
a(),C={};const B=new Promise((F,H)=>{g?b().then(K=>{K.forEach(I=>{0<I.routeid&&(C[I.routeid]=I.normalizedUrl)});F()}):F()});z.html("");A.html("");var E=function(F,H,K){var I=(H.data("item-newwindow")?' target="_blank" ':" ")+(H.data("item-attr")||"");K=H.hasClass("selected")&&K?' class="current"':"";I=a("<li{0}><a {1}>{2}</a></li>".format(K,I,H.data("item-name")));K=H.data("item-routeid");H=H.data("item-url");0<K&&C.hasOwnProperty(K)&&(H=C[K]);I.find("a").prop("href",y(H));F.append(I)};B.then(()=>
{a("#edit-navbar .navbar-ui-wrapper ul li").each(function(){var F=a(this);E(z,F,p);F.hasClass("selected")&&a(F.data("subnav-element")).find("li").each(function(){E(A,a(this),!0)})})})}function d(g){var p=g.closest("li"),z=a("#edit-navbar"),A=z.find(".subnavbar-ui-wrapper");z.find("li").removeClass("h-disabled selected");z.find(".navbar-item-opensubnav").removeClass("b-icon--active");p.addClass("selected");g.addClass("b-icon--active");A.find("ul").hide();a(p.data("subnav-element")).show();A.show()}
function e(g=null){let p="url",z="",A=0,C="",B="",E=!1;g&&(z=g.data("item-url")||"",C=g.data("item-attr")||"",B=g.data("item-name")||"",E=g.data("item-newwindow")||!1,A=parseInt(g.data("item-routeid")||0,10),0<A&&(z="",p="routeid"));a("#navbar-edit-name").val(B);a("#navbar-edit-url").val(z);a("#navbar-edit-attr").val(C);a("#navbar-edit-newwindow").prop("checked",E);a(`.js-navbar-pagelist option[value="${A}"]`).prop("selected",!0);a(`#navbar-edit-item input[name="navitem_type"][value="${p}"]`).prop("checked",
!0)}var h=null,q=null,v="",x="",f="",r="",y=function(g){g||(g="");return g.match(/^(https?:\/\/|mailto:)/i)?g:"/"==g.substr(0,1)?pageData.baseurl+g:pageData.baseurl+"/"+g},u=function(g,p,z,A,C,B,E){C=C||[];p=JShtmlEncode(p);return a("<li />").append("<label>{0}</label>".format(p)).append(a("<div />").addClass("nav-item-controls h-right").append('<i>|</i><span class="navbar-item-delete b-icon b-icon__trash b-icon--active" title="{0}"></span>'.format(vBulletin.phrase.get("delete"))).append('<i>|</i><span class="navbar-item-edit b-icon b-icon__pencil b-icon--active" title="{0}"></span>'.format(vBulletin.phrase.get("edit"))).append('<i>|</i><span class="navbar-item-opensubnav b-icon b-icon__arrow-right-m" title="{0}"></span>'.format(vBulletin.phrase.get("expand")))).data({"item-phrase":g,
"item-name":p,"item-url":z,"item-routeid":E,"item-newwindow":A,"item-usergroups":C,"item-attr":B})},n=function(g,p,z,A,C,B,E,F){g=u(g,p,z,A,C,E,F);g.appendTo(q);var H=a("<ul />").addClass("sub-navbar-list navbar-list sortable");a(B).each(function(){u(this.phrase?this.phrase:"",this.title?this.title:"",this.url?this.url:"",this.newWindow?this.newWindow:!1,this.usergroups?this.usergroups:[],this.attr?this.attr:"",this.routeid?this.routeid:0).appendTo(H)});(function(){H.sortable({start:function(K,I){I.placeholder.html(vBulletin.phrase.get("drop_page_here")).height(I.item.height()-
2)},stop:function(K,I){c()},receive:function(K,I){K=I.item.data("subnav-element")||a();K.is(":visible")?(I.sender.sortable("cancel"),vBulletin.warning("move_not_allowed","moving_main_nav_to_own_sub_nav_error")):0<K.find("li").length&&(I.sender.sortable("cancel"),vBulletin.warning("move_not_allowed","moving_main_nav_with_sub_nav_error"))},connectWith:".sortable",placeholder:"sortable-highlight",forcePlaceholderSize:!0}).disableSelection()})();H.hide();H.appendTo("#navbar-ui-container .subnavbar-list-container");
g.data("subnav-element",H);return g},l=function(g){r=g;"navbar"==r?(v=a("#channel-tabbar ul").html(),x=a("#channel-subtabbar ul").html(),f=a("#channel-tabbar ul li.current a").attr("href"),a("#channel-subtabbar.h-hide").toggleClass("h-hide default-hide")):(v=a("#footer-tabbar ul.nav-list").html(),f=a("#footer-tabbar ul.nav-list li.current a").attr("href"));a("#admin-navbar-strip-gutter").removeClass().addClass("navbar-"+r);a("#header").add("#header-axd").hide();a("#navbar-ui-container").find(".navbar-ui-wrapper, .subnavbar-ui-wrapper").remove();
g=a("#edit-navbar");g.find(".panel-header-text").hide();a("#edit-navbar #panel-header-"+r).show();g.slideDown("slow",function(){vBulletin.AJAX({call:"/ajax/api/site/"+("navbar"==r?"loadHeaderNavbar":"loadFooterNavbar"),data:{siteId:1,edit:1},success:function(p){var z=a("<ul />").addClass("main-navbar-list navbar-list sortable "+r),A=a("<div />").addClass("new-nav-item main-nav").html(vBulletin.phrase.get("new_navigation_item")),C=a("<h4 />").text(vBulletin.phrase.get("main_navigation_bar"));A=a("<div />").addClass("navbar-ui-wrapper").append(C).append(z).append(A).appendTo("#navbar-ui-container");
z.sortable({start:function(E,F){F.placeholder.html(vBulletin.phrase.get("drop_page_here")).height(F.item.height()-2)},stop:function(E,F){c()},connectWith:".sortable",placeholder:"sortable-highlight",forcePlaceholderSize:!0}).disableSelection();q=z;z=a("<div />").addClass("subnavbar-list-container");C=a("<div />").addClass("new-nav-item sub-nav").html(vBulletin.phrase.get("new_subnavigation_item"));var B=a("<h4 />").text(vBulletin.phrase.get("sub_navigation_bar"));a("<div />").addClass("subnavbar-ui-wrapper").append(B).append(z).append(C).appendTo("#navbar-ui-container").hide();
p&&(a(p).each(function(){n(this.phrase?this.phrase:"",this.title?this.title:"",this.url?this.url:"",this.newWindow?!0:!1,this.usergroups?this.usergroups:[],this.subnav?this.subnav:[],this.attr?this.attr:"",this.routeid?this.routeid:0)}),"navbar"==r&&d(A.find(".navbar-item-opensubnav").first()),c())},error_phrase:"error_retrieving_navigation_bar_configuration"})})};a(document).on("vb-sitebuilder-panel--navbar",function(){var g=a(".js-top-menu-tab--navbar").get(0);a("#edit-navbar").is(":hidden")&&vBulletin.assertUserHasAdminPermission("canusesitebuilder",
g,function(){ba.apply(g);l("navbar")});return!1});a(document).on("vb-sitebuilder-panel--footer",function(){var g=a(".js-top-menu-tab--footer").get(0);a("#edit-navbar").is(":hidden")&&vBulletin.assertUserHasAdminPermission("canusesitebuilder",g,function(){ba.apply(g);l("footer")});return!1});var k=function(g){a("#navbar-edit-item").dialog({autoOpen:!0,modal:!0,resizable:!1,closeOnEscape:!1,showCloseButton:!1,width:400,dialogClass:"dialog-container navbar-item-dialog-container",open:function(){a("#navbar-edit-name").trigger("focus")}}).dialog("option",
"title",g||vBulletin.phrase.get("edit_navigation_item")).dialog("open")};a("#edit-navbar").on("click",".new-nav-item",function(){h=null;q=0<a(this).closest(".navbar-ui-wrapper").length?a(this).closest(".navbar-ui-wrapper").find("ul"):a(this).closest(".subnavbar-ui-wrapper").find("ul").filter(":visible");e();k(a(this).html());return!1});a(document).on("click","#navbar-edit-save",function(){var g=a("#navbar-edit-name"),p=a("#navbar-edit-url"),z=a('input[name="navitem_type"]:checked').val(),A=g.val(),
C=p.val(),B=a(".js-navbar-pagelist option:selected").val();"routeid"!=z&&(B=0);if(""==A)vBulletin.warning("edit_navigation_item","input_navigation_item_name",g);else if(""==C&&"url"==z)vBulletin.warning("edit_navigation_item","input_target_url",p);else{g=a("#navbar-edit-newwindow").prop("checked");p=a("#navbar-edit-item").data("edit-usergroups");z=a("#navbar-edit-attr").val();if(h){var E=h;$newItem=u(E.data("item-phrase"),A,C,g,p,z,B);E.data("subnav-element")&&$newItem.data("subnav-element",E.data("subnav-element"));
E.hasClass("selected")&&$newItem.addClass("selected");E.replaceWith($newItem)}else A=n("",A,C,g,p,[],z,B),q.is(".main-navbar-list.navbar")&&d(A);c();q=h=null;a("#navbar-edit-item").dialog("close")}return!1});a(document).on("click","#navbar-edit-cancel",function(){a("#navbar-edit-item").dialog("close");return!1});var m=!1;a(document).on("click","#navbar-edit-usergroups",function(){var g=a("#navbar-edit-usergroups-dialog"),p=function(){var A=g.find(".select_all"),C=g.find(".navbar-usergroup-checkbox");
C.prop("checked",!1);var B=function(){var F=C.filter(":checked").length==C.length&&C.eq(0).is(":checked");A.prop("checked",F)};C.off("change").on("change",B);A.off("change").on("change",function(){C.prop("checked",a(this).prop("checked"))});if(!h)return!1;var E=h.data("item-usergroups-temp");E||h.data("item-usergroups");a.each(E,function(F,H){a("#navbar-usergroup-checkbox-"+H).prop("checked",!0)});B()},z=function(){var A=[];g.find(".dialog-body input[type=checkbox]").each(function(){a(this).prop("checked")&&
A.push(a(this).val())});a("#navbar-edit-item").data("edit-usergroups",A);h&&h.data("item-usergroups-temp",A)};m?g.dialog("open"):(g.dialog({title:vBulletin.phrase.get("user_group_settings"),autoOpen:!0,modal:!0,resizable:!1,closeOnEscape:!1,showCloseButton:!1,width:500,dialogClass:"dialog-container pagemap-dialog-container input-dialog",create:function(){var A=a(this);A.find(".cancel-button").on("click",function(){A.dialog("close")});A.find(".save-button").on("click",function(){z();A.dialog("close")});
vBulletin.AJAX({call:"/ajax/api/usergroup/fetchUsergroupList",complete:function(){a("body").css("cursor","auto")},success:function(C){var B=[];a(C).each(function(){B.push('<div class="blockrow"><label><input type="checkbox" class="navbar-usergroup-checkbox" id="navbar-usergroup-checkbox-{0}" value="{0}"><span>{1}</span></label></div>'.format(this.usergroupid,this.title))});A.find(".dialog-body").html(B.join(""));A.dialog("option","position",{of:window});p()},error_phrase:"error_retrieving_list_user_groups",
after_error:function(){A.dialog("close")}})},open:function(){p()}}),m=!0);return!1});a("#edit-navbar").on("click",".navbar-item-delete",function(){var g=a(this).closest("li");g.is(".selected")&&(a("#edit-navbar .subnavbar-ui-wrapper").hide(),a(g.data("subnav-element")).remove());g.remove();c();return!1});a("#edit-navbar").on("click",".navbar-item-edit",function(){var g=a(this).closest("li");h=g;q=g.closest("ul");h.data("item-usergroups-temp",null);e(h);k(a(this).html());return!1});a(".js-onclick-set-navitem-type").on("click",
g=>{a("#edit-navbar input[name='navitem_type']").prop("checked",!1);a(g.currentTarget).find("input[name='navitem_type']").prop("checked",!0)});a("#edit-navbar").on("click",".navbar-item-opensubnav",function(){d(a(this));c();return!1});a(document).on("click",".navbar-navbar #admin-navbar-strip .lnkExitWithoutSaving, .navbar-footer #admin-navbar-strip .lnkExitWithoutSaving",function(){a("#edit-navbar").slideUp();a("#header").add("#header-axd").show();"navbar"==r?(a("#channel-tabbar ul").html(v),a("#channel-subtabbar ul").html(x).parent(".default-hide").toggleClass("h-hide default-hide")):
a("#footer-tabbar ul.nav-list").html(v)});var t=function(){var g=[];a("#edit-navbar .navbar-ui-wrapper ul li").each(function(){var p=a(this),z=function(C){return{phrase:C.data("item-phrase"),title:C.data("item-name"),url:C.data("item-url"),routeid:C.data("item-routeid"),newWindow:C.data("item-newwindow"),usergroups:C.data("item-usergroups"),attr:C.data("item-attr")}},A=[];p.data("subnav-element").find("li").each(function(){$subLi=a(this);A.push(z($subLi))});p=z(p);p.subnav=A;g.push(p)});V.AJAX({call:"/ajax/api/site/"+
("navbar"==r?"saveHeaderNavbar":"saveFooterNavbar"),data:{siteId:1,data:g},success:function(p){a("#edit-navbar").slideUp();a("#header").add("#header-axd").show();a("#admin-navbar-strip-gutter").addClass("h-hide");a(document.body).removeClass("edit-mode lnkEditPage lnkNewPage lnkHeader lnkNavBar lnkFooter").addClass("view-mode");Z(null,{enableButtons:!0,currentButton:null});if("navbar"==r){var z=!1;a("#edit-navbar .navbar-ui-wrapper ul li").each(function(){var A=a(this);if(y(A.data("item-url"))==y(f))return z=
!0,a("#edit-navbar .navbar-ui-wrapper ul li").removeClass("selected"),A.addClass("selected"),!1});z?c(!0):(a("#channel-tabbar ul li").removeClass("current"),a("#channel-subtabbar ul").html(""))}},error_phrase:"error_saving_navigation_bar_configuration"})};a(document).on("click",".navbar-navbar #admin-navbar-strip .lnkSaveChanges, .navbar-footer #admin-navbar-strip .lnkSaveChanges",function(){t()})}function xb(){function b(){var f=a(".js-sbpanel-pagelist-wrapper");f.find(".tab-item a").on("click",
function(r){r.preventDefault()});f.tabs({beforeActivate:(r,y)=>{y.oldPanel.removeClass("js-panel-active");y.newPanel.addClass("js-panel-active");a(".js-sbpanel-pagelist-wrapper .js-sb-sethomepage-btn").prop("disabled",y.newPanel.is("#sb-pagelist-tab-orphans"))}})}function c(){var f=a(".js-pagelist-filter:checked").val();d(f,!0)}function d(f="all",r=!1){var y=a(".js-sbpanel-pagelist-wrapper"),u=y.find(".js-delayed-template-render-insert-here"),n=y.find(".js-loading-placeholder"),l={};y.find(".js-simple-pagination-wrapper").each(function(){var k=
a(this);l[k.attr("id")]=k.find(".js-pagenum").val()||0});y.tabs("disable");u.html("");n.removeClass("h-hide");vBulletin.AJAX({call:"/ajax/render/admin_sbpanel_pagelist_content_wrapper",data:{urlOptions:{type:f},isAjaxTemplateRenderWithData:!0},success:function(k){u.html(k.template);y.tabs("refresh");y.tabs("enable");y.find(".js-simple-pagination-wrapper").each(function(){var m=a(this),t=r?0:l[m.attr("id")];q(m,t);e(m);h(m)});y.tabs({active:1});y.tabs({active:0})},error_phrase:"error_fetching_dialog",
complete:function(){n.addClass("h-hide")}})}function e(f){f.data("select-all-checkboxes-initialized")||(f.data("select-all-checkboxes-initialized",!0),f.find(".js-checkbox--checkall").each(function(){var r=a(this),y=r.data("group-id"),u=f.find(".js-checkbox[data-group-id='"+y+"']"),n=u.length;r.on("change",function(l){l=a(this).prop("checked");r.prop("indeterminate",!1);l?u.prop("checked",!0):u.prop("checked",!1)});u.on("change",function(l){a(this).prop("checked");l=u.filter(":checked").length;n>
l?(r.prop("checked")&&0<l&&r.prop("indeterminate",!0),r.prop("checked",!1)):(r.prop("indeterminate",!1),r.prop("checked",!0))})}))}function h(f){f.data("actions-initialized")||(f.data("actions-initialized",!0),f.find(".js-delete-orphaned-pagetemplates").on("click",function(r){r=a(this).data("group-id");let y=f.find(".js-checkbox[data-group-id='"+r+"']:checked");1>y.length?O.error("error","delete_orphaned_pagetemplates_please_select_one"):O.openConfirmDialogSimple({title:"delete",message:["delete_orphaned_pagetemplates_prompt_x",
y.length],iconType:"warning",onClickYes:()=>{V.AJAX({call:"/ajax/api/page/deleteOrphanedPagetemplates",data:y.serializeArray(),success:c})}})}))}function q(f,r){function y(g){1>g&&(g=1);g>t&&(g=t);k.addClass("h-hide");m[g]&&m[g].removeClass("h-hide");l.val(g)}if(!f.data("pagination-initialized")){f.data("pagination-initialized",!0);var u=f.find(".js-pagenav-goprev"),n=f.find(".js-pagenav-gopost"),l=f.find(".js-pagenum");r=r&&parseInt(r,10)||parseInt(l.val(),10);var k=f.find(".js-paginated-page"),
m={},t=0;k.each(function(){t++;m[t]=a(this)});l.on("blur keyup",function(g){if("blur"==g.type||"13"==g.keyCode)g=parseInt(l.val(),10),y(g)});u.on("click",function(g){g=parseInt(l.val(),10);g--;y(g)});n.on("click",function(g){g=parseInt(l.val(),10);g++;y(g)});y(r)}}function v(f,r,y,u){var n=vBulletin.phrase.get(u.titlephrase),l=vBulletin.phrase.get(u.subtitlephrase),k=f.closest(".header-edit-box");a(".header-edit-box.selected").removeClass("selected");k.addClass("selected");y.removeData(["styleselection",
"fileid"]).data("orig-src",y.attr("src"));r.dialog({autoOpen:!0,modal:!0,resizable:!1,closeOnEscape:!1,showCloseButton:!1,width:520,dialogClass:"dialog-container site-logo-dialog-container input-dialog",title:n,create:function(m,t){m=r.closest(".ui-dialog").find(".ui-dialog-title");m.append('<span class="dialog-subtitle"></span>');m.children("span.dialog-subtitle").text(l);r.find(".js-cancel-edit").on("click",function(){var g=y.data("orig-src");g&&y.removeData(["styleselection","fileid"]).attr("src",
g);r.dialog("close")});r.find(".js-save-edit").on("click",u.onClickSave);r.find(".styleselection").on("change",function(){y.data("styleselection",a(this).val())});r.fileupload({dropZone:"vb-self",dataType:"json",add:function(g,p){a("body").css("cursor","wait");a(g.target).find(".js-upload-progress:first").removeClass("h-hide");p.submit()},done:function(g,p){if(p.result&&p.result.filedataid)u.onLocalUploadSuccess(p);else vBulletin.error("error",u.errorphrase)},fail:function(g,p){vBulletin.error("error",
u.errorphrase)},always:function(g,p){a("body").css("cursor","auto");a(g.target).find(".js-upload-progress:first").addClass("h-hide")}});r.find(".js-upload-from-url").offon("click",function(){var g=r.find("#imageUrl"),p=a.trim(g.val()),z=a(this).closest(".dialog-content").find(".js-upload-progress:last");p?(a("body").css("cursor","wait"),z.removeClass("h-hide"),vBulletin.AJAX({call:"/uploader/Url",data:{urlupload:p},complete:function(){a("body").css("cursor","auto");z.addClass("h-hide")},success:u.onUploadFromUrlSuccess,
title_phrase:u.titlephrase,error_phrase:u.errorphrase,after_error:function(){g.trigger("focus")}})):g.trigger("focus")})},close:(m,t)=>{k.removeClass("selected")}})}bindFormReset("#edit-page-dropdown form").trigger("reset",function(){a("input[type=hidden]",this).each((f,r)=>{r.value=r.defaultValue})});a(".js-top-menu-sitebuilder--list .js-top-menu-link").removeClass("b-top-menu__item-link--disabled");a(document).on("click","#sitebuilder-wrapper .lnkExitWithoutSaving",function(){0==a(this).closest("#edit-page-dropdown").length&&
Z(null,{enableButtons:!0,currentButton:null})});a(document).on("vb-sitebuilder-panel--channels",function(){var f=a(".js-top-menu-tab--channels").get(0);vBulletin.assertUserHasAdminPermission("canusesitebuilder",f,function(){ba.apply(f);bb(!1);a(".edit-mode .canvas-widget-list .canvas-widget").addClass("shadow");a("#header, #header-axd, #save-content").hide();a("#manage-page").show();a("#edit-page-dropdown .lnkDeletePage").removeClass("h-hide");a("#manage-page-dropdown").removeClass("h-hide").slideDown("slow",
yb)});return!1});a(document).on("click",".js-sb-delete-page",f=>{var r=a(f.currentTarget),y=parseInt(r.data("pageid")||0,10);f=r.data("url")||"";r=r.data("label")||"";O.openConfirmDialogSimple({title:"confirm_deletion_gcpglobal",message:["delete_page_x_confirm",r,f],yesPhrase:"delete_page",noPhrase:"cancel",iconType:"warning",onClickYes:()=>{V.AJAX({call:"/ajax/api/page/delete",data:{pageid:y},success:()=>c()})}})});a(document).on("click",".js-pagelist-filter",f=>{c()});a(document).on("vb-sitebuilder-panel--pages",
function(){var f=a(".js-top-menu-tab--pages").get(0),r=a(".js-sbpanel-pagelist-wrapper");r.data("panel-initialized")||(r.data("tabspanel-initialized",!0),b());vBulletin.assertUserHasAdminPermission("canusesitebuilder",f,function(){r.hasClass("h-hide")?(ba.apply(f),r.removeClass("h-hide").slideDown("slow"),d()):($a.apply(f),r.slideUp("fast",function(){r.addClass("h-hide")}))});return!1});a(document).on("click",".js-clickarea--target",f=>{f.stopPropagation()});a(document).on("click",".js-clickarea",
f=>{a(f.currentTarget).find(".js-clickarea--target").click()});a(document).on("click",".js-sbpanel-pagelist-wrapper .js-button--close-panel",function(){var f=a("#lnkPageList")[0],r=a(".js-sbpanel-pagelist-wrapper");r.hasClass("h-hide")||($a.apply(f),r.slideUp("fast",function(){r.addClass("h-hide")}))});a(document).on("submit",".js-ignoreform",()=>!1);a(document).on("click",".js-sbpanel-pagelist-wrapper .js-sb-sethomepage-btn",f=>{function r(n){return n.length?{pageid:n.val()||"",url:n.data("url")||
"",label:n.data("label")||""}:null}function y(n,l){O.openConfirmDialogSimple({title:"change_homepage",message:l,iconType:"warning",onClickYes:()=>{V.AJAX({call:"/ajax/api/page/setAsHomePage",data:{pageid:n},success:function(k){c();O.alert("change_homepage","hompage_updated_reload")}})}})}f=a(".js-panel-active");var u=a("input.js-sb-page-sethompage-chk:checked",f);f=r(a(".js-sb-page-prev-homepage"));u=r(u);!f&&u?y(u.pageid,["change_homepage_confirm_x",u.label,u.url]):f&&u&&u.pageid!=f.pageid?y(u.pageid,
["change_homepage_confirm_x_to_y",f.label,f.url,u.label,u.url]):O.error("change_homepage","change_homepage_please_select")});a(document).on("vb-sitebuilder-panel--editpage",function(){var f=a(".js-top-menu-tab--editpage").get(0);a("#edit-page-dropdown-gutter").is(":hidden")&&vBulletin.assertUserHasAdminPermission("canusesitebuilder",f,function(){function r(){T=!1;y();la();bb(!1,".container-widget");a(".edit-mode .canvas-widget-list .canvas-widget").addClass("shadow");Ca.tabs("option","active",0);
a("#header, #header-axd, #save-content").hide();a("#edit-content").show();a("#edit-page-dropdown .lnkSaveChanges .label").text(vBulletin.phrase.get("save_page"));a("#edit-page-dropdown .lnkDeletePage").removeClass("h-hide");a("#edit-page-dropdown-gutter").removeClass("h-hide").slideDown("slow",cb);a(".canvas-widget.axd-widget .widget-content").each(function(){a(this).html(ab(a(this).html(),vBulletin.phrase.get("ad")))})}function y(){var u=[];a(".hidden-widget-placeholder").each(function(){u.push(a(this).attr("data-widget-instance-id"))});
1>u.length||vBulletin.AJAX({call:"/ajax/fetch-hidden-modules",data:{modules:u},complete:function(){r()},success:function(n){0<n.length&&a.each(n,function(l,k){l=a(k.template).addClass("hidden-widget");a('.hidden-widget-placeholder[data-widget-instance-id="'+k.widgetinstanceid+'"]').replaceWith(l)})}})}ba.apply(f);Ya(!1,r)});return!1});a(document).on("vb-sitebuilder-panel--newpage",function(){var f=a(".js-top-menu-tab--newpage").get(0);a("#edit-page-dropdown-gutter").is(":hidden")&&vBulletin.assertUserHasAdminPermission("canusesitebuilder",
f,function(){ba.apply(f);Ya(!0,function(){T=!0;a(".canvas-widget-list:not(.js-section-global)").empty();Ca.tabs("option","active",0);a("#change-layout .layout-border.selected").removeClass("selected");a("#layout-wide-narrow").prev().trigger("click");W=!1;a("#header, #header-axd, #save-content").hide();a("#edit-content").show();a("#edit-page-dropdown .lnkSaveChanges .label").text(vBulletin.phrase.get("save_new_page"));a("#edit-page-dropdown .lnkDeletePage").addClass("h-hide");a("#edit-page-dropdown-gutter").removeClass("h-hide").slideDown("slow",
cb)})});return!1});var x=!1;a(document).on("vb-sitebuilder-panel--header",function(){var f=a(".js-top-menu-tab--header").get(0);a("#admin-navbar-strip-gutter").is(":hidden")&&vBulletin.assertUserHasAdminPermission("canusesitebuilder",f,function(){ba.apply(f);x=!1;a("#admin-navbar-strip-gutter").addClass("navbar-header").removeClass("h-hide").find(".prompt-text").text(vBulletin.phrase.get("select_edit_link_header"));var r=a("#header"),y=a(".header-cell",r),u=a("> .admin-only",y).addClass("h-hide-imp");
y=y.outerWidth();a(".disable-overlay",r).width(r.innerWidth()-y).height(r.innerHeight()).show();u.width(y-(parseInt(u.css("padding-left"),10)+parseInt(u.css("padding-right"),10))).removeClass("h-hide-imp");a(document).on("focus click mousedown",".edit-mode.lnkHeader #header .site-logo > a",function(n){this.blur();n.stopPropagation();return!1})});return!1});wb();a(".js-top-menu-sitebuilder").removeClass("h-hide");a(document).on("click",".lnkHeader #admin-navbar-strip .lnkSaveChanges",function(){0<
Number(a("#header .site-logo img").data("fileid"))?db(x?function(){location.reload(!0)}:null):x?location.reload(!0):(a("#admin-navbar-strip-gutter").addClass("h-hide").find(".prompt-text").text(""),a(document.body).removeClass("edit-mode lnkHeader").addClass("view-mode"),a("#header .disable-overlay").hide(),Z(null,{enableButtons:!0,currentButton:null}))});a(document).on("click",".lnkHeader #admin-navbar-strip .lnkExitWithoutSaving",function(f){if(x)return f.stopImmediatePropagation(),location.reload(!0),
!1;f=a("#header .site-logo img");f.attr("src")!=f.attr("data-orig-src")&&f.attr("src",f.attr("data-orig-src")).removeData("fileid");a("#admin-navbar-strip-gutter").find(".prompt-text").text("");a("#header .disable-overlay").hide();Z(null,{enableButtons:!0,currentButton:null})});a(document).on("click","#admin-navbar-strip .lnkExitWithoutSaving",function(){a("#admin-navbar-strip-gutter").addClass("h-hide");a(document.body).removeClass("edit-mode lnkEditPage lnkNewPage lnkHeader lnkNavBar lnkFooter").addClass("view-mode");
a("#header").add("#header-axd").show();a("#edit-navbar").hide();Z(null,{enableButtons:!0,currentButton:null})});a("#header-axd .axdnum").on("change",function(){var f=a(this),r=parseInt(f.val());vBulletin.AJAX({call:"/ajax/api/ad/saveNumberOfHeaderAds",data:{number:r},success:function(y){y=1==r;a("#header-axd").toggleClass("axdnum_1",y).toggleClass("axdnum_2",!y)}})});a(document).offon("click",".axd-edit-button",function(){function f(m){m=m||!1;vBulletin.AJAX({call:"/ajax/api/ad/listAdsByLocation",
data:{adlocation:l},cache:!1,success:function(t){vBulletin.isEmptyList(t)&&!m?y({adlocation:l}):r(t)}})}function r(m){"undefined"==typeof ua.axd_list_dialog?vBulletin.AJAX({call:"/ajax/render/dialog_axd_list",success(t){ua.axd_list_dialog=t;a("body").append(t);r(m)},error_phrase:"error_fetching_dialog"}):a("#axd-list-dialog").dialog({title:Q("manage_ads"),autoOpen:!0,modal:!0,resizable:!1,closeOnEscape:!1,showCloseButton:!1,width:600,dialogClass:"dialog-container ad-list-dialog-container input-dialog",
open(){let t=a(this),g=[],p=function(){t.dialog("close");t.dialog("destroy")},z=a(".axdtable",t),A;for(var C in m)g.push([m[C].title,m[C].otherlocationscount,m[C].active,m[C].displayorder,m[C].adid]);a(".title",t).text(Q("ad_list_description"));A=z.dataTable({bPaginate:!0,bLengthChange:!0,aLengthMenu:[5,10,25,50,100],sPaginationType:"full_numbers",bInfo:!1,bAutoWidth:!1,bDestroy:!0,aaSorting:[[2,"desc"],[3,"asc"]],aoColumns:[{sTitle:Q("title")+'<span class="sort-icon"></span>',sClass:"axdtable-title axd-cell"},
{sTitle:Q("ad_otherlocations")+'<span class="sort-icon"></span>',sClass:"axdtable-others axd-cell",bSearchable:!1,bUseRendered:!1,fnRender(B,E){return 1>E?E:`<span class="others-tooltip js-other-ad-locations-qtip" data-id="${B.aData[4]}">${E}</span>`}},{sTitle:Q("active")+'<span class="sort-icon"></span>',sClass:"axdtable-active axd-cell",bSearchable:!1,bUseRendered:!1,fnRender:function(B,E){return'<input type="checkbox" class="isactive" data-id="{0}"{1} />'.format(B.aData[4],"1"==E?' checked="checked"':
"")}},{sTitle:Q("display_order")+'<span class="sort-icon"></span>',sClass:"axdtable-display-order axd-cell",bSearchable:!1,bUseRendered:!1,fnRender:function(B,E){return'<input type="text" class="displayorder textbox" value="{0}" data-id="{1}" />'.format(B.aData[3],B.aData[4])}},{sTitle:Q("action"),sClass:"axdtable-action axd-cell",bSearchable:!1,bSortable:!1,bUseRendered:!1,fnRender:function(B,E){return'<a href="#" class="editlink" data-id="{0}" title="{1}"><span></span></a> <a href="#" class="deletelink" data-id="{0}" title="{2}"><span></span></a>'.format(B.aData[4],
Q("edit"),Q("delete"))}}],aaData:g});z.offon("mouseover",".js-other-ad-locations-qtip",function(){const B=a(this);"object"!==typeof B.data("qtip")&&V.qtip.apply(B,"qtip-ad-otherlocations",{position:{viewport:a(window),adjust:{method:"shift flip"}},content:{text:function(E,F){E=a(F.target).data("id");E=m[E]&&m[E].otherlocations||[];F="<ul>";for(var H in E){let K=V.htmlEntities(E[H]);F+=`<li>${K}</li>`}return F+"</ul>"}},show:{event:"mouseover",ready:!0},hide:{event:"mouseout"}})});a(".dataTables_filter input[type=text]",
t).addClass("axdfilter textbox").on("keyup",function(){a(this).next()[""!=this.value?"removeClass":"addClass"]("h-hide")}).after('<button type="button" class="axdSearchBtn b-button b-button--secondary b-button--sitebuilder h-hide">{0}</button>'.format(Q("reset")));a(".axdSearchBtn",t).on("click",function(){a(this).addClass("h-hide").prev().val("").trigger("keyup")});z.offon("click",".editlink",function(){const B=a(this).attr("data-id");p();y(m[B]);return!1});z.offon("click",".deletelink",function(){let B=
a(this).attr("data-id"),E=a(this).closest("tr").find(".isactive").prop("checked"),F=parseInt(m[B].otherlocationscount,10),H=Q("are_you_sure_want_to_delete_ad_x",m[B].title,"adid",B);1==F?H+="<br />"+Q("ad_used_one_other_location",F):1<F&&(H+="<br />"+Q("ad_used_x_other_locations",F));p();O.openConfirmDialog({title:Q("confirm_deletion_x",m[B].title),message:H,iconType:"warning",onClickYes(){a("body").css("cursor","wait");V.AJAX({call:"/ajax/api/ad/delete",data:{adid:B},success(K){f(!0);E&&(x=!0)}})},
onClickNo(){f()}});return!1});a(".axdlist",t).show();a(".btnAddAxd",t).offon("click",function(){p();y({adlocation:l});return!1});a(".btnCancelAxd",t).offon("click",function(){p()});a(".btnSaveAxd",t).offon("click",function(){let B={},E=[];var F=A&&A.$(".isactive"),H=A&&A.$(".displayorder");let K={};if(0==F.length)return p(),!1;for(var I of H){var U=a(I);H=U.data("id");U=U.val();K[H]=U}for(const L of F)I=a(L),F=I.data("id"),I=I.is(":checked")?1:0,B[F]={displayorder:K[F]||1,active:I},I&&(I={...B[F]},
I.snippet=m[F].snippet,I.title=m[F].title,E.push(I));vBulletin.AJAX({call:"/ajax/api/ad/quickSave",data:{data:B,adlocation:l},success(L){L=a(".axd_"+l,k);0==L.length&&(L=a(".widget-content",k));if(0<E.length){E.sort(function(D,w){return D.displayorder-w.displayorder});let Y="",X="";a.map(E,function(D,w){D.snippet&&(X+=ab(D.snippet,D.title),Y+=D.snippet)});L.html(X);x=n(Y)}else L.html("");L.show();p();a("html,body").animate({scrollTop:0},"slow")}})})}})}function y(m){vBulletin.AJAX({call:"/ajax/render/dialog_axd_config",
data:{isAjaxTemplateRenderWithData:!0},success:function(t){ua.axd_config_dialog=t.template;a("body").append(t.template);u(m)},error_phrase:"error_fetching_dialog"})}function u(m){var t=m.adlocation;Fa(a("#axd-config-dialog").dialog({title:vBulletin.phrase.get(m.adid?["edit_ad_x",m.title]:"create_ad"),autoOpen:!0,modal:!0,resizable:!1,closeOnEscape:!1,showCloseButton:!1,width:720,dialogClass:"dialog-container axd-dialog-container input-dialog",open:function(){function g(B){B=B||!1;a(":checkbox",p).prop("checked",
!1);a("select",p).val("");p.dialog("close");p.dialog("destroy");a("#axd-config-dialog").remove();f(B)}var p=a(this);if(m.adid){a(".title",p).val(m.title);a(".axd_html",p).val(m.snippet);a(".active",p).prop("checked","1"==m.active);a(".axdid",p).val(m.adid);for(var z in m.criterias){var A=m.criterias[z],C=A.criteriaid;a("[name=data\\[criteria\\]\\["+C+"\\]\\[active\\]]",p).prop("checked",!0);a("."+C,p).each(function(){var B=a(this),E=B.attr("name").match(/condition\d/);E&&B.val(A[E[0]])})}}else a(".axdid",
p).val(0),a(".configform",p).trigger("reset");a(".axd_location",p).val(t);a(".blockrow select.custom-dropdown",p).selectBox();a(".blockrow a.custom-dropdown, .blockrow input[type=text]",p).on("click",function(B){return!1});a(".btnAttachHtmlAxd",p).off("click").on("click",function(){var B=a(".configform",p).serialize();a("body").css("cursor","wait");vBulletin.AJAX({call:"/ajax/api/ad/save",data:B,success:function(E){g();x=n(a(".configform .axd_html",p).val())},complete:function(){a("body").css("cursor",
"default")}})});a(".btnCancelEditHtmlAxd",p).off("click").on("click",function(){g(!0)})}}))}function n(m){var t=a("<div>"+m+"</div>");return 0<t.filter("script").length?!0:0<t.find("*").filter(function(){return 0==this.nodeName.toLowerCase().indexOf("vb:")?this:null}).length||/\{vb\s*:\s*[a-z]+\s+.*\}/.test(m)}var l=a(this).attr("data-location"),k=a(this).closest(".axd-container");0==k.length&&(k=a('.axd-container[data-widget-instance-id="'+l+'"]'));f();return!1});a("#header .header-cell .js-edit-logo").on("click",
f=>{var r=a("#edit-site-logo-dialog"),y=a("#header .site-logo img");v(a(f.currentTarget),r,y,{titlephrase:"edit_site_logo",subtitlephrase:"choose_options_site_logo",errorphrase:"error_processing_site_logo",onClickSave:()=>{0<Number(y.data("fileid"))?db(function(){r.dialog("close")}):r.dialog("close")},onUploadFromUrlSuccess:u=>{y.attr("src",u.imageUrl).data({fileid:u.filedataid,styleselection:r.find(".styleselection:checked").val()})},onLocalUploadSuccess:u=>{y.attr("src",u.result.imageUrl).data({fileid:u.result.filedataid,
styleselection:r.find(".styleselection:checked").val()})}})});a(".favicon-editor .js-edit-favicon").offon("click",f=>{var r=a("#edit-favicon-dialog"),y=a(".js-sitebuilder-favicon");v(a(f.currentTarget),r,y,{titlephrase:"edit_favicon",subtitlephrase:"choose_options_favicon",errorphrase:"error_processing_favicon",onClickSave:()=>{vBulletin.AJAX({call:"/uploader/setfavicon",data:{filedataid:y.data("fileid"),styleselection:y.data("styleselection")},complete:function(){a("body").css("cursor","auto")},
success:function(u){"true"===a.trim(u)&&(a("#admin-navbar-strip-gutter").addClass("h-hide").find(".prompt-text").text(""),a(document.body).removeClass("edit-mode lnkHeader").addClass("view-mode"),a("#header .disable-overlay").hide(),Z(null,{enableButtons:!0,currentButton:null}),r.dialog("close"),a('link[rel="Shortcut Icon"]').attr("href",y.attr("src")))},error_phrase:"error_saving_favicon"})},onUploadFromUrlSuccess:u=>{y.attr("src",u.imageUrl).data({fileid:u.filedataid,styleselection:r.find(".styleselection:checked").val()})},
onLocalUploadSuccess:u=>{y.attr("src",u.result.imageUrl).data({fileid:u.result.filedataid,styleselection:r.find(".styleselection:checked").val()})}})});a(".admin-button-flat").disableSelection();Ca=a("#edit-content .tabs").tabs({beforeActivate:function(f,r){a("#save-content").hide();1==r.newTab.index()&&ma&&(a("#edit-page-dropdown .layout-list .layout-border.selected").removeClass("selected"),f=a("#edit-page-dropdown .layout-list input[type=radio][value={0}]".format(a(".canvas-layout:visible").attr("data-layout-id"))),
f.prev().addClass("selected"),aa="canvas-"+f.attr("id"))},create:function(f,r){r.tab.index();wa()},activate:function(f,r){r.newTab.index();wa()}});a("#lnkAddModules").on("click",function(){Ca.tabs("option","active",0);return!1});zb();a(document).on("click",".module-buttons .hide-icon input",function(){var f=a(this);f.closest(".canvas-widget")[this.checked?"addClass":"removeClass"]("hidden-widget");var r=f.attr("title");f.attr("title",f.data("toggle-title")).data("toggle-title",r)});a(".canvas-layout-container .canvas-layout").each(function(){eb[this.id]=
a("#"+this.id+' div[class*="section-"]').length});T||(aa="canvas-"+a("#edit-page-dropdown .layout-list input[type=radio][value={0}]".format(a(".canvas-layout:visible").attr("data-layout-id"))).prop("checked",!0).attr("id"));fb=a("#edit-page-dropdown .layout-list input[type=radio]").thumbnailRadioCheckbox({thumbnailClass:"layout-border"});fb.thumbnailRadioCheckbox("option","select",function(f,r){a(".canvas-layout").addClass("h-hide");a("#canvas-"+r.attr("id")).removeClass("h-hide");Ab("canvas-"+r.attr("id"));
Da();W=!0})}function Ab(b){if(aa){if(aa!=b){a(".canvas-layout.h-hide input[type=hidden]").prop("disabled",!0);a("#"+b+" input[type=hidden]").prop("disabled",!1);var c=eb[b],d=!1,e=0;a("#"+aa+" > .canvas-layout-row > .canvas-widget-list").each(function(){var h=a(this);d=Bb(h,a("#"+b+" > .canvas-layout-row > .canvas-widget-list"));d.length||(e=gb(this),d=a("#"+b+" > .canvas-layout-row > div.section-"+e));if(!d.length){for(var q=c;0<=q&&0==a("#"+b+" > .canvas-layout-row > div.section-"+q).length;)q--;
d=a("#"+b+" > .canvas-layout-row > div.section-"+q)}h=h.children(".canvas-widget");var v=parseInt(Math.ceil(h.length/d.length),10);if(0<v){var x=0,f=0;h.each(function(){a(this).appendTo(d.eq(f));++x;x>=v&&(x=0,++f)})}});aa=b}}else a(".canvas-layout.h-hide input[type=hidden]").prop("disabled",!0),a("#"+b+" input[type=hidden]").prop("disabled",!1),aa=b}function Bb(b,c){var d="js-sectiontype-notice js-sectiontype-primary js-sectiontype-secondary js-sectiontype-extra js-sectiontype-global_after_breadcrumb js-sectiontype-global_before_footer".split(" "),
e;for(e in d)if(b.is("."+d[e])){var h=d[e];break}return c.filter(function(){return a(this).is("."+h)})}function gb(b){var c=/section-(\d+)/gi,d=null;a(a(b).attr("class").split(" ")).each(function(e,h){(e=c.exec(h))&&!isNaN(e[1])&&(d=e[1])});return d}function Cb(b){if(a.isArray(b)&&0!=b.length)return vBulletin.AJAX({call:"/ajax/admin-template/widget",data:{widgets:b,pagetemplateid:a("#save-page-form #pagetemplateid-yes").val()},success:function(c){a.isArray(c.widgets)&&a.each(c.widgets,function(d,
e){if(!e.widgetid||1>Number(e.widgetid)||!a.trim(e.template))return!0;d=e.displaysection&&0<Number(e.displaysection)?e.displaysection:0;e=a(e.template);e.appendTo(a(".canvas-layout:not(.h-hide) .canvas-widget-list.section-"+d).height("auto")).filter(":not(.container-widget)").find(".toggle-button").trigger("click",[!0]);e.find(".tabs").tabs()})},error_phrase:"error_adding_widgets"}),!1}function Ha(b,c){var d=b.closest(".channel-item-container").children(".sub-channel-container").children(".channel-item-container");
b=b.find(".b-icon");b.is(".b-icon__arrow-right-m")?(b.removeClass("b-icon__arrow-right-m").addClass("b-icon__arrow-down-m"),d.slideDown(150)):"undefined"!==typeof c&&c||(d.slideUp(150),b.addClass("b-icon__arrow-right-m").removeClass("b-icon__arrow-down-m"))}function Ia(){a(".channel-config-dialog .channel-list").sortable({placeholder:"main-channel-container-highlight drag-highlight h-clear",update:function(b,c){N=ha=!0},start:function(b,c){c.placeholder.height(c.item.outerHeight())},handle:".grip-icon-main",
items:".main-channel-container"})}function hb(b){b.find(".main-channel-container").sortable({connectWith:".sub-channel-container",placeholder:"channel-item-highlight drag-highlight",revert:!0,update:function(c,d){d.item.closest(".main-channel-container");d.sender&&d.sender.hasClass("main-channel-container")&&0==a("> .channel-item-container",d.sender).length&&d.sender.slideUp("fast",function(){a(this).remove()});N=ha=!0},stop:function(c,d){a(".main-channel-container, .sub-channel-container").height("auto")},
handle:".channel-item-inner > .grip-icon-item",items:".channel-item-container"})}function ib(b){b.find(".sub-channel-container").sortable({connectWith:".sub-channel-container",revert:!0,placeholder:"channel-item-highlight drag-highlight",update:function(c,d){d.sender&&d.sender.hasClass("main-channel-container")&&0==a("> .channel-item-container",d.sender).length&&d.sender.slideUp("fast",function(){a(this).remove()});N=ha=!0},sort:function(c,d){},start:function(c,d){},stop:function(c,d){a(".main-channel-container, .sub-channel-container").height("auto")},
over:function(c,d){c=a(this).closest(".channel-item-container").children(".channel-item").find(".toggle-button");Ha(c,!0)},receive:function(c,d){},out:function(c,d){},handle:".channel-item-inner > .grip-icon-item",items:".channel-item-container"})}function jb(b,c,d,e,h,q,v){h='<div class="'+(h?"category-to-channel":"channel-to-category")+'"><a href="#">'+vBulletin.phrase.get(h?"make_forum":"make_category")+"</a></div>";b=a(('<div class="main-channel-container">\t\t\t\t<div class="grip-icon grip-icon-main h-left"><div>&uml;</div><div>&uml;</div><div>&uml;</div><div>&uml;</div><div>&uml;</div></div>\t\t\t\t<div class="channel-item-container">\t\t\t\t\t<div class="channel-item shadow" data-channel-id="{0}" data-parent-id="{2}">\t\t\t\t\t\t<div class="channel-item-inner">\t\t\t\t\t\t\t<div class="grip-icon grip-icon-item h-left"><div>&uml;</div><div>&uml;</div><div>&uml;</div><div>&uml;</div><div>&uml;</div></div>\t\t\t\t\t\t\t<div class="channel-title"><div title="'+
vBulletin.phrase.get("click_text_edit_title")+'">{1}</div><input type="text" name="channeltitle" value="{1}" /></div>\t\t\t\t\t\t\t<div class="close-button" title="'+vBulletin.phrase.get("remove_forum")+'">x</div>\t\t\t\t\t\t\t<div class="toggle-button"><div class="b-icon b-icon__arrow-right-m"></div></div>\t\t\t\t\t\t\t<div class="num-subchannels">'+v+'</div>\t\t\t\t\t\t\t<div class="add-subchannel-button h-right" title="'+vBulletin.phrase.get("add_subforum")+'"><a href="#">+</a></div>\t\t\t\t\t\t\t'+
h+'\t\t\t\t\t\t\t<div class="h-clear"></div>\t\t\t\t\t\t</div>\t\t\t\t\t</div>\t\t\t\t\t<div class="sub-channel-container"></div>\t\t\t\t</div>\t\t </div>').format(c,e,d)).appendTo(b);q&&(q=a("#top-level-forum .channel-config-dialog .channel-list").find(".main-channel-container").last(),a("html, body").animate({scrollTop:q.offset().top},"fast"));N=ha=!0;return b}function kb(b,c,d,e,h,q){e='<div class="'+(e?"category-to-channel":"channel-to-category")+'"><a href="#">'+vBulletin.phrase.get(e?"make_forum":
"make_category")+"</a></div>";h=h.hasClass("main-channel-container")?a("> .channel-item-container > .sub-channel-container",h):a("> .sub-channel-container",h);b=a(('<div class="channel-item-container">\t\t\t\t<div class="channel-item shadow" data-channel-id="{0}" data-parent-id="{2}">\t\t\t\t\t<div class="channel-item-inner">\t\t\t\t\t\t<div class="grip-icon grip-icon-item h-left"><div>&uml;</div><div>&uml;</div><div>&uml;</div><div>&uml;</div><div>&uml;</div></div>\t\t\t\t\t\t<div class="channel-title"><div title="Click text to edit title">{1}</div><input type="text" name="channeltitle" value="{1}" /></div>\t\t\t\t\t\t<div class="close-button" title="'+
vBulletin.phrase.get("remove_forum")+'">x</div>\t\t\t\t\t\t<div class="toggle-button"><div class="b-icon b-icon__arrow-right-m"></div></div>\t\t\t\t\t\t<div class="num-subchannels">'+q+'</div>\t\t\t\t\t\t<div class="add-subchannel-button h-right" title="'+vBulletin.phrase.get("add_subforum")+'"><a href="#">+</a></div>\t\t\t\t\t\t'+e+'\t\t\t\t\t\t<div class="h-clear"></div>\t\t\t\t\t</div>\t\t\t </div>\t\t\t <div class="sub-channel-container"></div>\t\t\t</div>').format(b,d,c)).hide().appendTo(h);
N=ha=!0;return b}function Db(){vBulletin.AJAX({call:"/ajax/fetch-widget-admin-template-list",complete:function(){wa();a(window).resize(wa)},success:function(b){lb=!0;if(a.isArray(b))if(0<b.length){var c={},d=0;a.each(b,function(h,q){if(!q.widgetid||1>Number(q.widgetid))return!0;d++;c[q.category]?c[q.category].count++:c[q.category]={count:1,title:q.category_title};h=a("#edit-page-dropdown .module-list .module-icon-template").clone();h.attr("data-widget-id",q.widgetid).attr("data-title",a.trim(q.title).toLowerCase()).data("canbemultiple",
q.canbemultiple).removeClass("module-icon-template").addClass(("module-item category-{0}"+("1"==q.cloneable?" module-cloneable":"")).format(q.category));a(".module-icon",h).html(a("<img />").attr("src",pageData.baseurl+"/images/sitebuilder/"+a.trim(q.icon)).attr("height",60).attr("width",60).attr("alt",vBulletin.phrase.get("module_icon")));a(".module-title .main-title",h).html(a.trim(q.title));h.appendTo("#edit-page-dropdown .module-list").removeClass("h-hide")});a(('<div class="module-categories-scroller-container">\t\t\t\t\t\t\t<div class="category-arrow-left h-left" title="'+
vBulletin.phrase.get("previous")+'">&lsaquo;</div>\t\t\t\t\t\t\t<div class="scroller category h-left">\t\t\t\t\t\t\t\t<div class="categories h-left">\t\t\t\t\t\t\t\t\t<div id="category-all" class="category selected">'+vBulletin.phrase.get("all")+' ({0})</div>\t\t\t\t\t\t\t\t\t<div id="category-result" class="category h-hide">'+vBulletin.phrase.get("search_results")+' (<span></span>)</div>\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t<div class="category-arrow-right h-left" title="'+vBulletin.phrase.get("next")+
'">&rsaquo;</div>\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t<div class="h-clear"></div>').format(d)).insertBefore("#edit-page-dropdown .module-list-container .scroller");a.each(c,function(h,q){a('<div id="category-{0}" class="category">{1} ({2})</div>'.format(h,q.title,q.count)).insertBefore("#category-result")});ea();mb=a("#edit-page-dropdown .module-list .module-item").not(".non-module-item");mb.draggable({connectToSortable:".canvas-layout-row > .canvas-widget-list:visible",helper:"clone",revert:"invalid",
appendTo:"#add-modules .module-list-container",zIndex:2E3,start:function(h,q){if("0"==a(this).data("canbemultiple")&&0<a("#content .canvas-layout .canvas-widget[data-widget-id={0}]".format(a(this).attr("data-widget-id"))).length)return vBulletin.warning("move_not_allowed",["adding_multiple_modules_not_allowed",a(".main-title",this).html()]),!1;Ja=!0},stop:function(h,q){Ja=!1}}).disableSelection();a("#search-module-keyword").on("keyup",function(h,q){var v=a("#add-modules"),x=a("#category-result"),
f=a(".categories",v);h=a(".scroller.category",v);var r=!1;a(".module-item",v).hide();q||a(".category.selected",v).removeClass("selected");(q=a.trim(this.value.toLowerCase()))?(a('.module-item[data-title*="{0}"]'.format(q),v).show(),x.removeClass("h-hide").addClass("selected")):(a(".module-item",v).show(),a("#category-all").removeClass("h-hide").addClass("selected"),x.addClass("h-hide").removeClass("selected"),r=!0);q=a(".module-item:visible",v).length;a("span",x).text(q);ea();0==q?a(".empty-module",
v).show():a(".empty-module",v).hide();f.width()<=h.width()?(a(".category-arrow-left, .category-arrow-right",v).css("visibility","hidden"),h.scrollLeft(0)):r?(a(".category-arrow-left",v).css("visibility","hidden"),a(".category-arrow-right",v).css("visibility","visible"),h.scrollLeft(0)):(a(".category-arrow-left",v).css("visibility","visible"),a(".category-arrow-right",v).css("visibility","hidden"),v=h.get(0),h.scrollLeft(v.scrollWidth-v.clientWidth));return!0});a("#add-modules .categories .category").on("click",
function(h){h.stopPropagation();if(a(this).hasClass("selected"))return!1;h=a(this).closest(".module-list-container");var q=a(".module-item",h);a(".category.selected",h).removeClass("selected");a(this).addClass("selected");q.hide();a(".empty-module",h).hide();var v=this.id;"category-all"==v?(q.show(),a(".non-module-item",h).hide()):"category-result"==v?a("#search-module-keyword").triggerHandler("keyup",[!0]):a(".module-item.{0}".format(v),h).show();ea();return!1}).disableSelection();var e;a(".category-arrow-left").on({mousedown:function(){a(".category-arrow-right").css("visibility",
"visible");e=setInterval(function(){var h=a(".scroller.category");h.scrollLeft(h.scrollLeft()-20);0==h.scrollLeft()&&(a(".category-arrow-left").css("visibility","hidden"),clearInterval(e))},50)},mouseup:function(){clearInterval(e)}}).disableSelection();a(".category-arrow-right").on({mousedown:function(){a(".category-arrow-left").css("visibility","visible");e=setInterval(function(){var h=a(".scroller.category"),q=h.get(0);q=q.scrollWidth-q.clientWidth;var v=Math.min(h.scrollLeft()+20,q);h.scrollLeft(v);
1>Math.abs(q-h.scrollLeft())&&(a(".category-arrow-right").css("visibility","hidden"),clearInterval(e))},50)},mouseup:function(){clearInterval(e)}}).disableSelection()}else a('<div class="empty-module">'+vBulletin.phrase.get("no_modules")+"</div>").appendTo("#edit-page-dropdown .module-list")},error_phrase:"error_retrieving_modules"})}function Wa(b,c){vBulletin.AJAX({call:"/ajax/api/widget/fetchWidgetGuidToWidgetidMap",success:function(d){Ba=d.map?d.map:{error_result:d};"function"==typeof b&&b.apply(this,
c)}})}function Eb(){a("#edit-page-dropdown .template-list").empty();vBulletin.AJAX({call:"/ajax/api/pagetemplate/fetchPageTemplateList",data:{pagetemplateid:a("#save-page-form #pagetemplateid-yes").val()},success:function(b){nb=!0;if(a.isArray(b)&&0<b.length){var c=!1;a.each(b,function(d,e){a('<div class="template-item">\t\t\t\t\t\t\t\t<input type="radio" id="pagetemplateid-{0}" name="pagetemplateid" value="{0}" data-thumbnail="{1}/images/sitebuilder/icon-layout-{4}.png"{2} />\t\t\t\t\t\t\t\t<label class="label">{3}</label>\t\t\t\t\t\t\t</div>'.format(e.pagetemplateid,
pageData.baseurl,T||a("#save-page-form #pagetemplateid-yes").val()!=e.pagetemplateid?"":' checked="checked"',e.title,e.screenlayoutvarname)).appendTo("#edit-page-dropdown .template-list").data({screenlayoutid:e.screenlayoutid,widgetinstances:e.widgetinstances});a("#save-page-form #pagetemplateid-yes").val()==e.pagetemplateid&&(c=!0,""==e.title&&console.warn("The page template for this page does not have a title."))});T||c||console.error("The page template for this page was not in the list returned by fetchPageTemplateList! Expected pagetemplateid: {0}. Please ensure that this page template has a title.".format(a("#save-page-form #pagetemplateid-yes").val()));
a(".template-item",a("#edit-page-dropdown .template-list")).each(function(d){a(this).attr("data-title",a(".label",a(this)).text().toLowerCase())});a("#search-template-keyword").on("keyup",function(d){if(13==d.keyCode)return d.preventDefault(),!1;d=a("#select-template");a(".scroller",d);a(".template-item",d).hide();var e=a.trim(this.value.toLowerCase());e?a('.template-item[data-title*="{0}"]'.format(e),d).show():a(".template-item",d).show();e=a(".template-item:visible",d).length;ea();a(".empty-template",
d).toggle(0==e);return!0});a("#search-template-keyword").on("keydown",function(d){if(13==d.keyCode)return d.preventDefault(),!1});Ka=a("#edit-page-dropdown .template-list .template-item input[type=radio]").thumbnailRadioCheckbox({thumbnailClass:"template-border",preselect:function(d,e){return e.is(":checked")?!1:W||N?(O.openConfirmDialogSimple({title:"switch_template",message:"template_changes_will_be_lost",iconType:"warning",onClickYes:()=>{N=W=!1;ma=!0;Ka.thumbnailRadioCheckbox("check",e,!0)}}),
!1):ma=!0},select:function(d,e){a(".canvas-layout").addClass("h-hide");d=e.closest(".template-item").data("screenlayoutid");a(".canvas-layout[data-layout-id="+d+"]").removeClass("h-hide");Da();a("#save-page-form #pagetemplateid-yes, #config_pagetemplateid").val(e.val());d=e.closest(".template-item").find(".label").html();a("#save-page-form .page-template-name").html(vBulletin.phrase.get("page_template_name_id",d,e.val()));if(ma)if(a(".canvas-widget-list").empty(),e=e.closest(".template-item").data("widgetinstances"),
a.isArray(e)&&0<e.length){var h=[];a.each(e,function(q,v){h.push({widgetid:v.widgetid,widgetinstanceid:v.widgetinstanceid})});Cb(h,!0);la()}else window.vBulletin.loadingIndicator.hide();a("body").removeClass("lnkNewPage").addClass("lnkEditPage");a("#save-page-form .new-page-template input").prop("disabled",!0);a("#save-page-form .edit-page-template input").prop("disabled",!1);ma=!0},unselect:function(){}});ea()}}})}function db(b){var c=a("#header .site-logo img");vBulletin.AJAX({call:"/uploader/setlogo",
data:{filedataid:c.data("fileid"),styleselection:c.data("styleselection")},success:function(d){"true"===a.trim(d)&&(c.removeData(["styleselection","fileid"]).data("orig-src",c.attr("src")),a("#admin-navbar-strip-gutter").addClass("h-hide").find(".prompt-text").text(""),a(document.body).removeClass("edit-mode lnkHeader").addClass("view-mode"),a("#header .disable-overlay").hide(),Z(null,{enableButtons:!0,currentButton:null}),V.ensureFun(b)())},error_phrase:"error_saving_site_logo"})}function ob(b,c){a.each(b,
function(d,e){d=a.map(e.subchannels,function(h,q){return q}).length;d=kb(e.nodeid,e.parentid,e.title,e.category,c,d);ob(e.subchannels,d)})}function bb(b,c){c=c&&0<c.length?a(".canvas-layout .canvas-widget").not(c).find(".widget-content"):a(".canvas-layout .canvas-widget .widget-content");b?c.each(function(){a(this).is(":hidden")&&a(this).closest(".canvas-widget").find(".widget-header .toggle-button").trigger("click",[!0])}):c.each(function(){a(this).is(":hidden")||a(this).closest(".canvas-widget").find(".widget-header .toggle-button").trigger("click",
[!0])})}function La(b,c){c?b.find(".widget-content").is(":hidden")&&b.find(".toggle-button").trigger("click",[!0]):b.find(".widget-content").is(":hidden")||b.find(".toggle-button").trigger("click",[!0])}function la(){if(!T){var b=a(".canvas-layout:visible .canvas-widget.subchannel-widget");1==b.length?b.find(".close-button").hide():b.find(".close-button").show()}}function Xa(b,c){var d=b.attr("data-widget-id");null==Ma[d]?vBulletin.AJAX({call:"/ajax/fetch-widget-template",data:{widgetid:d},success:function(e){if(e=
a.trim(e)){var h=a(e.replace(/<\s*script[^>]*>(.*?)<\s*\/\s*script>/g,""));h.attr("data-title",function(){var q=a(".module-title",h).clone();q.find(".hide-on-viewmode").children().unwrap();q.find("*:hidden").remove();return a.trim(q.text()).toLowerCase()});Ma[d]=h;"function"==typeof c&&c(h.clone(!0))}},error_phrase:"error_retrieving_cloned_widget_template"}):"function"==typeof c&&c(Ma[d].clone(!0))}function ia(b,c){a(".edit-mode .canvas-widget.youtube-widget .widget-content").css("visibility",b);
c&&c.find(".widget-content").css("visibility","hidden"==b?"visible":"hidden")}function pb(b){b.hasOwnProperty("defaultvalue")||(b.defaultvalue={show:"all"});var c=a(".js-sb-module-config--viewpermissions--template").clone().removeClass("js-sb-module-config--viewpermissions--template h-hide");b=b.defaultvalue.show;var d=!Array.isArray(b),e=c.find("input.js-module_viewpermissions__key"),h=c.find(".js-module_viewpermissions_ugchecklist");e.filter("[value='show_all']").prop("checked",d);e.filter("[value='show']").prop("checked",
!d);d?h.addClass("h-hide"):a.each(b,function(q,v){h.find("input.js-module_viewpermissions__value[value='"+v+"']").prop("checked",!0)});e.on("change",function(){h.toggleClass("h-hide","show_all"==this.value)});return c}function qb(b){b.hasOwnProperty("defaultvalue")||(b.defaultvalue={include:["all"]});var c=a(".js-sb-module-config--filter_nodes--template").clone().removeClass("js-sb-module-config--filter_nodes--template h-hide");b=b.defaultvalue;var d=b.hasOwnProperty("exclude")?"exclude":"include",
e=b.hasOwnProperty("include_children")?b.include_children:!0,h=c.find("input[name='data[module_filter_nodes][include_children]']"),q=c.find("input.js-module_filter_nodes__key[value='include']"),v=c.find("input.js-module_filter_nodes__key[value='exclude']"),x=c.find("select.js-module_filter_nodes-values"),f=c.find("input[name='data[module_filter_nodes][selection_type]']"),r=c.find("*[data-disable-on='exclude']"),y=c.find("*[data-disable-on='include']"),u=function(k,m){var t=x.data("selectBox-control")||
{};k.each(function(){var g=a(this);g.attr("disabled","disabled");g.is("option")&&0<t.length&&t.find("li:has(> a[rel='"+g.val()+"'])").removeClass("selectBox-selected").addClass("selectBox-disabled")});m.each(function(){var g=a(this);g.removeAttr("disabled");if(g.is("option")&&0<t.length){var p="";g.is(":selected")&&(p="selectBox-selected");t.find("li:has(> a[rel='"+g.val()+"'])").removeClass("selectBox-disabled").addClass(p)}})},n=c.find("*[data-hide-on='exclude']"),l=c.find("*[data-hide-on='include']");
f.on("change vb-init",function(k){k=a(this);var m=k.val(),t=x.data("selectBox-control")||{};k.is(":checked")&&("all"==m||"current"==m?(x.attr("disabled","disabled"),0<t.length&&t.addClass("selectBox-disabled")):(x.removeAttr("disabled"),0<t.length&&t.removeClass("selectBox-disabled")))});c.find("input.js-module_filter_nodes__key").on("change",function(k){"exclude"==this.value?(u(r,y),n.hide(),l.show()):(u(y,r),l.hide(),n.show())});"exclude"==d?(q.prop("checked",!1),v.prop("checked",!0),v.change()):
(v.prop("checked",!1),q.prop("checked",!0),q.change());if(!b.hasOwnProperty(d))b.key=[];else if("string"==typeof b[d]||"number"==typeof b[d])b[d]=[b[d]];a.each(b[d],function(k,m){if("all"===m)return f.filter("[value='all']").prop("checked",!0),!1;if("current"===m)return f.filter("[value='current']").prop("checked",!0),!1;f.filter("[value='custom']").prop("checked",!0);x.find("option[value='"+m+"']").prop("selected",!0)});f.trigger("vb-init");h.prop("checked",e);return c}function Na(b,c,d,e,h){var q=
a('<select name="data[{0}]" />'.format(b.name)),v={};e&&a.each(e,function(x,f){v[f]=a('<optgroup label="{0}" />'.format(vBulletin.phrase.get(f)))});b.data&&a.each(b.data,function(x,f){x=q;e&&(x=v[h(f)]);a("<option />").attr("value",f[c]).prop("selected",b.defaultvalue==f[c]).html(f[d]).appendTo(x)});a.each(v,function(x,f){f.length&&f.appendTo(q)});return q}function zb(){function b(c){var d=[];a("ul.widget-tabs-nav li a, .widget-header ul.ui-tabs-nav li a, .widget-tabs-nav ul.ui-tabs-nav li a",c).each(function(){var e=
a(this);var h=a(this).closest("li").hasClass("h-hide")?!1:!0;d.push({selector:e.attr("href"),label:e.text(),displayed:h})});return d}a(document).offon("click",".canvas-widget.default-widget:not(.js-search-widget) .edit-button",function(){var c=a(this).closest(".canvas-widget"),d=c,e=a("> .widget-header .module-title",c);(function(){var x=c.data("widget-instance-id");if(vBulletin.sitebuilder.tempModuleHTMLCache["widgetinstance_"+x]){0==a("#sb-temp-module-cache").length&&a('<div id="sb-temp-module-cache" class="h-hide"></div>').appendTo("body");
var f=a(vBulletin.sitebuilder.tempModuleHTMLCache["widgetinstance_"+x]);if(0<f.find(".widget-tabs").length||f.is(".widget-tabs"))a("#sb-temp-module-cache").append(f),delete vBulletin.sitebuilder.tempModuleHTMLCache["widgetinstance_"+x]}f=a("#sb-temp-module-cache .canvas-widget").filter(function(){return a(this).data("widget-instance-id")==x});1==f.length&&(0<f.find(".widget-tabs").length||f.is(".widget-tabs"))&&(c=f)})();if(!c.is(".js-search-widget")){var h=c.attr("data-widget-id");e=0<a("span.admin-only",
e).length?a("span.admin-only",e).text():0<a(".hide-on-viewmode",e).length?a(".hide-on-viewmode",e).text():e.text();var q=c.data("widget-type")||"";a("#config-dialog .loader").show();a("#config-dialog .widget-name h1").html(e);a("#config-dialog .dialog-content .widget-config-container").hide().empty().removeClass("error notice");a("#config-dialog").data("selected-module",d);ia("hidden");a("#config-dialog").dialog("open");var v=d.attr("data-widget-instance-id")||"";vBulletin.AJAX({call:"/ajax/api/widget/fetchConfigSchema",
data:{widgetid:h,widgetinstanceid:v,pagetemplateid:qa(),configtype:"admin"},success:function(x){a("#config_widgetid").val(x.widgetid);a("#config_widgetinstanceid").val(x.widgetinstanceid);Sa(x.pagetemplateid);d.attr("data-widget-instance-id",x.widgetinstanceid);v||sa(d);var f=a("#config-dialog .dialog-content .widget-config-container");if(x.configs&&0!=x.configs.length){var r=0;a('<input type="hidden" name="data[widget_type]" />').addClass("widget-type").val(q).appendTo(f);var y=!1,u=!1,n=!1,l=!1,
k=!1,m=d.data("is-tabbed-container"),t=!1,g=!1,p=1==a("#debug-information").length,z=vBulletin.isRtl();a.each(x.configs,function(D,w){var G=null;switch(w.type){case "Text":D=typeof("undefined"!=w.defaultvalue)?w.defaultvalue:"";G=a('<input type="text" name="data[{0}]" id="data[{0}]" />'.format(w.name)).addClass("textbox config-textbox").val(D);break;case "LongText":D=typeof("undefined"!=w.defaultvalue)?w.defaultvalue:"";G=a('<textarea name="data[{0}]" id="data[{0}]" rows="3" />'.format(w.name)).addClass("textbox config-textbox").val(D);
break;case "YesNo":D={option_1:a('<input type="radio" value="1" name="data[{0}]" id="data[{0}_1]" />'.format(w.name)),label_1:a("<label />").attr({"for":"data["+w.name+"_1]"}).text(vBulletin.phrase.get("yes")),option_0:a('<input type="radio" value="0" name="data[{0}]" id="data[{0}_0]" />'.format(w.name)),label_0:a("<label />").attr({"for":"data["+w.name+"_0]"}).text(vBulletin.phrase.get("no"))};var M=D["option_"+w.defaultvalue];M&&M.prop("checked",!0);G=a("<div />").append(D.option_1,D.label_1,D.option_0,
D.label_0);break;case "Checkboxes":G=a("<div />");a.each(w.data,function(J,R){var P="";w.defaultvalue&&"undefined"!=typeof w.defaultvalue[J]&&1==w.defaultvalue[J]&&(P=' checked="checked"');J=a('<div><label><input type="checkbox" name="data[{0}][{1}]"{2} value="1" class="js-checkbox-always-send" /> {3}</label></div>'.format(w.name,J,P,R));G.append(J)});break;case "Select":k=!0;G=a('<select name="data[{0}]" />'.format(w.name));if(""!=w.data)for(M in w.data)a("<option />").attr("value",M).prop("selected",
w.defaultvalue==M).text(w.data[M]).appendTo(G);break;case "ChannelSelect":k=!0;G=Na(w,"nodeid","text",["special_options","channels"],function(J){return 1>J.nodeid?"special_options":"channels"});break;case "ContentTypeSelect":k=!0;a.each(w.data,function(J,R){R.text=vBulletin.phrase.get(R.phrase)});G=Na(w,"value","text",["special_options","content_types"],function(J){return J.special?"special_options":"content_types"});break;case "ProfileFieldSelect":k=!0;G=Na(w,"field","title");break;case "Slider":G=
function(J){var R=0,P=0,ca=1,na=.1,da="";J.defaultvalue&&(R=J.defaultvalue);if(J.data&&"object"==typeof J.data){var S=J.data;S.hasOwnProperty("min")&&(P=parseFloat(S.min));S.hasOwnProperty("max")&&(ca=parseFloat(S.max));S.hasOwnProperty("interval")&&(na=parseFloat(S.interval));S.hasOwnProperty("leftlabel")&&S.leftlabel&&(da+='<span class="h-left">'+S.leftlabel+"</span>");S.hasOwnProperty("rightlabel")&&S.rightlabel&&(da+='<span class="h-right">'+S.rightlabel+"</span>");""!=da&&(da='<div class="config-slider-label">'+
da+'<div class="h-clear"></div></div>')}P='data-min="{0}" data-max="{1}" data-interval="{2}"'.format(P,ca,na);J=da+'<div class="js-module-config-slider config-slider" '+P+" >"+'\t<input type="hidden" name="data[{0}]" value="{1}" />'.format(J.name,R)+"</div>";return a(J)}(w);break;case "ChannelIncludeExclude":G=qb(w);k=!0;break;case "Custom":switch(w.name){case "tab_data":G=a("<div />");D=fa(d);a("<div />");a.each(D,function(J,R){var P="[tab_data]["+J+"][title]",ca=R.title,na=a('<input type="text" name="data{0}" id="data{0}" />'.format(P)).addClass("textbox config-textbox").attr("value",
ca);G.append(na);a.each(R.widgets,function(da,S){a.each(S,function(Fb,Gb){P="[tab_data]["+J+"][widgets]["+da+"]["+Fb+"]";ca=Gb;na=a('<input type="text" name="data{0}" id="data{0}" />'.format(P)).addClass("textbox config-textbox").attr("value",ca);G.append(na)})})});break;case "module_viewpermissions":G=pb(w)}break;default:console.log("hit default",w.type);return}D=a("<div />").addClass("config-required-mark h-left").append(1==w.isRequired?"*":"&nbsp;");0==w.isEditable&&G&&(G.find("input").prop("readonly",
!0),G.is("input")||G.prop("disabled",!0));M=a("<div />").addClass("config-label h-left").addClass(w.name).html(w.label);p&&M.prop("title",w.name);w.description&&a("<div />").addClass("config-description").html(w.description).appendTo(M);w.ishiddeninput?G&&(G.attr("hidden",!0),f.append(G)):f.append(a("<div></div>").addClass(function(){return"h-clearfix config-row"+(0!=++r%2?" odd":"")}).append(M,D,a("<div></div>").addClass("config-value h-left").addClass(w.name).append(G)));"default_tab"==w.name&&
(m?g=w:y=!0);"display_tabs"==w.name&&(m?t=w:u=!0);"tab_order"==w.name&&(m||(n=!0));"axd"==w.name&&(l=!0)});var A=function(){function D(R){return a('input:checkbox[value="'+R+'"]',E).is(":checked")}B=b(c);var w=a('select[name="data[default_tab]"]',f),G=w.val();G&&D(G)||(G=x.configs.default_tab.defaultvalue);w.selectBox("destroy");w.empty();for(var M in B){var J=B[M].selector;D(J)&&(J=a('<option value="'+J+'">'+B[M].label+"</option>").prop("selected",G==J),w.append(J))}w.selectBox()},C=function(){B=
b(c);var D=a(".config-value.tab_order",f);D.empty().append("<ul>");for(var w in B){if(u){if(!a('input:checkbox[value="'+B[w].selector+'"]',E).is(":checked"))continue}else if(!B[w].displayed)continue;var G=a('<li id="'+B[w].selector+'">'+B[w].label+"</li>");a("ul",D).append(G);var M=a('<input name="data[tab_order]['+B[w].selector.substring(1)+']" value="'+w+'" type="hidden">');D.append(M)}a("ul",D).sortable({stop:function(){var J=a(this).sortable("toArray");D.find("input:hidden").remove();for(w in J)M=
a('<input name="data[tab_order]['+J[w].substring(1)+']" value="'+w+'" type="hidden">'),D.append(M)}});a("ul",D).disableSelection()};if(u){var B=b(c);var E=a(".config-value.display_tabs",f),F;for(F in B){var H=a('<label><input type="checkbox" name="data[display_tabs][]" value="'+B[F].selector+'">'+B[F].label+"</label>");B[F].displayed&&H.find("input:checkbox").prop("checked",!0);E.append(H)}if(y)a("input:checkbox",E).on("click",function(){A();C()})}n&&C();y&&A();(H=za(d))&&a("<input type='hidden' name='data[containerinstanceid]' value='"+
H+"' />").appendTo(f);if(m){var K=fa(d),I=a('select[name="data[default_tab]"]',f),U=a(".config-value.display_tabs",f),L=t&&t.defaultvalue||"";""==L&&(L={},a.each(K,function(D,w){L[D]="1"}));var Y=function(){var D;I.empty();a.each(K,function(w,G){D=a('<option value="'+w+'">'+G.title+"</option>");"0"==L[w]?D.prop("disabled",!0):g.defaultvalue==w&&D.prop("selected",!0);I.append(D)});I.is(".selectBox")&&I.selectBox("refresh")};g&&Y();if(t){var X;U.empty();a.each(L,function(D,w){var G="data[display_tabs]["+
D+"]";X=a("<label />").append(a('<input type="hidden" name="'+G+"\" value='0'/>")).append(a('<input type="checkbox" name="'+G+"\" value='1' data-tab-number=\""+D+'" />')).append(document.createTextNode(K[D].title));"1"==w&&X.find("input:checkbox").prop("checked",!0);U.append(X)});a("input:checkbox",U).on("click",function(){var D=a(this),w=D.prop("checked");D=D.data("tab-number");var G=I.find("option[value='"+D+"']").prop("disabled")!=!w;L[D]=w;G&&Y()})}}l&&a(".config-value.axd",f).append('<button class="axd-edit-button b-button b-button--secondary b-button--sitebuilder" data-location="'+
x.widgetinstanceid+'">'+vBulletin.phrase.get("edit")+"</button>")}else a("#config-dialog .widget-config-container").html(vBulletin.phrase.get("no_configurations_found")).addClass("notice"),a("#btnSaveConfig").prop("disabled",!0),a("#btnCloseConfig").trigger("focus");f.show();a("#config-dialog .loader").hide();k&&f.find("select").selectBox();f.find(".js-module-config-slider").each(function(D){D=a(this);var w=D.find("input"),G=D.parent().find(".js-slider-output"),M=D.data("min"),J=D.data("max"),R=D.data("interval");
w.length&&D.slider({min:M,max:J,step:R,value:w.val(),isRTL:z,change:function(P,ca){P=ca.value;G.length&&G.val(P);w.val(P)}})});(function(){function D(){var w=a(this),G=w.next(".js-checkbox-always-send-hidden");0!=G.length||w.prop("checked")?G.remove():a('<input type="hidden" name="{0}" class="js-checkbox-always-send-hidden" value="0" />'.format(w.prop("name"))).insertAfter(w)}a(".js-checkbox-always-send").off("click").on("click",D);a(".js-checkbox-always-send").each(D)})();a("#config-dialog .dialog-content .widget-config-container").find("input, textarea, select, button").filter(":visible").first().trigger("focus")},
error_phrase:["error_retrieving_configuration",e],after_error:function(){a("#config-dialog .loader").hide();a("#config-dialog").dialog("close")}});return!1}})}function Da(){a(".edit-mode .canvas-layout:visible > .canvas-widget-list").width("").each(function(){a(this).width(a(this).width())})}function Hb(){vBulletin.AJAX({call:"/ajax/api/widget/fetchPageManagerForums",complete:function(){a("#config-dialog .loader").hide()},success:function(b){rb=!0;var c=a("<div>").addClass("channel-list");a.each(b,
function(d,e){d=a.map(e.subchannels,function(h,q){return q}).length;d=jb(c,e.nodeid,e.parentid,e.title,e.category,!1,d);ob(e.subchannels,d)});b=a("#top-level-forum .channel-config-dialog");b.find(".channel-list").remove();hb(c);ib(c);b.append(c);a(document).on("mousedown",".main-channel-container > .channel-item-container > .channel-item .grip-icon",function(){a(this).closest(".main-channel-container").height(a(this).closest(".main-channel-container").height())});a(document).on("mousedown",".sub-channel-container > .channel-item-container > .channel-item .grip-icon",
function(){a(this).closest(".sub-channel-container").height(a(this).closest(".sub-channel-container").height())});N=!1;Ia()},error_phrase:"error_fetching_channels"});a(document).on("click keydown",".channel-config-dialog .add-channel-fieldset .add-button, .channel-config-dialog .add-channel-fieldset input",function(b){if(("click"==b.type||13!=b.which)&&"text"==this.type||"keydown"==b.type&&"button"==this.type&&13!=b.which)return!0;var c="text"==this.type?a(this):a(this).prev();if((b=a.trim(c.val()))&&
b!=c.prop("defaultValue")){var d=a("#top-level-forum .channel-config-dialog .channel-list");jb(d,"","",vBulletin.htmlEntities(b),0,!0,0);hb(d);Ia();c.val("");"button"==this.type&&c.trigger("focus")}else vBulletin.warning("warning_gcpuser","please_enter_channel_title",function(){c.trigger("focus")})});a(document).on("click",".channel-config-dialog .main-channel-container .channel-item .channel-title div",function(){a(this).hide().next().show().trigger("select").trigger("focus")});a(document).on("keydown blur",
".channel-config-dialog .main-channel-container .channel-item .channel-title input",function(b){if("focusout"==b.type||"keydown"==b.type&&13==b.which)a.trim(this.value)||"focusout"!=b.type||(this.value=this.defaultValue),a.trim(this.value)&&a(this).hide().prev().text(this.value).show()});a(document).on("click",".channel-config-dialog .channel-item .category-to-channel a",function(){var b=a(this);b.closest(".channel-item").attr("data-switch-category",0);b.parent().removeClass("category-to-channel").addClass("channel-to-category");
b.html(vBulletin.phrase.get("make_category"));return!1});a(document).on("click",".channel-config-dialog .channel-item .channel-to-category a",function(){var b=a(this);b.closest(".channel-item").attr("data-switch-category",1);b.parent().removeClass("channel-to-category").addClass("category-to-channel");b.html(vBulletin.phrase.get("make_forum"));return!1});a(document).on("click",".channel-config-dialog .channel-item .toggle-button",function(){Ha(a(this));return!1});a(document).on("click",".channel-config-dialog .channel-item .add-subchannel-button a",
function(){var b=a(this).parent().siblings(".toggle-button");Ha(b,!0);var c=a(this).closest(".channel-item-container"),d=kb("","",vBulletin.phrase.get("new_channel"),0,c,0);ib(c);d.slideDown(100,function(){var e=c.find(".channel-item-inner").first().find(".num-subchannels");e.text(parseInt(e.text())+1);a(".channel-title div",d).trigger("click");a(".channel-title input",d).get(0).scrollIntoView(!1);Ia()});return!1});a(document).on("click",".channel-config-dialog .channel-list .channel-item .close-button",
function(){var b=a(this),c=0<a("> .sub-channel-container > .channel-item-container",b.closest(".channel-item-container")).length,d=vBulletin.htmlEntities(b.prev().text());O.openConfirmDialogSimple({title:"remove_forum_q",message:["do_you_want_to_remove_forum",d,c?" "+va.get("subchannels_will_be_deleted"):""],iconType:"warning",onClickYes:function(){var e=b.closest(".channel-item-container"),h=e.parent(),q=b.closest(".channel-item").attr("data-channel-id"),v=function(){e.remove();h.hasClass("main-channel-container")&&
h.slideUp("fast",function(){a(this).remove()})};q?vBulletin.AJAX({call:"/ajax/api/content_channel/delete",data:{nodeid:q},success:function(x){v()}}):v()}})})}function Ib(b){function c(d,e,h){vBulletin.AJAX({call:"/ajax/render/{0}_list".format(d),data:{page:e,isAjaxTemplateRenderWithData:!0},complete:function(){a("#config-dialog .loader").hide();a("body").css("cursor","auto")},success:function(q){a("#top-level-{0} .channel-config-dialog".format(d)).html(q.template);h&&vBulletin.pagination({context:"#top-level-{0} .channel-config-dialog".format(d),
onPageChanged:function(v,x){c(d,v)}})},error_phrase:"error_fetching_channels"})}c(b,1,!0);a(document).on("click",".page_manager_table .channel_name div",function(){a(this).hide().next().show().trigger("select").trigger("focus")});a(document).on("keydown blur",".page_manager_table .channel_name input",function(d){if("focusout"==d.type||"keydown"==d.type&&13==d.which){a.trim(this.value)||"focusout"!=d.type||(this.value=this.defaultValue);var e=a.trim(this.value),h=a(this);e&&h.prev().html()!=e&&(a("body").css("cursor",
"wait"),vBulletin.AJAX({call:"/ajax/api/Content_Channel/update",data:{nodeid:h.parents(".channel_row").data("nodeid"),data:{title:e}},complete:function(){a("#config-dialog .loader").hide();a("body").css("cursor","auto")},success:function(q){h.hide();h.prev().html(e);h.prev().show()},error_phrase:"error_saving_page"}))}});a(document).on("click",".page_manager_table .delete",function(){let d=a(this).parents(".channel_row");O.openConfirmDialogSimple({title:"remove_channel_q",message:["do_you_want_to_remove_channel",
d.find(".channel_name_val").html()],iconType:"warning",onClickYes:()=>{vBulletin.AJAX({call:"/ajax/api/content_channel/delete",data:{nodeid:d.data("nodeid")},success:()=>{d.remove()}})}})})}function yb(){a("body").css("cursor","wait");var b=function(c,d){c=c.index();0!=c||rb||Hb();1!=c&&2!=c||Ib(a(d).data("top-level"))};Oa=a("#manage-pages").tabs({beforeActivate:function(c,d){var e=d.newTab.index();if(0!=e&&N)return O.openConfirmDialogSimple({title:"exit_without_saving_page",message:"forum_changes_will_be_lost",
iconType:"warning",onClickYes:()=>{N=!1;Oa.tabs("option","active",e)}}),!1},create:function(c,d){b(d.tab,c.currentTarget)},activate:function(c,d){b(d.newTab,c.currentTarget)}});Oa.tabs("option","active",0);a("#manage-page-dropdown .lnkSaveChanges").on("click",function(){function c(h,q,v){h=a("> .channel-item-container",h);0<h.length&&h.each(function(x){var f=a("> .channel-item",this),r=f.attr("data-channel-id"),y=f.attr("data-parent-id");subchannelObj={nodeid:r||"0",previousParentId:y,title:a(".channel-title div",
f).html(),displayorder:x+1,parentid:v||"0",subchannels:[]};null!=f.attr("data-switch-category")&&(subchannelObj.switchCategory=f.attr("data-switch-category"));q.subchannels.push(subchannelObj);c(f.next(".sub-channel-container"),q.subchannels[x],r)})}var d=a(this);if(d.hasClass("h-disabled"))console.log("We are busy saving already. Try again later.");else{d.addClass("h-disabled");var e=[];ha?(a(".channel-config-dialog .channel-list .main-channel-container").each(function(h){var q=a("> .channel-item-container > .channel-item",
this),v=q.attr("data-channel-id"),x=q.attr("data-parent-id");h={nodeid:v,previousParentId:x,title:a(".channel-title div",q).html(),displayorder:h+1,subchannels:[]};null!=q.attr("data-switch-category")&&(h.switchCategory=q.attr("data-switch-category"));c(q.next(".sub-channel-container"),h,v);e.push(h)}),vBulletin.AJAX({call:"/ajax/api/widget/saveForums",data:{data:JSON.stringify(e)},complete:function(){d.removeClass("h-disabled")},success:function(h){ha=N=!1;oa()},title_phrase:"error_saving_forums"})):
d.removeClass("h-disabled")}});a(document).on("click","#manage-page-dropdown .lnkExitWithoutSaving",function(){Ra(N,"exit_without_saving_page","do_you_want_to_exit_without_saving_page").then(oa)})}function cb(){function b(n){let l=a("#save-page-form");l.find(".template-name").toggleClass("h-hide",n);l.find(".page-template-name").toggleClass("h-hide",!n);l.find("#templatetitle-edit").prop("disabled",n)}function c(n){"undefined"==typeof ua.search_config_dialog?vBulletin.AJAX({call:"/ajax/render/dialog_search_config",
success:function(l){ua.search_config_dialog=l;a("body").append(l);c(n)},error_phrase:"error_fetching_dialog"}):(n&&a("#search-config-dialog").data("search-widget",n),Fa(a("#search-config-dialog").dialog({title:vBulletin.phrase.get("edit_search_module"),autoOpen:!0,modal:!0,resizable:!1,closeOnEscape:!1,showCloseButton:!1,width:800,dialogClass:"dialog-container search-config-dialog-container input-dialog",close:function(){ia("visible")},open:function(){var l=this;a("#customSearchDialog",l).addClass("h-invisible");
a("body").css("cursor","wait");vBulletin.search=vBulletin.search||{};var k=function(){Ea=new vBulletin.search.SearchControl("#customSearchDialog");Jb(Ea)},m=a("#search-config-dialog").data("search-widget");m.attr("data-widget-id");m.attr("data-widget-instance-id");if("undefined"==typeof vBulletin.search.SearchControl){var t=["/js/tag-editor.js","/js/sb_search.js"],g=function(){if(0==t.length)a("body").css("cursor","auto"),a("#customSearchDialog",l).removeClass("h-invisible"),k();else{var p=t.shift();
a.getScript(vBulletin.getAjaxBaseurl()+p+"?"+pageData.simpleversion,g).fail(function(z,A,C){z=C&&C.message?"{0}: {1}".format(vBulletin.phrase.get("error"),C.message):"HTTP {0}: {1}".format(z.status,z.statusText);a("#search-config-dialog").dialog("close");openAlertDialog({title:vBulletin.phrase.get("error"),message:"{0}<br /><br />({1})".format(vBulletin.phrase.get("error_loading_search_config_script"),z),iconType:"error"})})}};g()}else a("#customSearchDialog",l).removeClass("h-invisible"),k();N=!1},
create:function(){a("#btnSaveSearchConfig").on("click",function(){a("body").css("cursor","wait");var l=a("#search-config-dialog").data("search-widget"),k=l.attr("data-widget-id"),m=l.attr("data-widget-instance-id"),t={pageid:pageData.pageid,widgetid:k,widgetinstanceid:m,pagetemplateid:a("#select-template input[type=radio]:checked").val(),searchJSON:{}};k=a("#searchTitle");0<k.length&&0<a.trim(k.val()).length&&(t.searchTitle=a.trim(k.val()),k.data("defaultValue",t.searchTitle));k=a("#resultsPerPage");
0<k.length&&0<a.trim(k.val()).length&&(t.resultsPerPage=a.trim(k.val()),k.data("defaultValue",t.resultsPerPage));k=["hide_avatars","hide_module_when_empty","hide_usernames","displayFooter"];for(m=0;m<k.length;m++){var g=k[m],p=a("input[name='"+g+"'][value='1']");0<p.length&&p.prop("checked")?(t[g]="1",p.data("defaultValue","1")):(t[g]="0",p.data("defaultValue","0"))}k=a(".js-searchmodule-show-at-breakpoints");0<k.length&&(t.show_at_breakpoints={desktop:1,small:1,xsmall:1},k.find("input").each(function(){var A=
a(this);switch(A.prop("name")){case "show_at_breakpoints[desktop]":t.show_at_breakpoints.desktop=A.prop("checked")?1:0;break;case "show_at_breakpoints[small]":t.show_at_breakpoints.small=A.prop("checked")?1:0;break;case "show_at_breakpoints[xsmall]":t.show_at_breakpoints.xsmall=A.prop("checked")?1:0}}),k.data("defaultValue",t.show_at_breakpoints));g=a("#search-config-dialog .js-sb-module-config--viewpermissions");if(0<g.length){t.module_viewpermissions={};k=g.find("input.js-module_viewpermissions__key:checked");
m="show_all";g=g.find("input.js-module_viewpermissions__value:checked");var z="all";k.length&&(m=k.prop("value"));g.length&&(z=[],a.each(g,function(A,C){z.push(a(C).prop("value"))}));t.module_viewpermissions={key:m,value:z}}k=a("#search-config-dialog .js-sb-module-config--filter_nodes");0<k.length&&(k=Kb(k.find(":input")),t.module_filter_nodes="data"in k&&"module_filter_nodes"in k.data?k.data.module_filter_nodes:{});t.searchJSON=Ea.load();vBulletin.AJAX({call:"/ajax/api/widget/saveSearchWidgetConfig",
data:{data:JSON.stringify(t)},complete:function(){a("body").css("cursor","auto")},success:function(A){0<A.widgetinstanceid&&A.searchJSON&&(l.attr("data-widget-instance-id",A.widgetinstanceid),l.find(".main-title").text(t.searchTitle),a("#config_widgetinstanceid").val(A.widgetinstanceid),a("#config_pagetemplateid").val(A.pagetemplateid),a("#pagetemplateid-new").val(A.pagetemplateid),a("#search-config-dialog").dialog("close"),La(l,!0),N=!0)},error_phrase:"error_saving_search_config"})});a("#btnCancelSearchConfig").on("click",
function(){function l(){a("#search-config-dialog").dialog("close");Ea.set("{}");var k=a("#search-config-dialog #searchTitle");k.val(k.data("defaultValue"));k=a("#search-config-dialog #resultsPerPage");k.val(k.data("defaultValue"));k=["hide_avatars","hide_module_when_empty","hide_usernames","displayFooter"];for(var m=0;m<k.length;m++){var t=k[m],g=a("#search-config-dialog input[name='"+t+"'][value='1']");t=a("#search-config-dialog input[name='"+t+"'][value='0']");"1"==g.data("defaultValue")?g.prop("checked",
!0):t.prop("checked",!0)}k=a("#search-config-dialog .js-searchmodule-show-at-breakpoints");if(0<k.length){var p=k.data("defaultValue");"undefined"!=typeof p&&k.find("input").each(function(){var z=a(this);switch(z.prop("name")){case "show_at_breakpoints[desktop]":z.prop("checked",p.desktop);break;case "show_at_breakpoints[small]":z.prop("checked",p.small);break;case "show_at_breakpoints[xsmall]":z.prop("checked",p.xsmall)}})}}N?(a(this),openConfirmDialog({title:vBulletin.phrase.get("cancel_edit"),
message:vBulletin.phrase.get("do_you_want_to_cancel_editing_search_module"),iconType:"warning",onClickYes:l})):l()})}})))}a(document).on("focus click",".edit-mode .widget-content a, .edit-mode #channel-tabbar a, .edit-mode #btnSearch, .edit-mode #q",function(n){this.blur();return!1});lb||Db();nb?(Ka.thumbnailRadioCheckbox("check",a("#select-template .template-border.selected").next("input"),!1),T||a("#select-template .template-item input[value={0}]".format(a("#pagetemplateid-yes").val())).prev().trigger("click")):
Eb();a.isEmptyObject(Ba)&&Wa();ea();a("#config_pagetemplateid").val("");ka=void 0;if(T){var d=a("#save-page-form");d.find("#pageurl, #pagetitle").val("");d.find("#pageid").val(0);d.find("#ishomeroute").prop({disabled:!1,checked:!1})}a("#edit-page-dropdown .lnkDeletePage").on("click",()=>{O.openConfirmDialogSimple({title:"confirm_deletion_gcpglobal",message:"confirm_remove_page_desc",yesPhrase:"delete_page",noPhrase:"cancel",iconType:"warning",onClickYes:()=>{vBulletin.AJAX({call:"/ajax/api/page/delete",
data:{pageid:pageData.pageid},success:()=>{location.href=pageData.baseurl}})}})});a("#edit-page-dropdown .lnkSaveChanges").on("click",function(){var n=a("#save-page-form");let l=n.find(".new-page-template");n=n.find(".edit-page-template");var k=a("#edit-page-dropdown .tabs");k.find("li").removeClass("ui-tabs-active ui-state-active");k.find(".tab").addClass("ui-tabs-hide");a("#save-content").show();let m=(k=a("body").hasClass("lnkNewPage"))||!T||W||N?"":"none";n.css("display",m).prev("label").css("display",
m);l.find("input").prop("disabled",!k);n.find("input").prop("disabled",k);k||(a("#pagetemplateid-yes").prop("checked")||a("#pagetemplateid-no").prop("checked")||a("#pagetemplateid-yes").prop("checked",!0),b(a("#pagetemplateid-yes").prop("checked")))});a(document).on("click","#edit-page-dropdown .lnkExitWithoutSaving",function(){W||N||ma||!(T||Qa(a("#pagetitle"))&&Qa(a("#pageurl")))||T&&(""!=a("#pagetitle").val()||""!=a("#pageurl").val())?O.openConfirmDialogSimple({title:"exit_without_saving_page",
message:"do_you_want_to_exit_without_saving_page",iconType:"warning",onClickYes:()=>{let n=parseInt(a("input#pagetemplateid-new").val(),10);!isNaN(n)&&0<n?V.AJAX({call:"/ajax/api/page/deleteOrphanedPagetemplates",data:{pagetemplateids:[n]},complete:oa}):oa()}}):oa()});var e=0;a(window).on("resize.canvas",function(){clearTimeout(e);e=setTimeout(Da,200)});var h=function(n){return'<label class="hide-icon module-button-item"><input type="checkbox" title="{0}" data-toggle-title="{1}"{2} /></label>'.format(va.get("check_to_hide_module"),
va.get("uncheck_to_unhide_module"),n?' checked="checked"':"")};a(".canvas-widget.container-widget .canvas-widget:not(.dummy-widget)").each(function(){var n=a(this).hasClass("hidden-widget");a(".module-buttons .admin-only",this).prepend(h(!1));n&&a(".module-buttons .admin-only .hide-icon input",this).trigger("click")});var q=function(n,l,k){k=l.item.hasClass("module-item");n=a("> .canvas-widget.container-widget {0}".format(k?".module-item":".canvas-widget.container-widget"),this);return 0<n.length&&
n.closest(".canvas-widget.container-widget").attr("data-widget-id")==n.attr("data-widget-id")?(k?n.remove():l.sender?l.sender.sortable("cancel"):a(this).sortable("cancel"),x=!0,openAlertDialog({title:vBulletin.phrase.get("move_not_allowed"),message:vBulletin.phrase.get("dropping_container_module_into_container_module_not_allowed"),iconType:"warning"}),!0):!1},v=function(n){0<n.parents(".canvas-widget.container-widget").length?0==a(".module-buttons .admin-only .hide-icon",n).length&&a(".module-buttons .admin-only",
n).prepend(h()):n.removeClass("hidden-widget").find("> .widget-header .module-buttons .admin-only .hide-icon").remove()},x=!1;sb=a(".edit-mode .canvas-layout .canvas-widget-list:not(.js-draggable-module-target)");sb.sortable({revert:200,addWidthAnimation:!0,tolerance:"pointer",connectWith:".edit-mode .canvas-layout:visible .canvas-widget-list",placeholder:"canvas-widget canvas-widget-highlight drag-highlight",create:function(){Da()},update:function(n,l){var k=this;if(Pa)x||Xa(l.item,function(p){p=
p.filter(function(){return this.nodeType===Node.ELEMENT_NODE});l.item.replaceWith(p);p.filter(":not(.container-widget)").find(".toggle-button").trigger("click",[!0]);if(!q.apply(k,[n,l])){v(p);p.addClass("shadow").find(".widget-tabs").addBack().filter(".widget-tabs").tabs();la();p.parents(".canvas-widget.container-widget").find(".canvas-widget.dummy-widget").remove();var z=p.parents(".canvas-widget.container-widget");1==z.length&&(z.find(".canvas-widget-highlight").remove(),z.find(".module-item").remove())}z=
p.data("widget-id");var A=za(p),C=function(F){p.attr("data-widget-instance-id",F);A&&sa(p);ta(p)};if(z){var B=a(k).data("section"),E=0;a(k.children).filter(".canvas-widget").each(function(){a(this);var F=a(this).attr("data-widget-instance-id");if(!F)return!1;E=F});Aa(A,z,{},C,B,E)}});else if(q.apply(k,[n,l])||(v(l.item),la()),a.contains(this,l.item[0])){var m=l.item.closest(".canvas-widget"),t=za(m),g=m.data("widget-instance-id")||0;sa(m);g&&vBulletin.AJAX({call:"/ajax/api/widget/saveWidgetinstanceContainerinstanceid",
data:{widgetinstanceid:g,containerinstanceid:t,pagetemplateid:qa(),displaysection:xa(m),displayafterwidgetinstanceid:ya(m)}})}l.sender&&(m=l.sender.closest(".canvas-widget"),m.length&&sa(m));W=!0},out:function(n,l){a(this).css("overflow","")},sort:function(n,l){Ja&&(Pa=!0)},start:function(n,l){ia("hidden",l.item)},stop:function(n,l){a(this).css("overflow","");Pa=x=!1;l.item.height("auto");ia("visible");a(".canvas-layout .canvas-widget-list .canvas-widget-highlight").remove();a(".canvas-layout > .canvas-layout-row .canvas-widget-list > .canvas-widget.container-widget");
a(".canvas-layout > .canvas-layout-row .canvas-widget-list > .canvas-widget.container-widget").each(function(){var k=a(".canvas-widget-list",this);0==k.children().length?k.append('<div class="canvas-widget dummy-widget"><span>{0}</span></div>'.format(vBulletin.phrase.get("you_can_also_drag_and_drop_modules_here"))):0<k.find(".canvas-widget.dummy-widget").length&&0<k.find(".canvas-widget:not(.dummy-widget,.canvas-widget-highlight)").length&&k.find(".canvas-widget.dummy-widget").remove()})},receive:function(n,
l){l.item.hasClass("module-item")&&q.apply(this,[n,l,!0])},handle:".move-icon",items:".canvas-widget:not(.js-widget-non-sortable,.js-widget-pinned-sortable)"}).find(".canvas-widget .widget-header").disableSelection();var f=a.ui.sortable.prototype._mouseStop,r=a.ui.sortable.prototype._clear,y=!1,u=jQuery.fn.animate;a.ui.sortable.prototype._mouseStop=function(n,l){if(y=n&&this.options.revert&&this.options.addWidthAnimation){var k=this.placeholder.outerWidth();jQuery.fn.animate=function(){y&&k&&(arguments[0].width=
k);return u.apply(this,arguments)}}return f.apply(this,arguments)};a.ui.sortable.prototype._clear=function(n){y&&u&&(jQuery.fn.animate=u);return r.apply(this,arguments)};a(document).on("click",".edit-mode .canvas-widget .js-pin-module-button",function(){var n=a(this),l=n.closest(".canvas-widget");l.find("js-move-button");var k=l.hasClass("js-widget-pinned-sortable");l.toggleClass("js-widget-pinned-sortable",!k);n.toggleClass("pin-icon--pinned",!k)});a(document).on("click",".edit-mode .canvas-widget .close-button",
function(){var n=a(this);openConfirmDialog({title:vBulletin.phrase.get("remove_module_q"),message:vBulletin.phrase.get("do_you_want_to_remove_module",n.closest(".widget-header").find(".module-title").text()),iconType:"warning",onClickYes:function(){var l=n.closest(".canvas-widget"),k=l.data("widget-instance-id"),m=l.parent(),t=l.parents(".canvas-widget.container-widget");l.remove();la();W=!0;Ta([k]);sa(m);0==t.find(".canvas-widget").length&&t.find(".canvas-widget-list").append('<div class="canvas-widget dummy-widget"><span>{0}</span></div>'.format(vBulletin.phrase.get("you_can_also_drag_and_drop_modules_here")))}})});
a(document).on("click",".edit-mode .js-search-widget .edit-button",function(){ia("hidden");c(a(this).closest(".js-search-widget"));a("#search-config-dialog").dialog("open");return!1});a(document).on("click","#save-page-form #btnOK",function(n,l){function k(t){var g={widgetId:t.attr("data-widget-id"),widgetInstanceId:t.attr("data-widget-instance-id")||"0"};if(t.is(".container-widget")){var p=[],z=[];a("div.canvas-widget-list > div.canvas-widget",t).each(function(C){a(this).hasClass("hidden-widget")||
z.push(a(this).attr("data-widget-instance-id"));p.push(k(a(this)))});g.subModules=p;g.displaySubModules=z}if(t.data("is-tabbed-container")){var A=[];t.find("> .js-admin-widget-content > .js-admin-widget-tab").each(function(){a(this).find("> .widget-content > .canvas-layout-row > .canvas-widget-list > .canvas-widget:not(.dummy-widget)").each(function(){var C=a(this);A.push(k(C))})});g.tabbedContainerSubModules=A}return g}n=a("#edit-page-dropdown .lnkSaveChanges .label").text();var m=a("#save-page-form");
if(!l){function t(g,p){openConfirmDialog({title:g,message:vBulletin.phrase.get(p),buttonLabel:{yesLabel:vBulletin.phrase.get("save_page"),noLabel:vBulletin.phrase.get("cancel")},iconType:"warning",onAfterClose:function(){"btnConfirmDialogYes"==a(this).attr("id")&&a("#save-page-form #btnOK").trigger("click",!0)}})}l=m.find("#pagetitle");if(!a.trim(l.val()))return vBulletin.warning(n,"please_enter_page_name",l),!1;if(a("body").hasClass("lnkEditPage"))if(l=m.find("#pagetemplateid-yes"),noChecked=m.find("#pagetemplateid-no").prop("checked"),
yesChecked=l.prop("checked"),noChecked||yesChecked){if(noChecked){m=m.find("#templatetitle-edit");l=a.trim(m.val());if(!l||l==m.prop("defaultValue"))return O.warning(n,"please_enter_new_template_name",m),!1;t(n,["applying_new_template",l]);return!1}if(yesChecked)return!T||W||N?t(n,"overwrite_template_continue"):a("#save-page-form #btnOK").trigger("click",!0),!1}else return vBulletin.warning(n,"please_choose_overwrite_template_options",l),!1;else if(m=m.find("#templatetitle-new"),l=a.trim(m.val()),
!l||l==m.prop("defaultValue"))return vBulletin.warning(n,"please_enter_new_template_name",m),!1}n=a(".canvas-layout:visible");aa=n.attr("id");m=parseInt(n.attr("data-layout-id"),10);a("#save-page-form #screenlayoutid").val(m);a('input[type=hidden][name*="displaysections"]',n).clone().appendTo(a("#moduleData").empty());a("#"+aa+" > .canvas-layout-row > div.canvas-widget-list").each(function(){var t=[],g=gb(this);a(this).children("div.canvas-widget").each(function(){t.push(k(a(this)))});a('#save-page-form input[name="displaysections['+
g+']"]').val(JSON.stringify(t))});n="vbulletin-screenlayout-bare-full-57433eecd10803.93763070"==a("input[name='screenlayoutid'][value='"+m+"']").attr("data-guid");Ra(n,"warning","you_cannot_revert_this_layout_confirm").then(()=>{vBulletin.AJAX({call:"/admin/savepage",data:{input:V.getFormData(a("#save-page-form"),0),url:location.href},success:function(t){t.viewControlEligible?O.alert("page_saved","page_view_perm_admincp","",()=>{location.href=t.url}):location.href=t.url},error_phrase:"error_saving_page"})})});
Fa(a("#config-dialog").dialog({title:vBulletin.phrase.get("module_configuration"),autoOpen:!1,modal:!0,resizable:!1,closeOnEscape:!1,showCloseButton:!1,height:500,width:800,dialogClass:"dialog-container config-dialog-container input-dialog",open:function(){a("#config-dialog .loader").show()},create:function(){a(document).on("submit",".sitebuilder-widget-form",function(){(function(n){a("body").css("cursor","wait");a("#config-dialog .js-button").prop("disabled",!0);var l=a("#config-dialog").data("selected-module");
vBulletin.AJAX({url:n.action,type:n.method,data:a(n).serializeArray(),success:function(k){a("body").css("cursor","auto");if(k.data){var m=k.data.title||k.data.searchResultTitle||k.data.searchTitle;m&&l.find(".module-title .admin-only").text(vBulletin.phrase.get("x_module",m));switch(k.data.widget_type){case "custom-html-widget":l.find(".widget-content").html(k.data.html);La(l,!0);break;case "video-widget":if(k=k.data.embed_data){var t=l.find(".widget-content .videocontainer");0==t.length&&(t=a("<div />").addClass("videocontainer").appendTo(l.find(".widget-content")));
k={code:k.code,provider:k.provider,width:"100%",height:260};a.post(vBulletin.getAjaxBaseurl()+"/ajax/render/bbcode_video",k,function(g){g&&(t.empty().append(g),La(l,!0))},"json");l.find(".widget-content").find(".note").addClass("h-hide")}}k=a('select[name="data[default_tab]"]',a(n));0<k.length&&l.attr("data-widget-default-tab",k.val());N=!0}a("#config-dialog").dialog("close")},after_error:function(){a("#config-dialog .loader").hide();a("#config-dialog .js-button").prop("disabled",!1)},error_phrase:["error_saving_configuration_module",
a("#config-dialog .widget-name h1").text()]})})(this);return!1});a("#btnCloseConfig").on("click",function(){a("#config-dialog").dialog("close")})},close:function(){ia("visible");a("#config-dialog .js-button").prop("disabled",!1)}}));if(T){d=a("#pagetitle");let n=a("#pageurl"),l=!0;d.on("focus",k=>{var m=n.val();l=""==m||m==k.currentTarget.value.replace(/[^\w-]+/g,"")});d.on("keyup blur",k=>{l&&n.val(k.currentTarget.value.replace(/[^\w-]+/g,""))})}a("#pagetemplateid-yes").on("click",()=>b(!0));a("#pagetemplateid-no").on("click",
()=>b(!1));a("#blog-category-dialog").dialog({title:vBulletin.phrase.get("edit_blog_categories"),autoOpen:!1,modal:!0,resizable:!1,closeOnEscape:!1,showCloseButton:!1,width:800,dialogClass:"dialog-container blog-category-dialog-container input-dialog",close:function(){ia("visible")},open:function(){N=!1},create:function(){a("#blog-category-dialog #btnSaveCategories").on("click",function(){a("body").css("cursor","wait");a("#blog-category-dialog dialog-content loader").show();var n=a("#search-config-dialog").data("blog-category-widget");
n.attr("data-widget-id");n.attr("data-widget-instance-id");vBulletin.AJAX({call:"/ajax/api/widget/saveBlogCategories",data:{},complete:function(){a("body").css("cursor","auto");a("#blog-category-dialog dialog-content loader").hide()},success:function(l){a("#blog-category-dialog dialog-content widget-config-container").html(l)},error_phrase:"error_saving_blog_categories"})});a("#blog-category-dialog #btnNewCategory").on("click",function(){});a("#blog-category-dialog #btnCloseCategories").on("click",
function(){N?(a(this),openConfirmDialog({title:vBulletin.phrase.get("cancel_edit"),message:vBulletin.phrase.get("do_you_want_to_cancel_editing_blog_categories_module"),iconType:"warning",onClickYes:a("#blog-category-dialog").dialog("close")})):a("#blog-category-dialog").dialog("close")})}})}function Kb(b){if(1>b.length)return{};var c={};b.serializeArray().forEach(function(d){var e=d.value;var h=d.name,q=h.indexOf("[");d=0<=q&&h.substring(0,q)||h;h=0<=q&&h.substring(q)||"";q=/\[([^\]]*)\]/g;var v=
5,x=[d];if(0<h.length){do(d=q.exec(h))&&"1"in d&&x.push(d[1]);while(null!==d&&0<v--)}e=tb(x,e);c=ub(c,e)});return c}function ub(b,c){if(Array.isArray(c))c.forEach(function(e){b.push(e)});else{if("object"!=typeof c)return c;for(var d in c)c.hasOwnProperty(d)&&(b[d]=d in b?ub(b[d],c[d]):c[d])}return b}function tb(b,c){var d=b.shift(),e={};0<b.length&&(c=tb(b,c));if(""==d)return[c];e[d]=c;return e}function Jb(b){a(this).closest(".canvas-widget");var c=a("#search-config-dialog").data("search-widget"),
d=c.attr("data-widget-id");c=c.attr("data-widget-instance-id");vBulletin.AJAX({call:"/ajax/api/widget/fetchSearchConfig",data:{widgetid:d,widgetinstanceid:c||"",pagetemplateid:qa(),configtype:"admin"},complete:function(){a("body").css("cursor","auto")},success:function(e){e.searchTitle&&a("#searchTitle").val(e.searchTitle);e.resultsPerPage&&a("#resultsPerPage").val(e.resultsPerPage);for(var h=["hide_avatars","hide_module_when_empty","hide_usernames","displayFooter"],q=0;q<h.length;q++){var v=h[q];
value=e[v]&&1==parseInt(e[v],10)?1:0;a("input[name='"+v+"'][value='"+value+"']").prop("checked",!0)}e.show_at_breakpoints&&(h=a("#search-config-dialog .js-searchmodule-show-at-breakpoints"),0<h.length&&h.find("input").each(function(){var x=a(this);switch(x.prop("name")){case "show_at_breakpoints[desktop]":x.prop("checked",e.show_at_breakpoints.desktop);break;case "show_at_breakpoints[small]":x.prop("checked",e.show_at_breakpoints.small);break;case "show_at_breakpoints[xsmall]":x.prop("checked",e.show_at_breakpoints.xsmall)}}));
e.module_viewpermissions&&(q=a("#search-config-dialog .js-searchmodule-module_viewpermissions--replaceme"),h=pb({defaultvalue:e.module_viewpermissions}),q.replaceWith(h));if(e.searchJSON&&("string"==typeof e.searchJSON&&(e.searchJSON=JSON.parse(e.searchJSON||"{}")),e.searchJSON.channel&&0<e.searchJSON.channel.length))if("param"in e.searchJSON.channel)e.module_filter_nodes={include:["current"]},e.module_filter_nodes.include_children=!0;else{e.module_filter_nodes={include:[]};e.module_filter_nodes.include_children=
!0;if("number"==typeof e.searchJSON.channel||"string"==typeof e.searchJSON.channel)e.searchJSON.channel=[e.searchJSON.channel];e.searchJSON.channel&&0<e.searchJSON.channel.length&&e.searchJSON.channel.forEach(function(x){e.module_filter_nodes.include.push(x)})}e.module_filter_nodes&&(q=a("#search-config-dialog .js-searchmodule-module_filter_nodes--replaceme"),h=qb({defaultvalue:e.module_filter_nodes}),q.replaceWith(h),a("#search-config-dialog select.js-module_filter_nodes-values").selectBox());b.set(e.searchJSON||
{},e.contentTypes||{},e.channels||{});a("#config-dialog .dialog-content .widget-config-container").show();a("#search-config-dialog .form_layout .form_row .field_column select").selectBox();a("#config-dialog .loader").hide()},after_error:function(){a("#config-dialog .loader").hide();a("#config-dialog").dialog("close")}})}const Q=va.get;let Ca,Oa,aa,fb,Ka,eb=[],W=!1,N=!1;var ha=void 0;let nb=!1,lb=!1,ma=!1,Ja=!1,Pa=!1,Ea=!1,T=!1,ua={},Ma={},Ba={},mb,sb,ka,Ua={saveNewWidgetInstance:!1},Va=a("<div>");
a(document).on("vb-toggle-sitebuilder-menu",Z);a(document).on("click",".js-top-menu-sitebuilder--list .js-top-menu-link:not(.js-top-menu-tab--admincp)",function(b){var c=a(b.target),d=c.data("panel-name");if(c.is(".b-top-menu__item-link--disabled"))return this.blur(),b.stopPropagation(),!1;b="vb-sitebuilder-panel--"+d;a(document).trigger(b);return!1});vBulletin.sitebuilder.activateSB=ba;var rb=!1;a(function(){xb();vBulletin.ready("sb_page").resolve()})})(jQuery,vBulletin,vBulletin.dialogtools,vBulletin.phrase);
;

// ***************************
// js.compressed/admin-sbpanel-style.js
// ***************************
vBulletin.precache("cancel changed_extra_css_warning confirm_action css_reverted css_saved error_loading_css error_setting_theme loading_themes no_preview_available revert revert_extra_css_warning save_and_continue style_changed success there_are_no_themes_installed".split(" "),["styleid"]);vBulletin.ensureObj("sitebuilder");
$.extend(vBulletin.sitebuilder,function(c,U,x,p){function I(b){vBulletin.assertUserHasAdminPermission("canusesitebuilder",this,()=>{y.call(this)});return!1}function y(b,a){var d=c(this);c(document.body);var e=!d.hasClass("selected"),g=!0;"undefined"!=typeof b&&(e=!!b);"undefined"!=typeof a&&(g=!!a);e?(c(document.body).addClass("js-edit-mode-style"),J(),c(".js-style-panel").css("display","none").removeClass("h-hide").slideDown("400",z)):(K(!e,d),c(".js-style-panel").slideUp("fast",function(){c(document.body).removeClass("js-edit-mode-style");
var f=new URL(location.href);f.searchParams.delete("adminAction");g?location.replace(f.href):history.replaceState({},"",f.href)}))}function u(b){y(!1,b);return!1}function K(b,a){c(document).trigger("vb-toggle-sitebuilder-menu",{enableButtons:b,currentButton:a})}function A(b,a,d){var e=c(".js-theme-selector__list:visible .js-theme-selector__theme-radio:checked").val();vBulletin.AJAX({call:"/ajax/api/style/setDefaultStyle",data:{styleid:e},error_phrase:"error_setting_theme",success:function(){x.setCookie("userstyleid",
e,!0);("undefined"==typeof a||a)&&u(!0);"undefined"!=typeof d&&d&&vBulletin.flashMessage(vBulletin.phrase.get("style_changed"))}});return!1}function L(){B(null)}function M(b){p.openConfirmDialogSimple({title:"revert",message:"revert_extra_css_warning",iconType:"warning",onClickYes:()=>{vBulletin.AJAX({call:"/ajax/api/template/revertCssTemplateSbEditor",data:{styleid:q,templateName:n},success:function(){p.alert("success","css_reverted","",v)},error_phrase:"error_saving_css"})}});return!1}function N(b){r(t,
C)}function D(b,a,d){!a&&b&&b.target&&(a=c(b.target).closest(".js-theme-selector__theme").data("preview-url"));d||(d=c(b.target).closest(".js-theme-selector__list"));b=d.closest(".js-panel").find(".js-theme-selector__theme-preview");d=b.find("> img, > p");1==b.length&&(a=a?c("<img />").prop("src",a):c("<p />").addClass("b-theme-selector__theme-preview-message").text(vBulletin.phrase.get("no_preview_available")),d.is("p")&&a.is("p")?d.fadeTo(200,"0.5",function(){c(this).fadeTo(400,1)}):(d.css("zIndex",
"2"),a.css("zIndex","1").hide(),b.append(a),d.fadeOut({duration:300,queue:!1,complete:function(){c(this).remove()}}),a.fadeIn({duration:600,queue:!1})))}function O(b,a,d){d="js-theme-selector__theme b-theme-selector__theme h-margin-right-xl";var e=c('<input type="radio" name="styleid" value="'+this.styleid+'" />').addClass("js-theme-selector__theme-radio b-theme-selector__theme-radio h-margin-none h-margin-right-s"),g=c("<label />").prop("title",this.title),f=c("<div />").addClass("h-margin-s h-margin-bottom-none b-theme-selector__theme-title").text(30<
this.title.length?this.title.substr(0,20)+" ...":this.title),h=c("<img />").addClass("h-margin-s h-margin-bottom-m").prop("src",this.iconurl),m=c("<div />").addClass("b-theme-selector__theme-thumbnail"),l=this.iconurl;(new Image).src=l;l=this.previewurl;(new Image).src=l;a==this.styleid&&(e.prop("checked",!0),D({},this.previewurl,b),d+=" b-theme-selector__theme--selected js-theme-selector__theme--selected js-vbscroller-selected-item");m.append(h);f.prepend(e);g.append(m).append(f);c("<div />").addClass(d).data("preview-url",
this.previewurl||"").append(g).appendTo(b);w.call(h.get(0),2)}function w(b){var a=c(this);a.css({maxWidth:"none",maxHeight:"none"});var d=a.outerWidth()||0,e=a.outerHeight()||0,g=d>e?"height":"width",f=!1;if(0<d&&0<e){var h=!1;if("width"==g&&100<d){var m=100/d;h=!0}else"height"==g&&100<e&&(m=100/e,h=!0);h&&(a.removeClass("h-margin-s h-margin-bottom-m").css({maxWidth:d*m,maxHeight:e*m}),d=a.parent(),e=c("<div />").addClass("b-theme-selector__image-resize-wrapper h-margin-s h-margin-bottom-m").css({width:100,
height:100,overflow:"hidden"}),e.append(a),d.append(e),f=!0)}if(!f)if(a.css({maxWidth:"100px",maxHeight:"100px"}),0<b){var l=this;window.setTimeout(function(){w.call(l,--b)},100)}else l=this,a.off("load").on("load",function(){w.call(l,--b)})}function P(b,a){var d=0,e=vBulletin.options.get("styleid");a.html("");b&&b.themes&&c.each(b.themes,function(){O.apply(this,[a,e,d]);++d});d?Q(a):c("<div />").addClass("b-theme-selector__message").text(vBulletin.phrase.get("there_are_no_themes_installed")).appendTo(a)}
function Q(b){vBulletin.vBScroller&&vBulletin.vBScroller.initializeScroller&&(b=b.closest(".js-vbscroller-wrapper"),vBulletin.vBScroller.initializeScroller(b))}function E(b){function a(e){var g=b,f=c(this).closest(".js-theme-selector__theme"),h=f.find(".js-theme-selector__theme-radio");f.is(".js-theme-selector__theme--selected")||(h.prop("checked",!0),f=c(this),f.closest(".js-theme-selector__list").find(".js-theme-selector__theme").removeClass("b-theme-selector__theme--selected js-theme-selector__theme--selected js-vbscroller-selected-item"),
f.closest(".js-theme-selector__theme").addClass("b-theme-selector__theme--selected js-theme-selector__theme--selected js-vbscroller-selected-item"),D.call(this,e),g.liveUpdate&&A.call(this,e,!1,!0))}b=c.extend({},{liveUpdate:!1,container:document},b);var d=c(".js-theme-selector__list",b.containerSelector);d.off("change",".js-theme-selector__theme-radio").on("change",".js-theme-selector__theme-radio",a);d.off("click",".js-theme-selector__theme label img").on("click",".js-theme-selector__theme label img",
a);vBulletin.AJAX({call:"/ajax/api/style/getThemeInfo",success:function(e){P.apply(this,[e,d])},error:function(){var e=c("<div />").addClass("b-theme-selector__message").text(vBulletin.phrase.get("error_fetching_themes"));d.html(e)}})}function R(b){b=c(b.target);if(b.is(".js_stylepanel_selectStyle")&&isNaN(parseFloat(b.val()))||b.is(".js_stylepanel_selectTemplate")&&""==b.val())return!1;currentText=k.getValue();t!=k.getValue()?S():v()}function F(){var b=new Date,a=c(".js_stylepanel_selectStyle").val(),
d=c(".js-sb-sprite-icon-preview-img"),e=d.attr("src");e=e.replace(/styleid=\d+/,"styleid="+a);e=e.replace(/ts=\d+/,"ts="+b.getTime());d.attr("src",e)}function T(b){var a=c(".js-sb-sprite-icon-preview");a.data("preview-initialized")||(c(".js-sb-sprite-icon-preview-bg-btn").css("background-color",function(){return c(this).data("bgcolor")}).on("click",function(){var d=c(this);c(".js-sb-sprite-icon-preview-img-wrapper").css("background-color",d.data("bgcolor"));c(".js-sb-sprite-icon-preview-bg-btn").removeClass("sb-sprite-icon-preview-bg-btn--selected");
d.addClass("sb-sprite-icon-preview-bg-btn--selected");return!1}).eq(1).trigger("click"),a.data("preview-initialized","1"));b&&"css_sprite_icons_general.css"==b?(a.removeClass("h-hide"),F()):a.addClass("h-hide")}function r(b,a){let d=c(".js_stylepanel_selectStyle"),e=c(".js_stylepanel_selectTemplate"),g=c(".js_stylepanel_selecttype");k.setValue(b);t=k.getValue();q=d.val();n=e.val();C=a;g.selectBox("value",a);g.val()!=a&&(console.log("fred",c(".js-default-compiletype"),c(".js-default-compiletype").val()),
g.selectBox("value",c(".js-default-compiletype").val()));T(n)}function v(){let b=c(".js_stylepanel_selectStyle"),a=c(".js_stylepanel_selectTemplate");if(!G){let d=x.getCookie("userstyleid");d&&b.val(d);G=!0}vBulletin.AJAX({call:"/ajax/api/template/getCssTemplateSbEditor",data:{styleid:b.val(),templateName:a.val()},success:d=>{d=d.template;r(d.template,d.compiletype)},api_error:()=>{r("","full")},error_phrase:"error_loading_css"})}function S(){p.openConfirmDialogSimple({title:"confirm_action",message:"changed_extra_css_warning",
yesPhrase:"save_and_continue",noPhrase:"cancel",iconType:"warning",onClickYes:()=>{B(v)},onClickNo:()=>{c(".js_stylepanel_selectStyle").selectBox("value",q);c(".js_stylepanel_selectTemplate").selectBox("value",n)}})}function B(b){let a=k.getValue(),d=c(".js_stylepanel_selecttype").val();vBulletin.AJAX({call:"/ajax/api/template/saveCssTemplateSbEditor",data:{text:a,styleid:q,templateName:n,compiletype:d},success:()=>{r(a,d);F();p.alert("success","css_saved","",b)},error_phrase:"error_saving_css"})}
function z(){function b(){if("undefined"==typeof k){var e=c(".sb-style-panel_cssextraedit").get(0);k=CodeMirror.fromTextArea(e,{mode:"css",lineNumbers:!0});(e=c(e).attr("dir"))&&c(k.display.wrapper).attr("dir",e);t="";a.find(".js_stylepanel_selectStyle").change();d.off("click",b);c(".js-select-box",a).selectBox()}}var a=c(".js-style-panel .js-admin-stylepanel-csseditor"),d=c(".sb-style-panel .tab-item a");d.off("click",b).on("click",b);a.is(":visible")&&b()}function J(){if(!H){c(".js-style-panel .tabs").tabs();
var b=c(document);var a=".js-style-panel #admin-stylepanel-themes .js-button--save";b.off("click",a).on("click",a,A);a=".js-style-panel #admin-stylepanel-themes .js-button--cancel";b.off("click",a).on("click",a,u.bind(null,!1));a=c("#admin-stylepanel-csseditor");a.find(".js-button--revert").offon("click",M);a.find(".js-button--cancel").offon("click",N);a.find(".js-button--close").offon("click",u.bind(null,!0));a.find(".js-button--save").offon("click",L);a.find(".js_stylepanel_selectStyle, .js_stylepanel_selectTemplate").offon("change",
R);1==c(".js-style-panel .js-theme-selector__container").length&&E({liveUpdate:!1,containerSelector:".js-style-panel"});1==c(".js-style-panel .js-admin-stylepanel-csseditor").length&&z();H=!0}}let H=!1,k,t="",q=0,n="",C="",G=!1;c(function(){c(document).on("vb-sitebuilder-panel--style",I);vBulletin.ready("sb_page_style").resolve()});return{initThemesInQuickConfig:function(){E({liveUpdate:!0,containerSelector:".js-config-site-panel"})}}}(jQuery,vBulletin,vBulletin.storagetools,vBulletin.dialogtools));
;

// ***************************
// js.compressed/jquery/datatables/js/jquery.dataTables.min.js
// ***************************
/*
 @summary     DataTables
 @description Paginate, search and sort HTML tables
 @version     1.9.1
 @file        jquery.dataTables.js
 @author      Allan Jardine (www.sprymedia.co.uk)
 @contact     www.sprymedia.co.uk/contact

 @copyright Copyright 2008-2012 Allan Jardine, all rights reserved.

 This source file is free software, under either the GPL v2 license or a
 BSD style license, available at:
   http://datatables.net/license_gpl2
   http://datatables.net/license_bsd

 This source file is distributed in the hope that it will be useful, but
 WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY
 or FITNESS FOR A PARTICULAR PURPOSE. See the license files for details.

 For details please refer to: http://www.datatables.net
*/
(function(h,R,q,p){var k=function(e){function r(a,b){var c=k.defaults.columns,d=a.aoColumns.length;b=h.extend({},k.models.oColumn,c,{sSortingClass:a.oClasses.sSortable,sSortingClassJUI:a.oClasses.sSortJUI,nTh:b?b:q.createElement("th"),sTitle:c.sTitle?c.sTitle:b?b.innerHTML:"",aDataSort:c.aDataSort?c.aDataSort:[d],mDataProp:c.mDataProp?c.oDefaults:d});a.aoColumns.push(b);a.aoPreSearchCols[d]===p||null===a.aoPreSearchCols[d]?a.aoPreSearchCols[d]=h.extend({},k.models.oSearch):(b=a.aoPreSearchCols[d],
b.bRegex===p&&(b.bRegex=!0),b.bSmart===p&&(b.bSmart=!0),b.bCaseInsensitive===p&&(b.bCaseInsensitive=!0));u(a,d,null)}function u(a,b,c){b=a.aoColumns[b];c!==p&&null!==c&&(c.sType!==p&&(b.sType=c.sType,b._bAutoType=!1),h.extend(b,c),t(b,c,"sWidth","sWidthOrig"),c.iDataSort!==p&&(b.aDataSort=[c.iDataSort]),t(b,c,"aDataSort"));b.fnGetData=Z(b.mDataProp);b.fnSetData=ya(b.mDataProp);a.oFeatures.bSort||(b.bSortable=!1);!b.bSortable||-1==h.inArray("asc",b.asSorting)&&-1==h.inArray("desc",b.asSorting)?(b.sSortingClass=
a.oClasses.sSortableNone,b.sSortingClassJUI=""):b.bSortable||-1==h.inArray("asc",b.asSorting)&&-1==h.inArray("desc",b.asSorting)?(b.sSortingClass=a.oClasses.sSortable,b.sSortingClassJUI=a.oClasses.sSortJUI):-1!=h.inArray("asc",b.asSorting)&&-1==h.inArray("desc",b.asSorting)?(b.sSortingClass=a.oClasses.sSortableAsc,b.sSortingClassJUI=a.oClasses.sSortJUIAscAllowed):-1==h.inArray("asc",b.asSorting)&&-1!=h.inArray("desc",b.asSorting)&&(b.sSortingClass=a.oClasses.sSortableDesc,b.sSortingClassJUI=a.oClasses.sSortJUIDescAllowed)}
function m(a){if(!1===a.oFeatures.bAutoWidth)return!1;fa(a);for(var b=0,c=a.aoColumns.length;b<c;b++)a.aoColumns[b].nTh.style.width=a.aoColumns[b].sWidth}function K(a,b){for(var c=-1,d=0;d<a.aoColumns.length;d++)if(!0===a.aoColumns[d].bVisible&&c++,c==b)return d;return null}function G(a,b){for(var c=-1,d=0;d<a.aoColumns.length;d++)if(!0===a.aoColumns[d].bVisible&&c++,d==b)return!0===a.aoColumns[d].bVisible?c:null;return null}function H(a){for(var b=0,c=0;c<a.aoColumns.length;c++)!0===a.aoColumns[c].bVisible&&
b++;return b}function B(a){for(var b=k.ext.aTypes,c=b.length,d=0;d<c;d++){var g=b[d](a);if(null!==g)return g}return"string"}function F(a,b){b=b.split(",");for(var c=[],d=0,g=a.aoColumns.length;d<g;d++)for(var f=0;f<g;f++)if(a.aoColumns[d].sName==b[f]){c.push(f);break}return c}function L(a){for(var b="",c=0,d=a.aoColumns.length;c<d;c++)b+=a.aoColumns[c].sName+",";return b.length==d?"":b.slice(0,-1)}function za(a,b,c,d){var g,f,e;if(b)for(g=b.length-1;0<=g;g--){var l=b[g].aTargets;h.isArray(l)||I(a,
1,"aTargets must be an array of targets, not a "+typeof l);var n=0;for(f=l.length;n<f;n++)if("number"===typeof l[n]&&0<=l[n]){for(;a.aoColumns.length<=l[n];)r(a);d(l[n],b[g])}else if("number"===typeof l[n]&&0>l[n])d(a.aoColumns.length+l[n],b[g]);else if("string"===typeof l[n]){var k=0;for(e=a.aoColumns.length;k<e;k++)("_all"==l[n]||h(a.aoColumns[k].nTh).hasClass(l[n]))&&d(k,b[g])}}if(c)for(g=0,a=c.length;g<a;g++)d(g,c[g])}function y(a,b){var c=h.isArray(b)?b.slice():h.extend(!0,{},b);b=a.aoData.length;
var d=h.extend(!0,{},k.models.oRow);d._aData=c;a.aoData.push(d);d=0;for(var g=a.aoColumns.length;d<g;d++)if(c=a.aoColumns[d],"function"===typeof c.fnRender&&c.bUseRendered&&null!==c.mDataProp?M(a,b,d,V(a,b,d)):M(a,b,d,z(a,b,d)),c._bAutoType&&"string"!=c.sType){var f=z(a,b,d,"type");null!==f&&""!==f&&(f=B(f),null===c.sType?c.sType=f:c.sType!=f&&"html"!=c.sType&&(c.sType="string"))}a.aiDisplayMaster.push(b);a.oFeatures.bDeferRender||ha(a,b);return b}function Aa(a){var b,c,d;if(a.bDeferLoading||null===
a.sAjaxSource){var g=a.nTBody.childNodes;var f=0;for(b=g.length;f<b;f++)if("TR"==g[f].nodeName.toUpperCase()){var e=a.aoData.length;g[f]._DT_RowIndex=e;a.aoData.push(h.extend(!0,{},k.models.oRow,{nTr:g[f]}));a.aiDisplayMaster.push(e);var l=g[f].childNodes;var n=d=0;for(c=l.length;n<c;n++){var w=l[n].nodeName.toUpperCase();if("TD"==w||"TH"==w)M(a,e,d,h.trim(l[n].innerHTML)),d++}}}g=W(a);l=[];f=0;for(b=g.length;f<b;f++)for(n=0,c=g[f].childNodes.length;n<c;n++)d=g[f].childNodes[n],w=d.nodeName.toUpperCase(),
"TD"!=w&&"TH"!=w||l.push(d);c=0;for(g=a.aoColumns.length;c<g;c++){w=a.aoColumns[c];null===w.sTitle&&(w.sTitle=w.nTh.innerHTML);d=w._bAutoType;e="function"===typeof w.fnRender;var r=null!==w.sClass,m=w.bVisible;if(d||e||r||!m)for(f=0,b=a.aoData.length;f<b;f++){n=a.aoData[f];var u=l[f*g+c];if(d&&"string"!=w.sType){var p=z(a,f,c,"type");""!==p&&(p=B(p),null===w.sType?w.sType=p:w.sType!=p&&"html"!=w.sType&&(w.sType="string"))}"function"===typeof w.mDataProp&&(u.innerHTML=z(a,f,c,"display"));e&&(p=V(a,
f,c),u.innerHTML=p,w.bUseRendered&&M(a,f,c,p));r&&(u.className+=" "+w.sClass);m?n._anHidden[c]=null:(n._anHidden[c]=u,u.parentNode.removeChild(u));w.fnCreatedCell&&w.fnCreatedCell.call(a.oInstance,u,z(a,f,c,"display"),n._aData,f,c)}}if(0!==a.aoRowCreatedCallback.length)for(f=0,b=a.aoData.length;f<b;f++)n=a.aoData[f],E(a,"aoRowCreatedCallback",null,[n.nTr,n._aData,f])}function N(a,b){return b._DT_RowIndex!==p?b._DT_RowIndex:null}function ia(a,b,c){b=O(a,b);var d=0;for(a=a.aoColumns.length;d<a;d++)if(b[d]===
c)return d;return-1}function aa(a,b,c){for(var d=[],g=0,f=a.aoColumns.length;g<f;g++)d.push(z(a,b,g,c));return d}function z(a,b,c,d){var g=a.aoColumns[c];if((c=g.fnGetData(a.aoData[b]._aData,d))===p)return a.iDrawError!=a.iDraw&&null===g.sDefaultContent&&(I(a,0,"Requested unknown parameter "+("function"==typeof g.mDataProp?"{mDataprop function}":"'"+g.mDataProp+"'")+" from the data source for row "+b),a.iDrawError=a.iDraw),g.sDefaultContent;if(null===c&&null!==g.sDefaultContent)c=g.sDefaultContent;
else if("function"===typeof c)return c();return"display"==d&&null===c?"":c}function M(a,b,c,d){a.aoColumns[c].fnSetData(a.aoData[b]._aData,d)}function Z(a){if(null===a)return function(a,b){return null};if("function"===typeof a)return function(b,d){return a(b,d)};if("string"===typeof a&&-1!=a.indexOf(".")){var b=a.split(".");return function(a,d){d=0;for(var c=b.length;d<c;d++)if(a=a[b[d]],a===p)return p;return a}}return function(b,d){return b[a]}}function ya(a){if(null===a)return function(a,b){};if("function"===
typeof a)return function(b,d){a(b,"set",d)};if("string"===typeof a&&-1!=a.indexOf(".")){var b=a.split(".");return function(a,d){for(var c=0,f=b.length-1;c<f;c++)if(a=a[b[c]],a===p)return;a[b[b.length-1]]=d}}return function(b,d){b[a]=d}}function ba(a){for(var b=[],c=a.aoData.length,d=0;d<c;d++)b.push(a.aoData[d]._aData);return b}function ja(a){a.aoData.splice(0,a.aoData.length);a.aiDisplayMaster.splice(0,a.aiDisplayMaster.length);a.aiDisplay.splice(0,a.aiDisplay.length);C(a)}function ka(a,b){for(var c=
-1,d=0,g=a.length;d<g;d++)a[d]==b?c=d:a[d]>b&&a[d]--; -1!=c&&a.splice(c,1)}function V(a,b,c){var d=a.aoColumns[c];return d.fnRender({iDataRow:b,iDataColumn:c,oSettings:a,aData:a.aoData[b]._aData,mDataProp:d.mDataProp},z(a,b,c,"display"))}function ha(a,b){var c=a.aoData[b];if(null===c.nTr){c.nTr=q.createElement("tr");c.nTr._DT_RowIndex=b;c._aData.DT_RowId&&(c.nTr.id=c._aData.DT_RowId);c._aData.DT_RowClass&&h(c.nTr).addClass(c._aData.DT_RowClass);for(var d=0,g=a.aoColumns.length;d<g;d++){var f=a.aoColumns[d];
var e=q.createElement(f.sCellType);e.innerHTML="function"!==typeof f.fnRender||f.bUseRendered&&null!==f.mDataProp?z(a,b,d,"display"):V(a,b,d);null!==f.sClass&&(e.className=f.sClass);f.bVisible?(c.nTr.appendChild(e),c._anHidden[d]=null):c._anHidden[d]=e;f.fnCreatedCell&&f.fnCreatedCell.call(a.oInstance,e,z(a,b,d,"display"),c._aData,b,d)}E(a,"aoRowCreatedCallback",null,[c.nTr,c._aData,b])}}function Ba(a){var b;if(0!==a.nTHead.getElementsByTagName("th").length){var c=0;for(b=a.aoColumns.length;c<b;c++){var d=
a.aoColumns[c].nTh;d.setAttribute("role","columnheader");a.aoColumns[c].bSortable&&(d.setAttribute("tabindex",a.iTabIndex),d.setAttribute("aria-controls",a.sTableId));null!==a.aoColumns[c].sClass&&h(d).addClass(a.aoColumns[c].sClass);a.aoColumns[c].sTitle!=d.innerHTML&&(d.innerHTML=a.aoColumns[c].sTitle)}}else{var g=q.createElement("tr");c=0;for(b=a.aoColumns.length;c<b;c++)d=a.aoColumns[c].nTh,d.innerHTML=a.aoColumns[c].sTitle,d.setAttribute("tabindex","0"),null!==a.aoColumns[c].sClass&&h(d).addClass(a.aoColumns[c].sClass),
g.appendChild(d);h(a.nTHead).html("")[0].appendChild(g);X(a.aoHeader,a.nTHead)}h(a.nTHead).children("tr").attr("role","row");if(a.bJUI)for(c=0,b=a.aoColumns.length;c<b;c++){d=a.aoColumns[c].nTh;g=q.createElement("div");g.className=a.oClasses.sSortJUIWrapper;h(d).contents().appendTo(g);var f=q.createElement("span");f.className=a.oClasses.sSortIcon;g.appendChild(f);d.appendChild(g)}if(a.oFeatures.bSort)for(c=0;c<a.aoColumns.length;c++)!1!==a.aoColumns[c].bSortable?la(a,a.aoColumns[c].nTh,c):h(a.aoColumns[c].nTh).addClass(a.oClasses.sSortableNone);
""!==a.oClasses.sFooterTH&&h(a.nTFoot).children("tr").children("th").addClass(a.oClasses.sFooterTH);if(null!==a.nTFoot)for(d=S(a,null,a.aoFooter),c=0,b=a.aoColumns.length;c<b;c++)d[c]&&(a.aoColumns[c].nTf=d[c],a.aoColumns[c].sClass&&h(d[c]).addClass(a.aoColumns[c].sClass))}function Y(a,b,c){var d,g,f=[],e=[],h=a.aoColumns.length;c===p&&(c=!1);var n=0;for(d=b.length;n<d;n++){f[n]=b[n].slice();f[n].nTr=b[n].nTr;for(g=h-1;0<=g;g--)a.aoColumns[g].bVisible||c||f[n].splice(g,1);e.push([])}n=0;for(d=f.length;n<
d;n++){if(a=f[n].nTr)for(;g=a.firstChild;)a.removeChild(g);g=0;for(b=f[n].length;g<b;g++){var k=h=1;if(e[n][g]===p){a.appendChild(f[n][g].cell);for(e[n][g]=1;f[n+h]!==p&&f[n][g].cell==f[n+h][g].cell;)e[n+h][g]=1,h++;for(;f[n][g+k]!==p&&f[n][g].cell==f[n][g+k].cell;){for(c=0;c<h;c++)e[n+c][g+k]=1;k++}f[n][g].cell.rowSpan=h;f[n][g].cell.colSpan=k}}}}function A(a){var b=[],c=0,d=a.asStripeClasses.length;var g=a.aoOpenRows.length;var f=E(a,"aoPreDrawCallback","preDraw",[a]);if(-1!==h.inArray(!1,f))J(a,
!1);else{a.bDrawing=!0;a.iInitDisplayStart!==p&&-1!=a.iInitDisplayStart&&(a._iDisplayStart=a.oFeatures.bServerSide?a.iInitDisplayStart:a.iInitDisplayStart>=a.fnRecordsDisplay()?0:a.iInitDisplayStart,a.iInitDisplayStart=-1,C(a));if(a.bDeferLoading)a.bDeferLoading=!1,a.iDraw++;else if(!a.oFeatures.bServerSide)a.iDraw++;else if(!a.bDestroying&&!Ca(a))return;if(0!==a.aiDisplay.length){var e=a._iDisplayStart;f=a._iDisplayEnd;a.oFeatures.bServerSide&&(e=0,f=a.aoData.length);for(;e<f;e++){var l=a.aoData[a.aiDisplay[e]];
null===l.nTr&&ha(a,a.aiDisplay[e]);var n=l.nTr;if(0!==d){var k=a.asStripeClasses[c%d];l._sRowStripe!=k&&(h(n).removeClass(l._sRowStripe).addClass(k),l._sRowStripe=k)}E(a,"aoRowCallback",null,[n,a.aoData[a.aiDisplay[e]]._aData,c,e]);b.push(n);c++;if(0!==g)for(l=0;l<g;l++)if(n==a.aoOpenRows[l].nParent){b.push(a.aoOpenRows[l].nTr);break}}}else b[0]=q.createElement("tr"),a.asStripeClasses[0]&&(b[0].className=a.asStripeClasses[0]),g=a.oLanguage,d=g.sZeroRecords,1!=a.iDraw||null===a.sAjaxSource||a.oFeatures.bServerSide?
g.sEmptyTable&&0===a.fnRecordsTotal()&&(d=g.sEmptyTable):d=g.sLoadingRecords,g=q.createElement("td"),g.setAttribute("valign","top"),g.colSpan=H(a),g.className=a.oClasses.sRowEmpty,g.innerHTML=ma(a,d),b[c].appendChild(g);E(a,"aoHeaderCallback","header",[h(a.nTHead).children("tr")[0],ba(a),a._iDisplayStart,a.fnDisplayEnd(),a.aiDisplay]);E(a,"aoFooterCallback","footer",[h(a.nTFoot).children("tr")[0],ba(a),a._iDisplayStart,a.fnDisplayEnd(),a.aiDisplay]);c=q.createDocumentFragment();g=q.createDocumentFragment();
if(a.nTBody){d=a.nTBody.parentNode;g.appendChild(a.nTBody);if(!a.oScroll.bInfinite||!a._bInitComplete||a.bSorted||a.bFiltered)for(;g=a.nTBody.firstChild;)a.nTBody.removeChild(g);g=0;for(f=b.length;g<f;g++)c.appendChild(b[g]);a.nTBody.appendChild(c);null!==d&&d.appendChild(a.nTBody)}E(a,"aoDrawCallback","draw",[a]);a.bSorted=!1;a.bFiltered=!1;a.bDrawing=!1;a.oFeatures.bServerSide&&(J(a,!1),a._bInitComplete||ca(a))}}function da(a){a.oFeatures.bSort?T(a,a.oPreviousSearch):a.oFeatures.bFilter?P(a,a.oPreviousSearch):
(C(a),A(a))}function Da(a){var b=h("<div></div>")[0];a.nTable.parentNode.insertBefore(b,a.nTable);a.nTableWrapper=h('<div id="'+a.sTableId+'_wrapper" class="'+a.oClasses.sWrapper+'" role="grid"></div>')[0];a.nTableReinsertBefore=a.nTable.nextSibling;for(var c=a.nTableWrapper,d=a.sDom.split(""),g,f,e,l,n,w,r,m=0;m<d.length;m++){f=0;e=d[m];if("<"==e){l=h("<div></div>")[0];n=d[m+1];if("'"==n||'"'==n){w="";for(r=2;d[m+r]!=n;)w+=d[m+r],r++;"H"==w?w="fg-toolbar ui-toolbar ui-widget-header ui-corner-tl ui-corner-tr ui-helper-clearfix":
"F"==w&&(w="fg-toolbar ui-toolbar ui-widget-header ui-corner-bl ui-corner-br ui-helper-clearfix");-1!=w.indexOf(".")?(n=w.split("."),l.id=n[0].substr(1,n[0].length-1),l.className=n[1]):"#"==w.charAt(0)?l.id=w.substr(1,w.length-1):l.className=w;m+=r}c.appendChild(l);c=l}else if(">"==e)c=c.parentNode;else if("l"==e&&a.oFeatures.bPaginate&&a.oFeatures.bLengthChange)g=Ea(a),f=1;else if("f"==e&&a.oFeatures.bFilter)g=Fa(a),f=1;else if("r"==e&&a.oFeatures.bProcessing)g=Ga(a),f=1;else if("t"==e)g=Ha(a),f=
1;else if("i"==e&&a.oFeatures.bInfo)g=Ia(a),f=1;else if("p"==e&&a.oFeatures.bPaginate)g=Ja(a),f=1;else if(0!==k.ext.aoFeatures.length)for(l=k.ext.aoFeatures,r=0,n=l.length;r<n;r++)if(e==l[r].cFeature){(g=l[r].fnInit(a))&&(f=1);break}1==f&&null!==g&&("object"!==typeof a.aanFeatures[e]&&(a.aanFeatures[e]=[]),a.aanFeatures[e].push(g),c.appendChild(g))}b.parentNode.replaceChild(a.nTableWrapper,b)}function X(a,b){b=h(b).children("tr");var c,d,g,f;a.splice(0,a.length);var e=0;for(g=b.length;e<g;e++)a.push([]);
e=0;for(g=b.length;e<g;e++){var l=0;for(f=b[e].childNodes.length;l<f;l++){var n=b[e].childNodes[l];if("TD"==n.nodeName.toUpperCase()||"TH"==n.nodeName.toUpperCase()){var k=1*n.getAttribute("colspan"),r=1*n.getAttribute("rowspan");k=k&&0!==k&&1!==k?k:1;r=r&&0!==r&&1!==r?r:1;for(c=0;a[e][c];)c++;var m=c;for(d=0;d<k;d++)for(c=0;c<r;c++)a[e+c][m+d]={cell:n,unique:1==k?!0:!1},a[e+c].nTr=b[e]}}}}function S(a,b,c){var d=[];c||(c=a.aoHeader,b&&(c=[],X(c,b)));b=0;for(var g=c.length;b<g;b++)for(var f=0,e=c[b].length;f<
e;f++)!c[b][f].unique||d[f]&&a.bSortCellsTop||(d[f]=c[b][f].cell);return d}function Ca(a){if(a.bAjaxDataGet){a.iDraw++;J(a,!0);var b=Ka(a);na(a,b);a.fnServerData.call(a.oInstance,a.sAjaxSource,b,function(b){La(a,b)},a);return!1}return!0}function Ka(a){var b=a.aoColumns.length,c=[],d,g;c.push({name:"sEcho",value:a.iDraw});c.push({name:"iColumns",value:b});c.push({name:"sColumns",value:L(a)});c.push({name:"iDisplayStart",value:a._iDisplayStart});c.push({name:"iDisplayLength",value:!1!==a.oFeatures.bPaginate?
a._iDisplayLength:-1});for(d=0;d<b;d++){var f=a.aoColumns[d].mDataProp;c.push({name:"mDataProp_"+d,value:"function"===typeof f?"function":f})}if(!1!==a.oFeatures.bFilter)for(c.push({name:"sSearch",value:a.oPreviousSearch.sSearch}),c.push({name:"bRegex",value:a.oPreviousSearch.bRegex}),d=0;d<b;d++)c.push({name:"sSearch_"+d,value:a.aoPreSearchCols[d].sSearch}),c.push({name:"bRegex_"+d,value:a.aoPreSearchCols[d].bRegex}),c.push({name:"bSearchable_"+d,value:a.aoColumns[d].bSearchable});if(!1!==a.oFeatures.bSort){var e=
0;f=null!==a.aaSortingFixed?a.aaSortingFixed.concat(a.aaSorting):a.aaSorting.slice();for(d=0;d<f.length;d++){var h=a.aoColumns[f[d][0]].aDataSort;for(g=0;g<h.length;g++)c.push({name:"iSortCol_"+e,value:h[g]}),c.push({name:"sSortDir_"+e,value:f[d][1]}),e++}c.push({name:"iSortingCols",value:e});for(d=0;d<b;d++)c.push({name:"bSortable_"+d,value:a.aoColumns[d].bSortable})}return c}function na(a,b){E(a,"aoServerParams","serverParams",[b])}function La(a,b){if(b.sEcho!==p){if(1*b.sEcho<a.iDraw)return;a.iDraw=
1*b.sEcho}(!a.oScroll.bInfinite||a.oScroll.bInfinite&&(a.bSorted||a.bFiltered))&&ja(a);a._iRecordsTotal=parseInt(b.iTotalRecords,10);a._iRecordsDisplay=parseInt(b.iTotalDisplayRecords,10);var c=L(a);c=b.sColumns!==p&&""!==c&&b.sColumns!=c;var d;c&&(d=F(a,b.sColumns));b=Z(a.sAjaxDataProp)(b);for(var g=0,f=b.length;g<f;g++)if(c){for(var e=[],h=0,n=a.aoColumns.length;h<n;h++)e.push(b[g][d[h]]);y(a,e)}else y(a,b[g]);a.aiDisplay=a.aiDisplayMaster.slice();a.bAjaxDataGet=!1;A(a);a.bAjaxDataGet=!0;J(a,!1)}
function Fa(a){var b=a.oPreviousSearch,c=a.oLanguage.sSearch;c=-1!==c.indexOf("_INPUT_")?c.replace("_INPUT_",'<input type="text" />'):""===c?'<input type="text" />':c+' <input type="text" />';var d=q.createElement("div");d.className=a.oClasses.sFilter;d.innerHTML="<label>"+c+"</label>";a.aanFeatures.f||(d.id=a.sTableId+"_filter");c=h('input[type="text"]',d);d._DT_Input=c[0];c.val(b.sSearch.replace('"',"&quot;"));c.bind("keyup.DT",function(c){c=a.aanFeatures.f;for(var d=""===this.value?"":this.value,
g=0,e=c.length;g<e;g++)c[g]!=h(this).parents("div.dataTables_filter")[0]&&h(c[g]._DT_Input).val(d);d!=b.sSearch&&P(a,{sSearch:d,bRegex:b.bRegex,bSmart:b.bSmart,bCaseInsensitive:b.bCaseInsensitive})});c.attr("aria-controls",a.sTableId).bind("keypress.DT",function(a){if(13==a.keyCode)return!1});return d}function P(a,b,c){var d=a.oPreviousSearch,g=a.aoPreSearchCols,f=function(a){d.sSearch=a.sSearch;d.bRegex=a.bRegex;d.bSmart=a.bSmart;d.bCaseInsensitive=a.bCaseInsensitive};if(a.oFeatures.bServerSide)f(b);
else{Ma(a,b.sSearch,c,b.bRegex,b.bSmart,b.bCaseInsensitive);f(b);for(b=0;b<a.aoPreSearchCols.length;b++)Na(a,g[b].sSearch,b,g[b].bRegex,g[b].bSmart,g[b].bCaseInsensitive);Oa(a)}a.bFiltered=!0;h(a.oInstance).trigger("filter",a);a._iDisplayStart=0;C(a);A(a);oa(a,0)}function Oa(a){for(var b=k.ext.afnFiltering,c=0,d=b.length;c<d;c++)for(var g=0,f=0,e=a.aiDisplay.length;f<e;f++){var h=a.aiDisplay[f-g];b[c](a,aa(a,h,"filter"),h)||(a.aiDisplay.splice(f-g,1),g++)}}function Na(a,b,c,d,g,f){if(""!==b){var e=
0;b=pa(b,d,g,f);for(d=a.aiDisplay.length-1;0<=d;d--)g=qa(z(a,a.aiDisplay[d],c,"filter"),a.aoColumns[c].sType),b.test(g)||(a.aiDisplay.splice(d,1),e++)}}function Ma(a,b,c,d,g,f){d=pa(b,d,g,f);g=a.oPreviousSearch;c||(c=0);0!==k.ext.afnFiltering.length&&(c=1);if(0>=b.length)a.aiDisplay.splice(0,a.aiDisplay.length),a.aiDisplay=a.aiDisplayMaster.slice();else if(a.aiDisplay.length==a.aiDisplayMaster.length||g.sSearch.length>b.length||1==c||0!==b.indexOf(g.sSearch))for(a.aiDisplay.splice(0,a.aiDisplay.length),
oa(a,1),b=0;b<a.aiDisplayMaster.length;b++)d.test(a.asDataSearch[b])&&a.aiDisplay.push(a.aiDisplayMaster[b]);else for(b=c=0;b<a.asDataSearch.length;b++)d.test(a.asDataSearch[b])||(a.aiDisplay.splice(b-c,1),c++)}function oa(a,b){if(!a.oFeatures.bServerSide){a.asDataSearch.splice(0,a.asDataSearch.length);b=b&&1===b?a.aiDisplayMaster:a.aiDisplay;for(var c=0,d=b.length;c<d;c++)a.asDataSearch[c]=ra(a,aa(a,b[c],"filter"))}}function ra(a,b){var c="";a.__nTmpFilter===p&&(a.__nTmpFilter=q.createElement("div"));
for(var d=a.__nTmpFilter,g=0,f=a.aoColumns.length;g<f;g++)a.aoColumns[g].bSearchable&&(c+=qa(b[g],a.aoColumns[g].sType)+"  ");-1!==c.indexOf("&")&&(d.innerHTML=c,c=d.textContent?d.textContent:d.innerText,c=c.replace(/\n/g," ").replace(/\r/g,""));return c}function pa(a,b,c,d){if(c)return a=b?a.split(" "):sa(a).split(" "),a="^(?=.*?"+a.join(")(?=.*?")+").*$",new RegExp(a,d?"i":"");a=b?a:sa(a);return new RegExp(a,d?"i":"")}function qa(a,b){return"function"===typeof k.ext.ofnSearch[b]?k.ext.ofnSearch[b](a):
null===a?"":"html"==b?a.replace(/[\r\n]/g," ").replace(/<.*?>/g,""):"string"===typeof a?a.replace(/[\r\n]/g," "):a}function sa(a){return a.replace(/(\/|\.|\*|\+|\?|\||\(|\)|\[|\]|\{|\}|\\|\$|\^)/g,"\\$1")}function Ia(a){var b=q.createElement("div");b.className=a.oClasses.sInfo;a.aanFeatures.i||(a.aoDrawCallback.push({fn:Pa,sName:"information"}),b.id=a.sTableId+"_info");a.nTable.setAttribute("aria-describedby",a.sTableId+"_info");return b}function Pa(a){if(a.oFeatures.bInfo&&0!==a.aanFeatures.i.length){var b=
a.oLanguage,c=a._iDisplayStart+1,d=a.fnDisplayEnd(),g=a.fnRecordsTotal(),f=a.fnRecordsDisplay();var e=0===f&&f==g?b.sInfoEmpty:0===f?b.sInfoEmpty+" "+b.sInfoFiltered:f==g?b.sInfo:b.sInfo+" "+b.sInfoFiltered;e+=b.sInfoPostFix;e=ma(a,e);null!==b.fnInfoCallback&&(e=b.fnInfoCallback.call(a.oInstance,a,c,d,g,f,e));a=a.aanFeatures.i;b=0;for(c=a.length;b<c;b++)h(a[b]).html(e)}}function ma(a,b){var c=a.fnFormatNumber(a._iDisplayStart+1),d=a.fnDisplayEnd();d=a.fnFormatNumber(d);var g=a.fnRecordsDisplay();
g=a.fnFormatNumber(g);var f=a.fnRecordsTotal();f=a.fnFormatNumber(f);a.oScroll.bInfinite&&(c=a.fnFormatNumber(1));return b.replace("_START_",c).replace("_END_",d).replace("_TOTAL_",g).replace("_MAX_",f)}function ea(a){var b,c=a.iInitDisplayStart;if(!1===a.bInitialised)setTimeout(function(){ea(a)},200);else{Da(a);Ba(a);Y(a,a.aoHeader);a.nTFoot&&Y(a,a.aoFooter);J(a,!0);a.oFeatures.bAutoWidth&&fa(a);var d=0;for(b=a.aoColumns.length;d<b;d++)null!==a.aoColumns[d].sWidth&&(a.aoColumns[d].nTh.style.width=
v(a.aoColumns[d].sWidth));a.oFeatures.bSort?T(a):a.oFeatures.bFilter?P(a,a.oPreviousSearch):(a.aiDisplay=a.aiDisplayMaster.slice(),C(a),A(a));null===a.sAjaxSource||a.oFeatures.bServerSide?a.oFeatures.bServerSide||(J(a,!1),ca(a)):(b=[],na(a,b),a.fnServerData.call(a.oInstance,a.sAjaxSource,b,function(b){var f=""!==a.sAjaxDataProp?Z(a.sAjaxDataProp)(b):b;for(d=0;d<f.length;d++)y(a,f[d]);a.iInitDisplayStart=c;a.oFeatures.bSort?T(a):(a.aiDisplay=a.aiDisplayMaster.slice(),C(a),A(a));J(a,!1);ca(a,b)},a))}}
function ca(a,b){a._bInitComplete=!0;E(a,"aoInitComplete","init",[a,b])}function ta(a){var b=k.defaults.oLanguage;!a.sEmptyTable&&a.sZeroRecords&&"No data available in table"===b.sEmptyTable&&t(a,a,"sZeroRecords","sEmptyTable");!a.sLoadingRecords&&a.sZeroRecords&&"Loading..."===b.sLoadingRecords&&t(a,a,"sZeroRecords","sLoadingRecords")}function Ea(a){if(a.oScroll.bInfinite)return null;var b='<select size="1" name="'+(a.sTableId+'_length">'),c,d=a.aLengthMenu;if(2==d.length&&"object"===typeof d[0]&&
"object"===typeof d[1]){var g=0;for(c=d[0].length;g<c;g++)b+='<option value="'+d[0][g]+'">'+d[1][g]+"</option>"}else for(g=0,c=d.length;g<c;g++)b+='<option value="'+d[g]+'">'+d[g]+"</option>";b+="</select>";d=q.createElement("div");a.aanFeatures.l||(d.id=a.sTableId+"_length");d.className=a.oClasses.sLength;d.innerHTML="<label>"+a.oLanguage.sLengthMenu.replace("_MENU_",b)+"</label>";h('select option[value="'+a._iDisplayLength+'"]',d).prop("selected",!0);h("select",d).bind("change.DT",function(b){b=
h(this).val();var d=a.aanFeatures.l;g=0;for(c=d.length;g<c;g++)d[g]!=this.parentNode&&h("select",d[g]).val(b);a._iDisplayLength=parseInt(b,10);C(a);a.fnDisplayEnd()==a.fnRecordsDisplay()&&(a._iDisplayStart=a.fnDisplayEnd()-a._iDisplayLength,0>a._iDisplayStart&&(a._iDisplayStart=0));-1==a._iDisplayLength&&(a._iDisplayStart=0);A(a)});h("select",d).attr("aria-controls",a.sTableId);return d}function C(a){a._iDisplayEnd=!1===a.oFeatures.bPaginate?a.aiDisplay.length:a._iDisplayStart+a._iDisplayLength>a.aiDisplay.length||
-1==a._iDisplayLength?a.aiDisplay.length:a._iDisplayStart+a._iDisplayLength}function Ja(a){if(a.oScroll.bInfinite)return null;var b=q.createElement("div");b.className=a.oClasses.sPaging+a.sPaginationType;k.ext.oPagination[a.sPaginationType].fnInit(a,b,function(a){C(a);A(a)});a.aanFeatures.p||a.aoDrawCallback.push({fn:function(a){k.ext.oPagination[a.sPaginationType].fnUpdate(a,function(a){C(a);A(a)})},sName:"pagination"});return b}function ua(a,b){var c=a._iDisplayStart;"number"===typeof b?(a._iDisplayStart=
b*a._iDisplayLength,a._iDisplayStart>a.fnRecordsDisplay()&&(a._iDisplayStart=0)):"first"==b?a._iDisplayStart=0:"previous"==b?(a._iDisplayStart=0<=a._iDisplayLength?a._iDisplayStart-a._iDisplayLength:0,0>a._iDisplayStart&&(a._iDisplayStart=0)):"next"==b?0<=a._iDisplayLength?a._iDisplayStart+a._iDisplayLength<a.fnRecordsDisplay()&&(a._iDisplayStart+=a._iDisplayLength):a._iDisplayStart=0:"last"==b?0<=a._iDisplayLength?(b=parseInt((a.fnRecordsDisplay()-1)/a._iDisplayLength,10)+1,a._iDisplayStart=(b-1)*
a._iDisplayLength):a._iDisplayStart=0:I(a,0,"Unknown paging action: "+b);h(a.oInstance).trigger("page",a);return c!=a._iDisplayStart}function Ga(a){var b=q.createElement("div");a.aanFeatures.r||(b.id=a.sTableId+"_processing");b.innerHTML=a.oLanguage.sProcessing;b.className=a.oClasses.sProcessing;a.nTable.parentNode.insertBefore(b,a.nTable);return b}function J(a,b){if(a.oFeatures.bProcessing)for(var c=a.aanFeatures.r,d=0,g=c.length;d<g;d++)c[d].style.visibility=b?"visible":"hidden";h(a.oInstance).trigger("processing",
[a,b])}function Ha(a){if(""===a.oScroll.sX&&""===a.oScroll.sY)return a.nTable;var b=q.createElement("div"),c=q.createElement("div"),d=q.createElement("div"),g=q.createElement("div"),f=q.createElement("div"),e=q.createElement("div"),l=a.nTable.cloneNode(!1),n=a.nTable.cloneNode(!1),k=a.nTable.getElementsByTagName("thead")[0],r=0===a.nTable.getElementsByTagName("tfoot").length?null:a.nTable.getElementsByTagName("tfoot")[0],m=a.oClasses;c.appendChild(d);f.appendChild(e);g.appendChild(a.nTable);b.appendChild(c);
b.appendChild(g);d.appendChild(l);l.appendChild(k);null!==r&&(b.appendChild(f),e.appendChild(n),n.appendChild(r));b.className=m.sScrollWrapper;c.className=m.sScrollHead;d.className=m.sScrollHeadInner;g.className=m.sScrollBody;f.className=m.sScrollFoot;e.className=m.sScrollFootInner;a.oScroll.bAutoCss&&(c.style.overflow="hidden",c.style.position="relative",f.style.overflow="hidden",g.style.overflow="auto");c.style.border="0";c.style.width="100%";f.style.border="0";d.style.width=""!==a.oScroll.sXInner?
a.oScroll.sXInner:"100%";l.removeAttribute("id");l.style.marginLeft="0";a.nTable.style.marginLeft="0";null!==r&&(n.removeAttribute("id"),n.style.marginLeft="0");d=h(a.nTable).children("caption");0<d.length&&(d=d[0],"top"===d._captionSide?l.appendChild(d):"bottom"===d._captionSide&&r&&n.appendChild(d));""!==a.oScroll.sX&&(c.style.width=v(a.oScroll.sX),g.style.width=v(a.oScroll.sX),null!==r&&(f.style.width=v(a.oScroll.sX)),h(g).scroll(function(a){c.scrollLeft=this.scrollLeft;null!==r&&(f.scrollLeft=
this.scrollLeft)}));""!==a.oScroll.sY&&(g.style.height=v(a.oScroll.sY));a.aoDrawCallback.push({fn:Qa,sName:"scrolling"});a.oScroll.bInfinite&&h(g).scroll(function(){!a.bDrawing&&0!==h(this).scrollTop()&&h(this).scrollTop()+h(this).height()>h(a.nTable).height()-a.oScroll.iLoadGap&&a.fnDisplayEnd()<a.fnRecordsDisplay()&&(ua(a,"next"),C(a),A(a))});a.nScrollHead=c;a.nScrollFoot=f;return b}function Qa(a){var b=a.nScrollHead.getElementsByTagName("div")[0],c=b.getElementsByTagName("table")[0],d=a.nTable.parentNode,
g,f,e,l=[],n=null!==a.nTFoot?a.nScrollFoot.getElementsByTagName("div")[0]:null,k=null!==a.nTFoot?n.getElementsByTagName("table")[0]:null;h(a.nTable).children("thead, tfoot").remove();var r=h(a.nTHead).clone()[0];a.nTable.insertBefore(r,a.nTable.childNodes[0]);if(null!==a.nTFoot){var m=h(a.nTFoot).clone()[0];a.nTable.insertBefore(m,a.nTable.childNodes[1])}""===a.oScroll.sX&&(d.style.width="100%",b.parentNode.style.width="100%");var u=S(a,r);var p=0;for(g=u.length;p<g;p++){var t=K(a,p);u[p].style.width=
a.aoColumns[t].sWidth}null!==a.nTFoot&&Q(function(a){a.style.width=""},m.getElementsByTagName("tr"));a.oScroll.bCollapse&&""!==a.oScroll.sY&&(d.style.height=d.offsetHeight+a.nTHead.offsetHeight+"px");p=h(a.nTable).outerWidth();""===a.oScroll.sX?a.nTable.style.width="100%":""!==a.oScroll.sXInner?a.nTable.style.width=v(a.oScroll.sXInner):p==h(d).width()&&h(d).height()<h(a.nTable).height()?(a.nTable.style.width=v(p-a.oScroll.iBarWidth),h(a.nTable).outerWidth()>p-a.oScroll.iBarWidth&&(a.nTable.style.width=
v(p))):a.nTable.style.width=v(p);p=h(a.nTable).outerWidth();g=a.nTHead.getElementsByTagName("tr");r=r.getElementsByTagName("tr");Q(function(a,b){f=a.style;f.paddingTop="0";f.paddingBottom="0";f.borderTopWidth="0";f.borderBottomWidth="0";f.height=0;e=h(a).width();b.style.width=v(e);l.push(e)},r,g);h(r).height(0);if(null!==a.nTFoot){var q=m.getElementsByTagName("tr");m=a.nTFoot.getElementsByTagName("tr");Q(function(a,b){f=a.style;f.paddingTop="0";f.paddingBottom="0";f.borderTopWidth="0";f.borderBottomWidth=
"0";f.height=0;e=h(a).width();b.style.width=v(e);l.push(e)},q,m);h(q).height(0)}Q(function(a){a.innerHTML="";a.style.width=v(l.shift())},r);null!==a.nTFoot&&Q(function(a){a.innerHTML="";a.style.width=v(l.shift())},q);h(a.nTable).outerWidth()<p?(q=d.scrollHeight>d.offsetHeight||"scroll"==h(d).css("overflow-y")?p+a.oScroll.iBarWidth:p,d.style.width=v(q),b.parentNode.style.width=v(q),null!==a.nTFoot&&(n.parentNode.style.width=v(q)),""===a.oScroll.sX?I(a,1,"The table cannot fit into the current element which will cause column misalignment. The table has been drawn at its minimum possible width."):
""!==a.oScroll.sXInner&&I(a,1,"The table cannot fit into the current element which will cause column misalignment. Increase the sScrollXInner value or remove it to allow automatic calculation")):(d.style.width=v("100%"),b.parentNode.style.width=v("100%"),null!==a.nTFoot&&(n.parentNode.style.width=v("100%")));""!==a.oScroll.sY&&a.oScroll.bCollapse&&(d.style.height=v(a.oScroll.sY),q=""!==a.oScroll.sX&&a.nTable.offsetWidth>d.offsetWidth?a.oScroll.iBarWidth:0,a.nTable.offsetHeight<d.offsetHeight&&(d.style.height=
v(a.nTable.offsetHeight+q)));q=h(a.nTable).outerWidth();c.style.width=v(q);b.style.width=v(q);c=h(a.nTable).height()>d.clientHeight||"scroll"==h(d).css("overflow-y");b.style.paddingRight=c?a.oScroll.iBarWidth+"px":"0px";null!==a.nTFoot&&(k.style.width=v(q),n.style.width=v(q),n.style.paddingRight=c?a.oScroll.iBarWidth+"px":"0px");h(d).scroll();if(a.bSorted||a.bFiltered)d.scrollTop=0}function Q(a,b,c){for(var d=0,g=b.length;d<g;d++)for(var f=0,e=b[d].childNodes.length;f<e;f++)1==b[d].childNodes[f].nodeType&&
(c?a(b[d].childNodes[f],c[d].childNodes[f]):a(b[d].childNodes[f]))}function Ra(a,b){if(!a||null===a||""===a)return 0;b||(b=q.getElementsByTagName("body")[0]);var c=q.createElement("div");c.style.width=v(a);b.appendChild(c);a=c.offsetWidth;b.removeChild(c);return a}function fa(a){var b=0,c=0,d=a.aoColumns.length,g,f=h("th",a.nTHead),e=a.nTable.getAttribute("width");for(g=0;g<d;g++)if(a.aoColumns[g].bVisible&&(c++,null!==a.aoColumns[g].sWidth)){var l=Ra(a.aoColumns[g].sWidthOrig,a.nTable.parentNode);
null!==l&&(a.aoColumns[g].sWidth=v(l));b++}if(d==f.length&&0===b&&c==d&&""===a.oScroll.sX&&""===a.oScroll.sY)for(g=0;g<a.aoColumns.length;g++)l=h(f[g]).width(),null!==l&&(a.aoColumns[g].sWidth=v(l));else{b=a.nTable.cloneNode(!1);g=a.nTHead.cloneNode(!0);c=q.createElement("tbody");l=q.createElement("tr");b.removeAttribute("id");b.appendChild(g);null!==a.nTFoot&&(b.appendChild(a.nTFoot.cloneNode(!0)),Q(function(a){a.style.width=""},b.getElementsByTagName("tr")));b.appendChild(c);c.appendChild(l);c=
h("thead th",b);0===c.length&&(c=h("tbody tr:eq(0)>td",b));f=S(a,g);for(g=c=0;g<d;g++){var n=a.aoColumns[g];n.bVisible&&null!==n.sWidthOrig&&""!==n.sWidthOrig?f[g-c].style.width=v(n.sWidthOrig):n.bVisible?f[g-c].style.width="":c++}for(g=0;g<d;g++)a.aoColumns[g].bVisible&&(c=Sa(a,g),null!==c&&(c=c.cloneNode(!0),""!==a.aoColumns[g].sContentPadding&&(c.innerHTML+=a.aoColumns[g].sContentPadding),l.appendChild(c)));d=a.nTable.parentNode;d.appendChild(b);""!==a.oScroll.sX&&""!==a.oScroll.sXInner?b.style.width=
v(a.oScroll.sXInner):""!==a.oScroll.sX?(b.style.width="",h(b).width()<d.offsetWidth&&(b.style.width=v(d.offsetWidth))):""!==a.oScroll.sY?b.style.width=v(d.offsetWidth):e&&(b.style.width=v(e));b.style.visibility="hidden";Ta(a,b);d=h("tbody tr:eq(0)",b).children();0===d.length&&(d=S(a,h("thead",b)[0]));if(""!==a.oScroll.sX){for(g=c=l=0;g<a.aoColumns.length;g++)a.aoColumns[g].bVisible&&(l=null===a.aoColumns[g].sWidthOrig?l+h(d[c]).outerWidth():l+(parseInt(a.aoColumns[g].sWidth.replace("px",""),10)+(h(d[c]).outerWidth()-
h(d[c]).width())),c++);b.style.width=v(l);a.nTable.style.width=v(l)}for(g=c=0;g<a.aoColumns.length;g++)a.aoColumns[g].bVisible&&(l=h(d[c]).width(),null!==l&&0<l&&(a.aoColumns[g].sWidth=v(l)),c++);d=h(b).css("width");a.nTable.style.width=-1!==d.indexOf("%")?d:v(h(b).outerWidth());b.parentNode.removeChild(b)}e&&(a.nTable.style.width=v(e))}function Ta(a,b){""===a.oScroll.sX&&""!==a.oScroll.sY?(h(b).width(),b.style.width=v(h(b).outerWidth()-a.oScroll.iBarWidth)):""!==a.oScroll.sX&&(b.style.width=v(h(b).outerWidth()))}
function Sa(a,b){var c=Ua(a,b);if(0>c)return null;if(null===a.aoData[c].nTr){var d=q.createElement("td");d.innerHTML=z(a,c,b,"");return d}return O(a,c)[b]}function Ua(a,b){for(var c=-1,d=-1,g=0;g<a.aoData.length;g++){var f=z(a,g,b,"display")+"";f=f.replace(/<.*?>/g,"");f.length>c&&(c=f.length,d=g)}return d}function v(a){if(null===a)return"0px";if("number"==typeof a)return 0>a?"0px":a+"px";var b=a.charCodeAt(a.length-1);return 48>b||57<b?a:a+"px"}function Va(){var a=q.createElement("p"),b=a.style;
b.width="100%";b.height="200px";b.padding="0px";var c=q.createElement("div");b=c.style;b.position="absolute";b.top="0px";b.left="0px";b.visibility="hidden";b.width="200px";b.height="150px";b.padding="0px";b.overflow="hidden";c.appendChild(a);q.body.appendChild(c);b=a.offsetWidth;c.style.overflow="scroll";a=a.offsetWidth;b==a&&(a=c.clientWidth);q.body.removeChild(c);return b-a}function T(a,b){var c,d,g=[],f=[],e=k.ext.oSort,l=a.aoData,n=a.aoColumns,r=a.oLanguage.oAria;if(!a.oFeatures.bServerSide&&
(0!==a.aaSorting.length||null!==a.aaSortingFixed)){g=null!==a.aaSortingFixed?a.aaSortingFixed.concat(a.aaSorting):a.aaSorting.slice();for(c=0;c<g.length;c++){var m=g[c][0];var u=G(a,m);var q=a.aoColumns[m].sSortDataType;if(k.ext.afnSortData[q]){var t=k.ext.afnSortData[q].call(a.oInstance,a,m,u);if(t.length===l.length)for(u=0,q=l.length;u<q;u++)M(a,u,m,t[u]);else I(a,0,"Returned data sort array (col "+m+") is the wrong length")}}c=0;for(m=a.aiDisplayMaster.length;c<m;c++)f[a.aiDisplayMaster[c]]=c;
var v=g.length;c=0;for(m=l.length;c<m;c++)for(u=0;u<v;u++){var K=n[g[u][0]].aDataSort;t=0;for(d=K.length;t<d;t++)q=n[K[t]].sType,q=e[(q?q:"string")+"-pre"],l[c]._aSortData[K[t]]=q?q(z(a,c,K[t],"sort")):z(a,c,K[t],"sort")}a.aiDisplayMaster.sort(function(a,b){var c,d;for(c=0;c<v;c++){var h=n[g[c][0]].aDataSort;var k=0;for(d=h.length;k<d;k++){var r=n[h[k]].sType;r=e[(r?r:"string")+"-"+g[c][1]](l[a]._aSortData[h[k]],l[b]._aSortData[h[k]]);if(0!==r)return r}}return e["numeric-asc"](f[a],f[b])})}b!==p&&
!b||a.oFeatures.bDeferRender||U(a);c=0;for(m=a.aoColumns.length;c<m;c++)u=n[c].sTitle.replace(/<.*?>/g,""),b=n[c].nTh,b.removeAttribute("aria-sort"),b.removeAttribute("aria-label"),n[c].bSortable?0<g.length&&g[0][0]==c?(b.setAttribute("aria-sort","asc"==g[0][1]?"ascending":"descending"),b.setAttribute("aria-label",u+("asc"==(n[c].asSorting[g[0][2]+1]?n[c].asSorting[g[0][2]+1]:n[c].asSorting[0])?r.sSortAscending:r.sSortDescending))):b.setAttribute("aria-label",u+("asc"==n[c].asSorting[0]?r.sSortAscending:
r.sSortDescending)):b.setAttribute("aria-label",u);a.bSorted=!0;h(a.oInstance).trigger("sort",a);a.oFeatures.bFilter?P(a,a.oPreviousSearch,1):(a.aiDisplay=a.aiDisplayMaster.slice(),a._iDisplayStart=0,C(a),A(a))}function la(a,b,c,d){Wa(b,{},function(b){if(!1!==a.aoColumns[c].bSortable){var f=function(){if(b.shiftKey){for(var d=!1,f=0;f<a.aaSorting.length;f++)if(a.aaSorting[f][0]==c){d=!0;var g=a.aaSorting[f][0];var e=a.aaSorting[f][2]+1;a.aoColumns[g].asSorting[e]?(a.aaSorting[f][1]=a.aoColumns[g].asSorting[e],
a.aaSorting[f][2]=e):a.aaSorting.splice(f,1);break}!1===d&&a.aaSorting.push([c,a.aoColumns[c].asSorting[0],0])}else 1==a.aaSorting.length&&a.aaSorting[0][0]==c?(g=a.aaSorting[0][0],e=a.aaSorting[0][2]+1,a.aoColumns[g].asSorting[e]||(e=0),a.aaSorting[0][1]=a.aoColumns[g].asSorting[e],a.aaSorting[0][2]=e):(a.aaSorting.splice(0,a.aaSorting.length),a.aaSorting.push([c,a.aoColumns[c].asSorting[0],0]));T(a)};a.oFeatures.bProcessing?(J(a,!0),setTimeout(function(){f();a.oFeatures.bServerSide||J(a,!1)},0)):
f();"function"==typeof d&&d(a)}})}function U(a){var b,c,d=a.aoColumns.length,g=a.oClasses;for(b=0;b<d;b++)a.aoColumns[b].bSortable&&h(a.aoColumns[b].nTh).removeClass(g.sSortAsc+" "+g.sSortDesc+" "+a.aoColumns[b].sSortingClass);var f=null!==a.aaSortingFixed?a.aaSortingFixed.concat(a.aaSorting):a.aaSorting.slice();for(b=0;b<a.aoColumns.length;b++)if(a.aoColumns[b].bSortable){var e=a.aoColumns[b].sSortingClass;var l=-1;for(c=0;c<f.length;c++)if(f[c][0]==b){e="asc"==f[c][1]?g.sSortAsc:g.sSortDesc;l=c;
break}h(a.aoColumns[b].nTh).addClass(e);a.bJUI&&(c=h("span."+g.sSortIcon,a.aoColumns[b].nTh),c.removeClass(g.sSortJUIAsc+" "+g.sSortJUIDesc+" "+g.sSortJUI+" "+g.sSortJUIAscAllowed+" "+g.sSortJUIDescAllowed),c.addClass(-1==l?a.aoColumns[b].sSortingClassJUI:"asc"==f[l][1]?g.sSortJUIAsc:g.sSortJUIDesc))}else h(a.aoColumns[b].nTh).addClass(a.aoColumns[b].sSortingClass);e=g.sSortColumn;if(a.oFeatures.bSort&&a.oFeatures.bSortClasses){l=O(a);if(a.oFeatures.bDeferRender)h(l).removeClass(e+"1 "+e+"2 "+e+"3");
else if(l.length>=d)for(b=0;b<d;b++)if(-1!=l[b].className.indexOf(e+"1"))for(c=0,a=l.length/d;c<a;c++)l[d*c+b].className=h.trim(l[d*c+b].className.replace(e+"1",""));else if(-1!=l[b].className.indexOf(e+"2"))for(c=0,a=l.length/d;c<a;c++)l[d*c+b].className=h.trim(l[d*c+b].className.replace(e+"2",""));else if(-1!=l[b].className.indexOf(e+"3"))for(c=0,a=l.length/d;c<a;c++)l[d*c+b].className=h.trim(l[d*c+b].className.replace(" "+e+"3",""));g=1;for(b=0;b<f.length;b++){var k=parseInt(f[b][0],10);c=0;for(a=
l.length/d;c<a;c++)l[d*c+k].className+=" "+e+g;3>g&&g++}}}function va(a){if(a.oFeatures.bStateSave&&!a.bDestroying){var b;var c=a.oScroll.bInfinite;var d={iCreate:(new Date).getTime(),iStart:c?0:a._iDisplayStart,iEnd:c?a._iDisplayLength:a._iDisplayEnd,iLength:a._iDisplayLength,aaSorting:h.extend(!0,[],a.aaSorting),oSearch:h.extend(!0,{},a.oPreviousSearch),aoSearchCols:h.extend(!0,[],a.aoPreSearchCols),abVisCols:[]};c=0;for(b=a.aoColumns.length;c<b;c++)d.abVisCols.push(a.aoColumns[c].bVisible);E(a,
"aoStateSaveParams","stateSaveParams",[a,d]);a.fnStateSave.call(a.oInstance,a,d)}}function Xa(a,b){if(a.oFeatures.bStateSave){var c=a.fnStateLoad.call(a.oInstance,a);if(c){var d=E(a,"aoStateLoadParams","stateLoadParams",[a,c]);if(-1===h.inArray(!1,d)){a.oLoadedState=h.extend(!0,{},c);a._iDisplayStart=c.iStart;a.iInitDisplayStart=c.iStart;a._iDisplayEnd=c.iEnd;a._iDisplayLength=c.iLength;a.aaSorting=c.aaSorting.slice();a.saved_aaSorting=c.aaSorting.slice();h.extend(a.oPreviousSearch,c.oSearch);h.extend(!0,
a.aoPreSearchCols,c.aoSearchCols);b.saved_aoColumns=[];for(d=0;d<c.abVisCols.length;d++)b.saved_aoColumns[d]={},b.saved_aoColumns[d].bVisible=c.abVisCols[d];E(a,"aoStateLoaded","stateLoaded",[a,c])}}}}function Ya(a){var b=R.location.pathname.split("/");a=a+"_"+b[b.length-1].replace(/[\/:]/g,"").toLowerCase()+"=";b=q.cookie.split(";");for(var c=0;c<b.length;c++){for(var d=b[c];" "==d.charAt(0);)d=d.substring(1,d.length);if(0===d.indexOf(a))return decodeURIComponent(d.substring(a.length,d.length))}return null}
function x(a){for(var b=0;b<k.settings.length;b++)if(k.settings[b].nTable===a)return k.settings[b];return null}function W(a){var b=[];a=a.aoData;for(var c=0,d=a.length;c<d;c++)null!==a[c].nTr&&b.push(a[c].nTr);return b}function O(a,b){var c=[],d;var g=0;var f=a.aoData.length;b!==p&&(g=b,f=b+1);for(;g<f;g++){var e=a.aoData[g];if(null!==e.nTr){b=[];var h=0;for(d=e.nTr.childNodes.length;h<d;h++){var k=e.nTr.childNodes[h].nodeName.toLowerCase();"td"!=k&&"th"!=k||b.push(e.nTr.childNodes[h])}h=k=0;for(d=
a.aoColumns.length;h<d;h++)a.aoColumns[h].bVisible?c.push(b[h-k]):(c.push(e._anHidden[h]),k++)}}return c}function I(a,b,c){a=null===a?"DataTables warning: "+c:"DataTables warning (table id = '"+a.sTableId+"'): "+c;if(0===b)if("alert"==k.ext.sErrMode)alert(a);else throw Error(a);else R.console&&console.log&&console.log(a)}function t(a,b,c,d){d===p&&(d=c);b[c]!==p&&(a[d]=b[c])}function Za(a,b){for(var c in b)b.hasOwnProperty(c)&&("object"===typeof e[c]&&!1===h.isArray(b[c])?h.extend(!0,a[c],b[c]):a[c]=
b[c]);return a}function Wa(a,b,c){h(a).bind("click.DT",b,function(b){a.blur();c(b)}).bind("keypress.DT",b,function(a){13===a.which&&c(a)}).bind("selectstart.DT",function(){return!1})}function D(a,b,c,d){c&&a[b].push({fn:c,sName:d})}function E(a,b,c,d){b=a[b];for(var g=[],f=b.length-1;0<=f;f--)g.push(b[f].fn.apply(a.oInstance,d));null!==c&&h(a.oInstance).trigger(c,d);return g}function $a(a){return function(){var b=[x(this[k.ext.iApiIndex])].concat(Array.prototype.slice.call(arguments));return k.ext.oApi[a].apply(this,
b)}}var ab=R.JSON?JSON.stringify:function(a){var b=typeof a;if("object"!==b||null===a)return"string"===b&&(a='"'+a+'"'),a+"";var c,d=[],g=h.isArray(a);for(c in a){var f=a[c];b=typeof f;"string"===b?f='"'+f+'"':"object"===b&&null!==f&&(f=ab(f));d.push((g?"":'"'+c+'":')+f)}return(g?"[":"{")+d+(g?"]":"}")};this.$=function(a,b){var c,d=[],g=x(this[k.ext.iApiIndex]);b||(b={});b=h.extend({},{filter:"none",order:"current",page:"all"},b);if("current"==b.page)for(b=g._iDisplayStart,c=g.fnDisplayEnd();b<c;b++)d.push(g.aoData[g.aiDisplay[b]].nTr);
else if("current"==b.order&&"none"==b.filter)for(b=0,c=g.aiDisplayMaster.length;b<c;b++)d.push(g.aoData[g.aiDisplayMaster[b]].nTr);else if("current"==b.order&&"applied"==b.filter)for(b=0,c=g.aiDisplay.length;b<c;b++)d.push(g.aoData[g.aiDisplay[b]].nTr);else if("original"==b.order&&"none"==b.filter)for(b=0,c=g.aoData.length;b<c;b++)d.push(g.aoData[b].nTr);else if("original"==b.order&&"applied"==b.filter)for(b=0,c=g.aoData.length;b<c;b++)-1!==h.inArray(b,g.aiDisplay)&&d.push(g.aoData[b].nTr);else I(g,
1,"Unknown selection options");g=h(d);d=g.filter(a);a=g.find(a);return h([].concat(h.makeArray(d),h.makeArray(a)))};this._=function(a,b){var c=[],d=this.$(a,b);a=0;for(b=d.length;a<b;a++)c.push(this.fnGetData(d[a]));return c};this.fnAddData=function(a,b){if(0===a.length)return[];var c=[],d=x(this[k.ext.iApiIndex]);if("object"===typeof a[0]&&null!==a[0])for(var g=0;g<a.length;g++){var f=y(d,a[g]);if(-1==f)return c;c.push(f)}else{f=y(d,a);if(-1==f)return c;c.push(f)}d.aiDisplay=d.aiDisplayMaster.slice();
(b===p||b)&&da(d);return c};this.fnAdjustColumnSizing=function(a){var b=x(this[k.ext.iApiIndex]);m(b);a===p||a?this.fnDraw(!1):(""!==b.oScroll.sX||""!==b.oScroll.sY)&&this.oApi._fnScrollDraw(b)};this.fnClearTable=function(a){var b=x(this[k.ext.iApiIndex]);ja(b);(a===p||a)&&A(b)};this.fnClose=function(a){for(var b=x(this[k.ext.iApiIndex]),c=0;c<b.aoOpenRows.length;c++)if(b.aoOpenRows[c].nParent==a)return(a=b.aoOpenRows[c].nTr.parentNode)&&a.removeChild(b.aoOpenRows[c].nTr),b.aoOpenRows.splice(c,1),
0;return 1};this.fnDeleteRow=function(a,b,c){var d=x(this[k.ext.iApiIndex]),g;a="object"===typeof a?N(d,a):a;var f=d.aoData.splice(a,1);var e=0;for(g=d.aoData.length;e<g;e++)null!==d.aoData[e].nTr&&(d.aoData[e].nTr._DT_RowIndex=e);e=h.inArray(a,d.aiDisplay);d.asDataSearch.splice(e,1);ka(d.aiDisplayMaster,a);ka(d.aiDisplay,a);"function"===typeof b&&b.call(this,d,f);d._iDisplayStart>=d.aiDisplay.length&&(d._iDisplayStart-=d._iDisplayLength,0>d._iDisplayStart&&(d._iDisplayStart=0));if(c===p||c)C(d),
A(d);return f};this.fnDestroy=function(a){var b=x(this[k.ext.iApiIndex]),c=b.nTableWrapper.parentNode,d=b.nTBody,g;a=a===p?!1:!0;b.bDestroying=!0;E(b,"aoDestroyCallback","destroy",[b]);var f=0;for(g=b.aoColumns.length;f<g;f++)!1===b.aoColumns[f].bVisible&&this.fnSetColumnVis(f,!0);h(b.nTableWrapper).find("*").addBack().unbind(".DT");h("tbody>tr>td."+b.oClasses.sRowEmpty,b.nTable).parent().remove();b.nTable!=b.nTHead.parentNode&&(h(b.nTable).children("thead").remove(),b.nTable.appendChild(b.nTHead));
b.nTFoot&&b.nTable!=b.nTFoot.parentNode&&(h(b.nTable).children("tfoot").remove(),b.nTable.appendChild(b.nTFoot));b.nTable.parentNode.removeChild(b.nTable);h(b.nTableWrapper).remove();b.aaSorting=[];b.aaSortingFixed=[];U(b);h(W(b)).removeClass(b.asStripeClasses.join(" "));h("th, td",b.nTHead).removeClass([b.oClasses.sSortable,b.oClasses.sSortableAsc,b.oClasses.sSortableDesc,b.oClasses.sSortableNone].join(" "));b.bJUI&&(h("th span."+b.oClasses.sSortIcon+", td span."+b.oClasses.sSortIcon,b.nTHead).remove(),
h("th, td",b.nTHead).each(function(){var a=h("div."+b.oClasses.sSortJUIWrapper,this),c=a.contents();h(this).append(c);a.remove()}));!a&&b.nTableReinsertBefore?c.insertBefore(b.nTable,b.nTableReinsertBefore):a||c.appendChild(b.nTable);f=0;for(g=b.aoData.length;f<g;f++)null!==b.aoData[f].nTr&&d.appendChild(b.aoData[f].nTr);!0===b.oFeatures.bAutoWidth&&(b.nTable.style.width=v(b.sDestroyWidth));h(d).children("tr:even").addClass(b.asDestroyStripes[0]);h(d).children("tr:odd").addClass(b.asDestroyStripes[1]);
f=0;for(g=k.settings.length;f<g;f++)k.settings[f]==b&&k.settings.splice(f,1);b=null};this.fnDraw=function(a){var b=x(this[k.ext.iApiIndex]);!1===a?(C(b),A(b)):da(b)};this.fnFilter=function(a,b,c,d,g,f){var e=x(this[k.ext.iApiIndex]);if(e.oFeatures.bFilter){if(c===p||null===c)c=!1;if(d===p||null===d)d=!0;if(g===p||null===g)g=!0;if(f===p||null===f)f=!0;if(b===p||null===b){if(P(e,{sSearch:a+"",bRegex:c,bSmart:d,bCaseInsensitive:f},1),g&&e.aanFeatures.f)for(b=e.aanFeatures.f,c=0,d=b.length;c<d;c++)h(b[c]._DT_Input).val(a)}else h.extend(e.aoPreSearchCols[b],
{sSearch:a+"",bRegex:c,bSmart:d,bCaseInsensitive:f}),P(e,e.oPreviousSearch,1)}};this.fnGetData=function(a,b){var c=x(this[k.ext.iApiIndex]);if(a!==p){var d=a;if("object"===typeof a){var e=a.nodeName.toLowerCase();"tr"===e?d=N(c,a):"td"===e&&(d=N(c,a.parentNode),b=ia(c,d,a))}return b!==p?z(c,d,b,""):c.aoData[d]!==p?c.aoData[d]._aData:null}return ba(c)};this.fnGetNodes=function(a){var b=x(this[k.ext.iApiIndex]);return a!==p?b.aoData[a]!==p?b.aoData[a].nTr:null:W(b)};this.fnGetPosition=function(a){var b=
x(this[k.ext.iApiIndex]),c=a.nodeName.toUpperCase();return"TR"==c?N(b,a):"TD"==c||"TH"==c?(c=N(b,a.parentNode),a=ia(b,c,a),[c,G(b,a),a]):null};this.fnIsOpen=function(a){for(var b=x(this[k.ext.iApiIndex]),c=0;c<b.aoOpenRows.length;c++)if(b.aoOpenRows[c].nParent==a)return!0;return!1};this.fnOpen=function(a,b,c){var d=x(this[k.ext.iApiIndex]),e=W(d);if(-1!==h.inArray(a,e)){this.fnClose(a);e=q.createElement("tr");var f=q.createElement("td");e.appendChild(f);f.className=c;f.colSpan=H(d);"string"===typeof b?
f.innerHTML=b:h(f).html(b);b=h("tr",d.nTBody);-1!=h.inArray(a,b)&&h(e).insertAfter(a);d.aoOpenRows.push({nTr:e,nParent:a});return e}};this.fnPageChange=function(a,b){var c=x(this[k.ext.iApiIndex]);ua(c,a);C(c);(b===p||b)&&A(c)};this.fnSetColumnVis=function(a,b,c){var d=x(this[k.ext.iApiIndex]),e,f,h=d.aoColumns,l=d.aoData;if(h[a].bVisible!=b){if(b){for(e=f=0;e<a;e++)h[e].bVisible&&f++;var n=f>=H(d);if(!n)for(e=a;e<h.length;e++)if(h[e].bVisible){var r=e;break}e=0;for(f=l.length;e<f;e++)null!==l[e].nTr&&
(n?l[e].nTr.appendChild(l[e]._anHidden[a]):l[e].nTr.insertBefore(l[e]._anHidden[a],O(d,e)[r]))}else for(e=0,f=l.length;e<f;e++)null!==l[e].nTr&&(r=O(d,e)[a],l[e]._anHidden[a]=r,r.parentNode.removeChild(r));h[a].bVisible=b;Y(d,d.aoHeader);d.nTFoot&&Y(d,d.aoFooter);e=0;for(f=d.aoOpenRows.length;e<f;e++)d.aoOpenRows[e].nTr.colSpan=H(d);if(c===p||c)m(d),A(d);va(d)}};this.fnSettings=function(){return x(this[k.ext.iApiIndex])};this.fnSort=function(a){var b=x(this[k.ext.iApiIndex]);b.aaSorting=a;T(b)};this.fnSortListener=
function(a,b,c){la(x(this[k.ext.iApiIndex]),a,b,c)};this.fnUpdate=function(a,b,c,d,e){var f=x(this[k.ext.iApiIndex]);b="object"===typeof b?N(f,b):b;if(f.__fnUpdateDeep===p&&h.isArray(a)&&"object"===typeof a){f.aoData[b]._aData=a.slice();f.__fnUpdateDeep=!0;for(c=0;c<f.aoColumns.length;c++)this.fnUpdate(z(f,b,c),b,c,!1,!1);f.__fnUpdateDeep=p}else if(f.__fnUpdateDeep===p&&null!==a&&"object"===typeof a){f.aoData[b]._aData=h.extend(!0,{},a);f.__fnUpdateDeep=!0;for(c=0;c<f.aoColumns.length;c++)this.fnUpdate(z(f,
b,c),b,c,!1,!1);f.__fnUpdateDeep=p}else{M(f,b,c,a);a=z(f,b,c,"display");var g=f.aoColumns[c];null!==g.fnRender&&(a=V(f,b,c),g.bUseRendered&&M(f,b,c,a));null!==f.aoData[b].nTr&&(O(f,b)[c].innerHTML=a)}c=h.inArray(b,f.aiDisplay);f.asDataSearch[c]=ra(f,aa(f,b,"filter"));(e===p||e)&&m(f);(d===p||d)&&da(f);return 0};this.fnVersionCheck=k.ext.fnVersionCheck;this.oApi={_fnExternApiFunc:$a,_fnInitialise:ea,_fnInitComplete:ca,_fnLanguageCompat:ta,_fnAddColumn:r,_fnColumnOptions:u,_fnAddData:y,_fnCreateTr:ha,
_fnGatherData:Aa,_fnBuildHead:Ba,_fnDrawHead:Y,_fnDraw:A,_fnReDraw:da,_fnAjaxUpdate:Ca,_fnAjaxParameters:Ka,_fnAjaxUpdateDraw:La,_fnServerParams:na,_fnAddOptionsHtml:Da,_fnFeatureHtmlTable:Ha,_fnScrollDraw:Qa,_fnAdjustColumnSizing:m,_fnFeatureHtmlFilter:Fa,_fnFilterComplete:P,_fnFilterCustom:Oa,_fnFilterColumn:Na,_fnFilter:Ma,_fnBuildSearchArray:oa,_fnBuildSearchRow:ra,_fnFilterCreateSearch:pa,_fnDataToSearch:qa,_fnSort:T,_fnSortAttachListener:la,_fnSortingClasses:U,_fnFeatureHtmlPaginate:Ja,_fnPageChange:ua,
_fnFeatureHtmlInfo:Ia,_fnUpdateInfo:Pa,_fnFeatureHtmlLength:Ea,_fnFeatureHtmlProcessing:Ga,_fnProcessingDisplay:J,_fnVisibleToColumnIndex:K,_fnColumnIndexToVisible:G,_fnNodeToDataIndex:N,_fnVisbleColumns:H,_fnCalculateEnd:C,_fnConvertToWidth:Ra,_fnCalculateColumnWidths:fa,_fnScrollingWidthAdjust:Ta,_fnGetWidestNode:Sa,_fnGetMaxLenString:Ua,_fnStringToCss:v,_fnDetectType:B,_fnSettingsFromNode:x,_fnGetDataMaster:ba,_fnGetTrNodes:W,_fnGetTdNodes:O,_fnEscapeRegex:sa,_fnDeleteIndex:ka,_fnReOrderIndex:F,
_fnColumnOrdering:L,_fnLog:I,_fnClearTable:ja,_fnSaveState:va,_fnLoadState:Xa,_fnCreateCookie:function(a,b,c,d,e){var f=new Date;f.setTime(f.getTime()+1E3*c);c=R.location.pathname.split("/");a=a+"_"+c.pop().replace(/[\/:]/g,"").toLowerCase();if(null!==e){var g="function"===typeof h.parseJSON?h.parseJSON(b):eval("("+b+")");b=e(a,g,f.toGMTString(),c.join("/")+"/")}else b=a+"="+encodeURIComponent(b)+"; expires="+f.toGMTString()+"; path="+c.join("/")+"/";e="";f=9999999999999;if(4096<(null!==Ya(a)?q.cookie.length:
b.length+q.cookie.length)+10){a=q.cookie.split(";");for(var k=0,r=a.length;k<r;k++)if(-1!=a[k].indexOf(d)){var m=a[k].split("=");try{g=eval("("+decodeURIComponent(m[1])+")")}catch(bb){continue}g.iCreate&&g.iCreate<f&&(e=m[0],f=g.iCreate)}""!==e&&(q.cookie=e+"=; expires=Thu, 01-Jan-1970 00:00:01 GMT; path="+c.join("/")+"/")}q.cookie=b},_fnReadCookie:Ya,_fnDetectHeader:X,_fnGetUniqueThs:S,_fnScrollBarWidth:Va,_fnApplyToChildren:Q,_fnMap:t,_fnGetRowData:aa,_fnGetCellData:z,_fnSetCellData:M,_fnGetObjectDataFn:Z,
_fnSetObjectDataFn:ya,_fnApplyColumnDefs:za,_fnBindAction:Wa,_fnExtend:Za,_fnCallbackReg:D,_fnCallbackFire:E,_fnJsonString:ab,_fnRender:V,_fnNodeToColumnIndex:ia,_fnInfoMacros:ma};h.extend(k.ext.oApi,this.oApi);for(var wa in k.ext.oApi)wa&&(this[wa]=$a(wa));var xa=this;return this.each(function(){var a=0,b;var c=this.getAttribute("id");var d=!1,g=!1;if("table"!=this.nodeName.toLowerCase())I(null,0,"Attempted to initialise DataTables on a node which is not a table: "+this.nodeName);else{a=0;for(b=
k.settings.length;a<b;a++){if(k.settings[a].nTable==this){if(e===p||e.bRetrieve)return k.settings[a].oInstance;if(e.bDestroy){k.settings[a].oInstance.fnDestroy();break}else{I(k.settings[a],0,"Cannot reinitialise DataTable.\n\nTo retrieve the DataTables object for this table, pass no arguments or see the docs for bRetrieve and bDestroy");return}}if(k.settings[a].sTableId==this.id){k.settings.splice(a,1);break}}if(null===c||""===c)this.id=c="DataTables_Table_"+k.ext._oExternConfig.iNextUnique++;var f=
h.extend(!0,{},k.models.oSettings,{nTable:this,oApi:xa.oApi,oInit:e,sDestroyWidth:h(this).width(),sInstance:c,sTableId:c});k.settings.push(f);f.oInstance=1===xa.length?xa:h(this).dataTable();e||(e={});e.oLanguage&&ta(e.oLanguage);e=Za(h.extend(!0,{},k.defaults),e);t(f.oFeatures,e,"bPaginate");t(f.oFeatures,e,"bLengthChange");t(f.oFeatures,e,"bFilter");t(f.oFeatures,e,"bSort");t(f.oFeatures,e,"bInfo");t(f.oFeatures,e,"bProcessing");t(f.oFeatures,e,"bAutoWidth");t(f.oFeatures,e,"bSortClasses");t(f.oFeatures,
e,"bServerSide");t(f.oFeatures,e,"bDeferRender");t(f.oScroll,e,"sScrollX","sX");t(f.oScroll,e,"sScrollXInner","sXInner");t(f.oScroll,e,"sScrollY","sY");t(f.oScroll,e,"bScrollCollapse","bCollapse");t(f.oScroll,e,"bScrollInfinite","bInfinite");t(f.oScroll,e,"iScrollLoadGap","iLoadGap");t(f.oScroll,e,"bScrollAutoCss","bAutoCss");t(f,e,"asStripeClasses");t(f,e,"asStripClasses","asStripeClasses");t(f,e,"fnServerData");t(f,e,"fnFormatNumber");t(f,e,"sServerMethod");t(f,e,"aaSorting");t(f,e,"aaSortingFixed");
t(f,e,"aLengthMenu");t(f,e,"sPaginationType");t(f,e,"sAjaxSource");t(f,e,"sAjaxDataProp");t(f,e,"iCookieDuration");t(f,e,"sCookiePrefix");t(f,e,"sDom");t(f,e,"bSortCellsTop");t(f,e,"iTabIndex");t(f,e,"oSearch","oPreviousSearch");t(f,e,"aoSearchCols","aoPreSearchCols");t(f,e,"iDisplayLength","_iDisplayLength");t(f,e,"bJQueryUI","bJUI");t(f,e,"fnCookieCallback");t(f,e,"fnStateLoad");t(f,e,"fnStateSave");t(f.oLanguage,e,"fnInfoCallback");D(f,"aoDrawCallback",e.fnDrawCallback,"user");D(f,"aoServerParams",
e.fnServerParams,"user");D(f,"aoStateSaveParams",e.fnStateSaveParams,"user");D(f,"aoStateLoadParams",e.fnStateLoadParams,"user");D(f,"aoStateLoaded",e.fnStateLoaded,"user");D(f,"aoRowCallback",e.fnRowCallback,"user");D(f,"aoRowCreatedCallback",e.fnCreatedRow,"user");D(f,"aoHeaderCallback",e.fnHeaderCallback,"user");D(f,"aoFooterCallback",e.fnFooterCallback,"user");D(f,"aoInitComplete",e.fnInitComplete,"user");D(f,"aoPreDrawCallback",e.fnPreDrawCallback,"user");f.oFeatures.bServerSide&&f.oFeatures.bSort&&
f.oFeatures.bSortClasses?D(f,"aoDrawCallback",U,"server_side_sort_classes"):f.oFeatures.bDeferRender&&D(f,"aoDrawCallback",U,"defer_sort_classes");e.bJQueryUI?(h.extend(f.oClasses,k.ext.oJUIClasses),e.sDom===k.defaults.sDom&&"lfrtip"===k.defaults.sDom&&(f.sDom='<"H"lfr>t<"F"ip>')):h.extend(f.oClasses,k.ext.oStdClasses);h(this).addClass(f.oClasses.sTable);if(""!==f.oScroll.sX||""!==f.oScroll.sY)f.oScroll.iBarWidth=Va();f.iInitDisplayStart===p&&(f.iInitDisplayStart=e.iDisplayStart,f._iDisplayStart=
e.iDisplayStart);e.bStateSave&&(f.oFeatures.bStateSave=!0,Xa(f,e),D(f,"aoDrawCallback",va,"state_save"));null!==e.iDeferLoading&&(f.bDeferLoading=!0,a=h.isArray(e.iDeferLoading),f._iRecordsDisplay=a?e.iDeferLoading[0]:e.iDeferLoading,f._iRecordsTotal=a?e.iDeferLoading[1]:e.iDeferLoading);null!==e.aaData&&(g=!0);""!==e.oLanguage.sUrl?(f.oLanguage.sUrl=e.oLanguage.sUrl,h.getJSON(f.oLanguage.sUrl,null,function(a){ta(a);h.extend(!0,f.oLanguage,e.oLanguage,a);ea(f)}),d=!0):h.extend(!0,f.oLanguage,e.oLanguage);
null===e.asStripeClasses&&(f.asStripeClasses=[f.oClasses.sStripeOdd,f.oClasses.sStripeEven]);c=!1;var m=h(this).children("tbody").children("tr");a=0;for(b=f.asStripeClasses.length;a<b;a++)if(m.filter(":lt(2)").hasClass(f.asStripeClasses[a])){c=!0;break}c&&(f.asDestroyStripes=["",""],h(m[0]).hasClass(f.oClasses.sStripeOdd)&&(f.asDestroyStripes[0]+=f.oClasses.sStripeOdd+" "),h(m[0]).hasClass(f.oClasses.sStripeEven)&&(f.asDestroyStripes[0]+=f.oClasses.sStripeEven),h(m[1]).hasClass(f.oClasses.sStripeOdd)&&
(f.asDestroyStripes[1]+=f.oClasses.sStripeOdd+" "),h(m[1]).hasClass(f.oClasses.sStripeEven)&&(f.asDestroyStripes[1]+=f.oClasses.sStripeEven),m.removeClass(f.asStripeClasses.join(" ")));c=[];a=this.getElementsByTagName("thead");0!==a.length&&(X(f.aoHeader,a[0]),c=S(f));if(null===e.aoColumns)for(m=[],a=0,b=c.length;a<b;a++)m.push(null);else m=e.aoColumns;a=0;for(b=m.length;a<b;a++)e.saved_aoColumns!==p&&e.saved_aoColumns.length==b&&(null===m[a]&&(m[a]={}),m[a].bVisible=e.saved_aoColumns[a].bVisible),
r(f,c?c[a]:null);za(f,e.aoColumnDefs,m,function(a,b){u(f,a,b)});a=0;for(b=f.aaSorting.length;a<b;a++){f.aaSorting[a][0]>=f.aoColumns.length&&(f.aaSorting[a][0]=0);var l=f.aoColumns[f.aaSorting[a][0]];f.aaSorting[a][2]===p&&(f.aaSorting[a][2]=0);e.aaSorting===p&&f.saved_aaSorting===p&&(f.aaSorting[a][1]=l.asSorting[0]);c=0;for(m=l.asSorting.length;c<m;c++)if(f.aaSorting[a][1]==l.asSorting[c]){f.aaSorting[a][2]=c;break}}U(f);a=h(this).children("caption").each(function(){this._captionSide=h(this).css("caption-side")});
b=h(this).children("thead");0===b.length&&(b=[q.createElement("thead")],this.appendChild(b[0]));f.nTHead=b[0];b=h(this).children("tbody");0===b.length&&(b=[q.createElement("tbody")],this.appendChild(b[0]));f.nTBody=b[0];f.nTBody.setAttribute("role","alert");f.nTBody.setAttribute("aria-live","polite");f.nTBody.setAttribute("aria-relevant","all");b=h(this).children("tfoot");0===b.length&&0<a.length&&(""!==f.oScroll.sX||""!==f.oScroll.sY)&&(b=[q.createElement("tfoot")],this.appendChild(b[0]));0<b.length&&
(f.nTFoot=b[0],X(f.aoFooter,f.nTFoot));if(g)for(a=0;a<e.aaData.length;a++)y(f,e.aaData[a]);else Aa(f);f.aiDisplay=f.aiDisplayMaster.slice();f.bInitialised=!0;!1===d&&ea(f)}})};k.fnVersionCheck=function(e){var h=function(e,h){for(;e.length<h;)e+="0";return e},u=k.ext.sVersion.split(".");e=e.split(".");for(var m="",p="",q=0,H=e.length;q<H;q++)m+=h(u[q],3),p+=h(e[q],3);return parseInt(m,10)>=parseInt(p,10)};k.fnIsDataTable=function(e){for(var h=k.settings,u=0;u<h.length;u++)if(h[u].nTable===e||h[u].nScrollHead===
e||h[u].nScrollFoot===e)return!0;return!1};k.fnTables=function(e){var r=[];jQuery.each(k.settings,function(k,m){(!e||!0===e&&h(m.nTable).is(":visible"))&&r.push(m.nTable)});return r};k.version="1.9.1";k.settings=[];k.models={};k.models.ext={afnFiltering:[],afnSortData:[],aoFeatures:[],aTypes:[],fnVersionCheck:k.fnVersionCheck,iApiIndex:0,ofnSearch:{},oApi:{},oStdClasses:{},oJUIClasses:{},oPagination:{},oSort:{},sVersion:k.version,sErrMode:"alert",_oExternConfig:{iNextUnique:0}};k.models.oSearch={bCaseInsensitive:!0,
sSearch:"",bRegex:!1,bSmart:!0};k.models.oRow={nTr:null,_aData:[],_aSortData:[],_anHidden:[],_sRowStripe:""};k.models.oColumn={aDataSort:null,asSorting:null,bSearchable:null,bSortable:null,bUseRendered:null,bVisible:null,_bAutoType:!0,fnCreatedCell:null,fnGetData:null,fnRender:null,fnSetData:null,mDataProp:null,nTh:null,nTf:null,sClass:null,sContentPadding:null,sDefaultContent:null,sName:null,sSortDataType:"std",sSortingClass:null,sSortingClassJUI:null,sTitle:null,sType:null,sWidth:null,sWidthOrig:null};
k.defaults={aaData:null,aaSorting:[[0,"asc"]],aaSortingFixed:null,aLengthMenu:[10,25,50,100],aoColumns:null,aoColumnDefs:null,aoSearchCols:[],asStripeClasses:null,bAutoWidth:!0,bDeferRender:!1,bDestroy:!1,bFilter:!0,bInfo:!0,bJQueryUI:!1,bLengthChange:!0,bPaginate:!0,bProcessing:!1,bRetrieve:!1,bScrollAutoCss:!0,bScrollCollapse:!1,bScrollInfinite:!1,bServerSide:!1,bSort:!0,bSortCellsTop:!1,bSortClasses:!0,bStateSave:!1,fnCookieCallback:null,fnCreatedRow:null,fnDrawCallback:null,fnFooterCallback:null,
fnFormatNumber:function(e){if(1E3>e)return e;var h=e+"";e=h.split("");var k="";h=h.length;for(var m=0;m<h;m++)0===m%3&&0!==m&&(k=this.oLanguage.sInfoThousands+k),k=e[h-m-1]+k;return k},fnHeaderCallback:null,fnInfoCallback:null,fnInitComplete:null,fnPreDrawCallback:null,fnRowCallback:null,fnServerData:function(e,k,p,m){m.jqXHR=h.ajax({url:e,data:k,success:function(e){h(m.oInstance).trigger("xhr",m);p(e)},dataType:"json",cache:!1,type:m.sServerMethod,error:function(e,h,k){"parsererror"==h&&m.oApi._fnLog(m,
0,"DataTables warning: JSON data from server could not be parsed. This is caused by a JSON formatting error.")}})},fnServerParams:null,fnStateLoad:function(e){e=this.oApi._fnReadCookie(e.sCookiePrefix+e.sInstance);try{var k="function"===typeof h.parseJSON?h.parseJSON(e):eval("("+e+")")}catch(u){k=null}return k},fnStateLoadParams:null,fnStateLoaded:null,fnStateSave:function(e,h){this.oApi._fnCreateCookie(e.sCookiePrefix+e.sInstance,this.oApi._fnJsonString(h),e.iCookieDuration,e.sCookiePrefix,e.fnCookieCallback)},
fnStateSaveParams:null,iCookieDuration:7200,iDeferLoading:null,iDisplayLength:10,iDisplayStart:0,iScrollLoadGap:100,iTabIndex:0,oLanguage:{oAria:{sSortAscending:": activate to sort column ascending",sSortDescending:": activate to sort column descending"},oPaginate:{sFirst:"First",sLast:"Last",sNext:"Next",sPrevious:"Previous"},sEmptyTable:"No data available in table",sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of 0 entries",sInfoFiltered:"(filtered from _MAX_ total entries)",
sInfoPostFix:"",sInfoThousands:",",sLengthMenu:"Show _MENU_ entries",sLoadingRecords:"Loading...",sProcessing:"Processing...",sSearch:"Search:",sUrl:"",sZeroRecords:"No matching records found"},oSearch:h.extend({},k.models.oSearch),sAjaxDataProp:"aaData",sAjaxSource:null,sCookiePrefix:"SpryMedia_DataTables_",sDom:"lfrtip",sPaginationType:"two_button",sScrollX:"",sScrollXInner:"",sScrollY:"",sServerMethod:"GET"};k.defaults.columns={aDataSort:null,asSorting:["asc","desc"],bSearchable:!0,bSortable:!0,
bUseRendered:!0,bVisible:!0,fnCreatedCell:null,fnRender:null,iDataSort:-1,mDataProp:null,sCellType:"td",sClass:"",sContentPadding:"",sDefaultContent:null,sName:"",sSortDataType:"std",sTitle:null,sType:null,sWidth:null};k.models.oSettings={oFeatures:{bAutoWidth:null,bDeferRender:null,bFilter:null,bInfo:null,bLengthChange:null,bPaginate:null,bProcessing:null,bServerSide:null,bSort:null,bSortClasses:null,bStateSave:null},oScroll:{bAutoCss:null,bCollapse:null,bInfinite:null,iBarWidth:0,iLoadGap:null,
sX:null,sXInner:null,sY:null},oLanguage:{fnInfoCallback:null},aanFeatures:[],aoData:[],aiDisplay:[],aiDisplayMaster:[],aoColumns:[],aoHeader:[],aoFooter:[],asDataSearch:[],oPreviousSearch:{},aoPreSearchCols:[],aaSorting:null,aaSortingFixed:null,asStripeClasses:null,asDestroyStripes:[],sDestroyWidth:0,aoRowCallback:[],aoHeaderCallback:[],aoFooterCallback:[],aoDrawCallback:[],aoRowCreatedCallback:[],aoPreDrawCallback:[],aoInitComplete:[],aoStateSaveParams:[],aoStateLoadParams:[],aoStateLoaded:[],sTableId:"",
nTable:null,nTHead:null,nTFoot:null,nTBody:null,nTableWrapper:null,bDeferLoading:!1,bInitialised:!1,aoOpenRows:[],sDom:null,sPaginationType:"two_button",iCookieDuration:0,sCookiePrefix:"",fnCookieCallback:null,aoStateSave:[],aoStateLoad:[],oLoadedState:null,sAjaxSource:null,sAjaxDataProp:null,bAjaxDataGet:!0,jqXHR:null,fnServerData:null,aoServerParams:[],sServerMethod:null,fnFormatNumber:null,aLengthMenu:null,iDraw:0,bDrawing:!1,iDrawError:-1,_iDisplayLength:10,_iDisplayStart:0,_iDisplayEnd:10,_iRecordsTotal:0,
_iRecordsDisplay:0,bJUI:null,oClasses:{},bFiltered:!1,bSorted:!1,bSortCellsTop:null,oInit:null,aoDestroyCallback:[],fnRecordsTotal:function(){return this.oFeatures.bServerSide?parseInt(this._iRecordsTotal,10):this.aiDisplayMaster.length},fnRecordsDisplay:function(){return this.oFeatures.bServerSide?parseInt(this._iRecordsDisplay,10):this.aiDisplay.length},fnDisplayEnd:function(){return this.oFeatures.bServerSide?!1===this.oFeatures.bPaginate||-1==this._iDisplayLength?this._iDisplayStart+this.aiDisplay.length:
Math.min(this._iDisplayStart+this._iDisplayLength,this._iRecordsDisplay):this._iDisplayEnd},oInstance:null,sInstance:null,iTabIndex:0,nScrollHead:null,nScrollFoot:null};k.ext=h.extend(!0,{},k.models.ext);h.extend(k.ext.oStdClasses,{sTable:"dataTable",sPagePrevEnabled:"paginate_enabled_previous",sPagePrevDisabled:"paginate_disabled_previous",sPageNextEnabled:"paginate_enabled_next",sPageNextDisabled:"paginate_disabled_next",sPageJUINext:"",sPageJUIPrev:"",sPageButton:"paginate_button",sPageButtonActive:"paginate_active",
sPageButtonStaticDisabled:"paginate_button paginate_button_disabled",sPageFirst:"first",sPagePrevious:"previous",sPageNext:"next",sPageLast:"last",sStripeOdd:"odd",sStripeEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"sorting_asc",sSortDesc:"sorting_desc",sSortable:"sorting",sSortableAsc:"sorting_asc_disabled",sSortableDesc:"sorting_desc_disabled",
sSortableNone:"sorting_disabled",sSortColumn:"sorting_",sSortJUIAsc:"",sSortJUIDesc:"",sSortJUI:"",sSortJUIAscAllowed:"",sSortJUIDescAllowed:"",sSortJUIWrapper:"",sSortIcon:"",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot",sScrollFootInner:"dataTables_scrollFootInner",sFooterTH:""});h.extend(k.ext.oJUIClasses,k.ext.oStdClasses,{sPagePrevEnabled:"fg-button ui-button ui-state-default ui-corner-left",
sPagePrevDisabled:"fg-button ui-button ui-state-default ui-corner-left ui-state-disabled",sPageNextEnabled:"fg-button ui-button ui-state-default ui-corner-right",sPageNextDisabled:"fg-button ui-button ui-state-default ui-corner-right ui-state-disabled",sPageJUINext:"ui-icon ui-icon-circle-arrow-e",sPageJUIPrev:"ui-icon ui-icon-circle-arrow-w",sPageButton:"fg-button ui-button ui-state-default",sPageButtonActive:"fg-button ui-button ui-state-default ui-state-disabled",sPageButtonStaticDisabled:"fg-button ui-button ui-state-default ui-state-disabled",
sPageFirst:"first ui-corner-tl ui-corner-bl",sPageLast:"last ui-corner-tr ui-corner-br",sPaging:"dataTables_paginate fg-buttonset ui-buttonset fg-buttonset-multi ui-buttonset-multi paging_",sSortAsc:"ui-state-default",sSortDesc:"ui-state-default",sSortable:"ui-state-default",sSortableAsc:"ui-state-default",sSortableDesc:"ui-state-default",sSortableNone:"ui-state-default",sSortJUIAsc:"css_right ui-icon ui-icon-triangle-1-n",sSortJUIDesc:"css_right ui-icon ui-icon-triangle-1-s",sSortJUI:"css_right ui-icon ui-icon-carat-2-n-s",
sSortJUIAscAllowed:"css_right ui-icon ui-icon-carat-1-n",sSortJUIDescAllowed:"css_right ui-icon ui-icon-carat-1-s",sSortJUIWrapper:"DataTables_sort_wrapper",sSortIcon:"DataTables_sort_icon",sScrollHead:"dataTables_scrollHead ui-state-default",sScrollFoot:"dataTables_scrollFoot ui-state-default",sFooterTH:"ui-state-default"});h.extend(k.ext.oPagination,{two_button:{fnInit:function(e,k,p){var m=e.oLanguage.oPaginate,r=function(h){e.oApi._fnPageChange(e,h.data.action)&&p(e)};m=e.bJUI?'<a class="'+e.oClasses.sPagePrevDisabled+
'" tabindex="'+e.iTabIndex+'" role="button"><span class="'+e.oClasses.sPageJUIPrev+'"></span></a><a class="'+e.oClasses.sPageNextDisabled+'" tabindex="'+e.iTabIndex+'" role="button"><span class="'+e.oClasses.sPageJUINext+'"></span></a>':'<a class="'+e.oClasses.sPagePrevDisabled+'" tabindex="'+e.iTabIndex+'" role="button">'+m.sPrevious+'</a><a class="'+e.oClasses.sPageNextDisabled+'" tabindex="'+e.iTabIndex+'" role="button">'+m.sNext+"</a>";h(k).append(m);var q=h("a",k);m=q[0];q=q[1];e.oApi._fnBindAction(m,
{action:"previous"},r);e.oApi._fnBindAction(q,{action:"next"},r);e.aanFeatures.p||(k.id=e.sTableId+"_paginate",m.id=e.sTableId+"_previous",q.id=e.sTableId+"_next",m.setAttribute("aria-controls",e.sTableId),q.setAttribute("aria-controls",e.sTableId))},fnUpdate:function(e,h){if(e.aanFeatures.p){h=e.oClasses;for(var k=e.aanFeatures.p,m=0,r=k.length;m<r;m++)0!==k[m].childNodes.length&&(k[m].childNodes[0].className=0===e._iDisplayStart?h.sPagePrevDisabled:h.sPagePrevEnabled,k[m].childNodes[1].className=
e.fnDisplayEnd()==e.fnRecordsDisplay()?h.sPageNextDisabled:h.sPageNextEnabled)}}},iFullNumbersShowPages:5,full_numbers:{fnInit:function(e,k,p){var m=e.oLanguage.oPaginate,r=e.oClasses,q=function(h){e.oApi._fnPageChange(e,h.data.action)&&p(e)};h(k).append('<a  tabindex="'+e.iTabIndex+'" class="'+r.sPageButton+" "+r.sPageFirst+'">'+m.sFirst+'</a><a  tabindex="'+e.iTabIndex+'" class="'+r.sPageButton+" "+r.sPagePrevious+'">'+m.sPrevious+'</a><span></span><a tabindex="'+e.iTabIndex+'" class="'+r.sPageButton+
" "+r.sPageNext+'">'+m.sNext+'</a><a tabindex="'+e.iTabIndex+'" class="'+r.sPageButton+" "+r.sPageLast+'">'+m.sLast+"</a>");var u=h("a",k);m=u[0];r=u[1];var B=u[2];u=u[3];e.oApi._fnBindAction(m,{action:"first"},q);e.oApi._fnBindAction(r,{action:"previous"},q);e.oApi._fnBindAction(B,{action:"next"},q);e.oApi._fnBindAction(u,{action:"last"},q);e.aanFeatures.p||(k.id=e.sTableId+"_paginate",m.id=e.sTableId+"_first",r.id=e.sTableId+"_previous",B.id=e.sTableId+"_next",u.id=e.sTableId+"_last")},fnUpdate:function(e,
r){if(e.aanFeatures.p){var p=k.ext.oPagination.iFullNumbersShowPages,m=Math.floor(p/2),q=Math.ceil(e.fnRecordsDisplay()/e._iDisplayLength),G=Math.ceil(e._iDisplayStart/e._iDisplayLength)+1,H="",B,F=e.oClasses,L=e.aanFeatures.p,R=function(h){e.oApi._fnBindAction(this,{page:h+B-1},function(h){e.oApi._fnPageChange(e,h.data.page);r(e);h.preventDefault()})};-1===e._iDisplayLength?G=m=B=1:q<p?(B=1,m=q):G<=m?(B=1,m=p):G>=q-m?(B=q-p+1,m=q):(B=G-Math.ceil(p/2)+1,m=B+p-1);for(p=B;p<=m;p++)H+=G!==p?'<a tabindex="'+
e.iTabIndex+'" class="'+F.sPageButton+'">'+e.fnFormatNumber(p)+"</a>":'<a tabindex="'+e.iTabIndex+'" class="'+F.sPageButtonActive+'">'+e.fnFormatNumber(p)+"</a>";p=0;for(m=L.length;p<m;p++)if(0!==L[p].childNodes.length){h("span:eq(0)",L[p]).html(H).children("a").each(R);var y=L[p].getElementsByTagName("a");y=[y[0],y[1],y[y.length-2],y[y.length-1]];h(y).removeClass(F.sPageButton+" "+F.sPageButtonActive+" "+F.sPageButtonStaticDisabled);h([y[0],y[1]]).addClass(1==G?F.sPageButtonStaticDisabled:F.sPageButton);
h([y[2],y[3]]).addClass(0===q||G===q||-1===e._iDisplayLength?F.sPageButtonStaticDisabled:F.sPageButton)}}}}});h.extend(k.ext.oSort,{"string-pre":function(e){"string"!=typeof e&&(e=null!==e&&e.toString?e.toString():"");return e.toLowerCase()},"string-asc":function(e,h){return e<h?-1:e>h?1:0},"string-desc":function(e,h){return e<h?1:e>h?-1:0},"html-pre":function(e){return e.replace(/<.*?>/g,"").toLowerCase()},"html-asc":function(e,h){return e<h?-1:e>h?1:0},"html-desc":function(e,h){return e<h?1:e>h?
-1:0},"date-pre":function(e){e=Date.parse(e);if(isNaN(e)||""===e)e=Date.parse("01/01/1970 00:00:00");return e},"date-asc":function(e,h){return e-h},"date-desc":function(e,h){return h-e},"numeric-pre":function(e){return"-"==e||""===e?0:1*e},"numeric-asc":function(e,h){return e-h},"numeric-desc":function(e,h){return h-e}});h.extend(k.ext.aTypes,[function(e){if("number"===typeof e)return"numeric";if("string"!==typeof e)return null;var h=!1;var k=e.charAt(0);if(-1=="0123456789-".indexOf(k))return null;
for(var m=1;m<e.length;m++){k=e.charAt(m);if(-1=="0123456789.".indexOf(k))return null;if("."==k){if(h)return null;h=!0}}return"numeric"},function(e){var h=Date.parse(e);return null!==h&&!isNaN(h)||"string"===typeof e&&0===e.length?"date":null},function(e){return"string"===typeof e&&-1!=e.indexOf("<")&&-1!=e.indexOf(">")?"html":null}]);h.fn.DataTable=k;h.fn.dataTable=k;h.fn.dataTableSettings=k.settings;h.fn.dataTableExt=k.ext})(jQuery,window,document,void 0);
;

