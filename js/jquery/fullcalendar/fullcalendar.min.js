/*
 FullCalendar v3.1.0
 Docs & License: http://fullcalendar.io/
 (c) 2016 Adam Shaw
*/
(function(g){"function"===typeof define&&define.amd?define(["jquery","moment"],g):"object"===typeof exports?module.exports=g(require("jquery"),require("moment")):g(jQuery,moment)})(function(g,m){function Ha(a,b){b.left&&a.css({"border-left-width":1,"margin-left":b.left-1});b.right&&a.css({"border-right-width":1,"margin-right":b.right-1})}function Ia(a){a.css({"margin-left":"","margin-right":"","border-left-width":"","border-right-width":""})}function fa(){g("body").addClass("fc-not-allowed")}
function ha(){g("body").removeClass("fc-not-allowed")}function Ja(a,b,c){var d=Math.floor(b/a.length),e=Math.floor(b-d*(a.length-1)),f=[],p=[],l=[],u=0;a.height("");a.each(function(b,c){b=b===a.length-1?e:d;var H=g(c).outerHeight(!0);H<b?(f.push(c),p.push(H),l.push(g(c).height())):u+=H});c&&(b-=u,d=Math.floor(b/f.length),e=Math.floor(b-d*(f.length-1)));g(f).each(function(a,b){var c=a===f.length-1?e:d,u=p[a];a=c-(u-l[a]);u<c&&g(b).height(a)})}function Ka(a){var b=0;a.find("> *").each(function(a,d){a=
g(d).outerWidth();a>b&&(b=a)});b++;a.width(b);return b}function ra(a,b){var c=a.add(b);c.css({position:"relative",left:-1});a=a.outerHeight()-b.outerHeight();c.css({position:"",left:""});return a}function sa(a){var b=a.css("position"),c=a.parents().filter(function(){var a=g(this);return/(auto|scroll)/.test(a.css("overflow")+a.css("overflow-y")+a.css("overflow-x"))}).eq(0);return"fixed"!==b&&c.length?c:g(a[0].ownerDocument||document)}function ta(a,b){var c=a.offset(),d=c.left-(b?b.left:0);b=c.top-
(b?b.top:0);return{left:d,right:d+a.outerWidth(),top:b,bottom:b+a.outerHeight()}}function La(a,b){var c=a.offset(),d=ua(a),e=c.left+(parseFloat(a.css("border-left-width"))||0)+d.left-(b?b.left:0);b=c.top+(parseFloat(a.css("border-top-width"))||0)+d.top-(b?b.top:0);return{left:e,right:e+a[0].clientWidth,top:b,bottom:b+a[0].clientHeight}}function ua(a){var b=a.innerWidth()-a[0].clientWidth,c={left:0,right:0,top:0,bottom:a.innerHeight()-a[0].clientHeight};if(null===va){var d=g("<div><div/></div>").css({position:"absolute",
top:-1E3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}).appendTo("body"),e=d.children().offset().left>d.offset().left;d.remove();va=e}va&&"rtl"==a.css("direction")?c.left=b:c.right=b;return c}function I(a){if(void 0!==a.pageX)return a.pageX;if(a=a.originalEvent.touches)return a[0].pageX}function A(a){if(void 0!==a.pageY)return a.pageY;if(a=a.originalEvent.touches)return a[0].pageY}function ja(a){a.preventDefault()}function Ma(a,b){a={left:Math.max(a.left,b.left),right:Math.min(a.right,
b.right),top:Math.max(a.top,b.top),bottom:Math.min(a.bottom,b.bottom)};return a.left<a.right&&a.top<a.bottom?a:!1}function Na(a){var b=[],c=[];"string"===typeof a?c=a.split(/\s*,\s*/):"function"===typeof a?c=[a]:g.isArray(a)&&(c=a);for(a=0;a<c.length;a++){var d=c[a];"string"===typeof d?b.push("-"==d.charAt(0)?{field:d.substring(1),order:-1}:{field:d,order:1}):"function"===typeof d&&b.push({func:d})}return b}function Oa(a,b,c){var d,e;for(d=0;d<c.length;d++)if(e=Pa(a,b,c[d]))return e;return 0}function Pa(a,
b,c){return c.func?c.func(a,b):Qa(a[c.field],b[c.field])*(c.order||1)}function Qa(a,b){return a||b?null==b?-1:null==a?1:"string"===g.type(a)||"string"===g.type(b)?String(a).localeCompare(String(b)):a-b:0}function ka(a,b){var c=a.start;a=a.end;var d=b.start;b=b.end;if(a>d&&c<b)return c>=d?(c=c.clone(),d=!0):(c=d.clone(),d=!1),a<=b?(a=a.clone(),b=!0):(a=b.clone(),b=!1),{start:c,end:a,isStart:d,isEnd:b}}function Ra(a,b){return m.duration({days:a.clone().stripTime().diff(b.clone().stripTime(),"days"),
ms:a.time()-b.time()})}function Sa(a,b,c){return m.duration(Math.round(a.diff(b,c,!0)),c)}function wa(a,b){var c;for(c=0;c<xa.length;c++){var d=xa[c];var e=d;var f=a;e=null!=b?b.diff(f,e,!0):m.isDuration(f)?f.as(e):f.end.diff(f.start,e,!0);if(1<=e&&R(e))break}return d}function ya(a,b){if(V(a)||V(b))return a/b;var c=a.asMonths();var d=b.asMonths();return 1<=Math.abs(c)&&R(c)&&1<=Math.abs(d)&&R(d)?c/d:a.asDays()/b.asDays()}function V(a){return!!(a.hours()||a.minutes()||a.seconds()||a.milliseconds())}
function Ta(a){return/^\d+:\d+(?::\d+\.?(?:\d{3})?)?$/.test(a)}function W(a,b){var c={},d,e;if(b)for(d=0;d<b.length;d++){var f=b[d];var p=[];for(e=a.length-1;0<=e;e--){var g=a[e][f];if("object"===typeof g)p.unshift(g);else if(void 0!==g){c[f]=g;break}}p.length&&(c[f]=W(p))}for(d=a.length-1;0<=d;d--)for(f in b=a[d],b)f in c||(c[f]=b[f]);return c}function aa(a){var b=function(){};b.prototype=a;return new b}function la(a,b){for(var c in a)Ua.call(a,c)&&(b[c]=a[c])}function ma(a,b,c){g.isFunction(a)&&
(a=[a]);if(a){var d;for(d=0;d<a.length;d++)var e=a[d].apply(b,c)||e;return e}}function F(){for(var a=0;a<arguments.length;a++)if(void 0!==arguments[a])return arguments[a]}function q(a){return(a+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function na(a){var b=[];g.each(a,function(a,d){null!=d&&b.push(a+":"+d)});return b.join(";")}function sb(a){var b=[];g.each(a,function(a,d){null!=d&&b.push(a+'="'+q(d)+'"')});
return b.join(" ")}function Va(a){return a.charAt(0).toUpperCase()+a.slice(1)}function tb(a,b){return a-b}function R(a){return 0===a%1}function X(a,b){var c=a[b];return function(){return c.apply(a,arguments)}}function ba(a,b,c){var d,e,f,p,g,u=function(){var l=+new Date-p;l<b?d=setTimeout(u,b-l):(d=null,c||(g=a.apply(f,e),f=e=null))};return function(){f=this;e=arguments;p=+new Date;var l=c&&!d;d||(d=setTimeout(u,b));l&&(g=a.apply(f,e),f=e=null);return g}}function za(a,b,c){var d=a[0],e=1==a.length&&
"string"===typeof d,f,p;(f=m.isMoment(d))||(f=d,f="[object Date]"===Object.prototype.toString.call(f)||f instanceof Date);if(f||void 0===d)a=m.apply(null,a);else{var l=f=!1;if(e)if(ub.test(d))d+="-01",a=[d],l=f=!0;else{if(p=vb.exec(d))f=!p[5],l=!0}else g.isArray(d)&&(l=!0);a=b||f?m.utc.apply(m,a):m.apply(null,a);f?(a._ambigTime=!0,a._ambigZone=!0):c&&(l?a._ambigZone=!0:e&&a.utcOffset(d))}a._fullCalendar=!0;return a}function S(a,b){return L.format.call(a,b)}function Wa(a,b){var c="",d;for(d=0;d<b.length;d++)c+=
Aa(a,b[d]);return c}function Aa(a,b){var c;return"string"===typeof b?b:(c=b.token)?Xa[c]?Xa[c](a):S(a,c):b.maybe&&(a=Wa(a,b.maybe),a.match(/[1-9]/))?a:""}function Ya(a,b,c,d,e){a=h.moment.parseZone(a);b=h.moment.parseZone(b);c=a.localeData().longDateFormat(c)||c;d=d||" - ";c=Ba(c);var f=a.clone().stripZone(),g=b.clone().stripZone(),l,u="",H,U="",m="",ia="",v="";for(l=0;l<c.length;l++){var D=Za(a,b,f,g,c[l]);if(!1===D)break;u+=D}for(H=c.length-1;H>l;H--){D=Za(a,b,f,g,c[H]);if(!1===D)break;U=D+U}for(f=
l;f<=H;f++)m+=Aa(a,c[f]),ia+=Aa(b,c[f]);if(m||ia)v=e?ia+d+m:m+d+ia;return u+v+U}function Za(a,b,c,d,e){return"string"===typeof e?e:(b=e.token)&&(e=wb[b.charAt(0)])&&c.isSame(d,e)?S(a,b):!1}function Ba(a){return a in Ca?Ca[a]:Ca[a]=$a(a)}function $a(a){for(var b=[],c=/\[([^\]]*)\]|\(([^\)]*)\)|(LTS|LT|(\w)\4*o?)|([^\w\[\(]+)/g,d;d=c.exec(a);)d[1]?b.push(d[1]):d[2]?b.push({maybe:$a(d[2])}):d[3]?b.push({token:d[3]}):d[5]&&b.push(d[5]);return b}function w(){}function xb(a,b){if(Ua.call(b,"constructor"))var c=
b.constructor;"function"!==typeof c&&(c=b.constructor=function(){a.apply(this,arguments)});c.prototype=aa(a.prototype);la(b,c.prototype);la(a,c);return c}function t(a){var b=g.Deferred(),c=b.promise();"function"===typeof a&&a(function(a){t.immediate&&(c._value=a);b.resolve(a)},function(){b.reject()});if(t.immediate){var d=c.then;c.then=function(a,b){var e=c.state();if("resolved"===e){if("function"===typeof a)return t.resolve(a(c._value))}else if("rejected"===e&&"function"===typeof b)return b(),c;
return d.call(c,a,b)}}return c}function Da(a){function b(a){return new t(function(b){var d=function(){t.resolve(a()).then(b).then(function(){c.shift();if(c.length)c[0]()})};c.push(d);1===c.length&&d()})}var c=[];this.add="number"===typeof a?ba(b,a):b;this.addQuickly=b}function ab(a,b){return a||b?a&&b?a.component===b.component&&bb(a,b)&&bb(b,a):!1:!0}function bb(a,b){for(var c in a)if(!/^(component|left|right|top|bottom)$/.test(c)&&a[c]!==b[c])return!1;return!0}function cb(a){return{start:a.start.clone(),
end:a.end?a.end.clone():null,allDay:a.allDay}}function db(a){a=eb(a);return"background"===a||"inverse-background"===a}function eb(a){return F((a.source||{}).rendering,a.rendering)}function yb(a){var b={},c;for(c=0;c<a.length;c++){var d=a[c];(b[d._id]||(b[d._id]=[])).push(d)}return b}function zb(a,b){return a.start-b.start}function Ab(a){var b=h.dataAttrPrefix,c;b&&(b+="-");if(c=a.data(b+"event")||null){c="object"===typeof c?g.extend({},c):{};var d=c.start;null==d&&(d=c.time);var e=c.duration;var f=
c.stick;delete c.start;delete c.time;delete c.duration;delete c.stick}null==d&&(d=a.data(b+"start"));null==d&&(d=a.data(b+"time"));null==e&&(e=a.data(b+"duration"));null==f&&(f=a.data(b+"stick"));d=null!=d?m.duration(d):null;e=null!=e?m.duration(e):null;return{eventProps:c,startTime:d,duration:e,stick:!!f}}function Bb(a,b){return a.leftCol-b.leftCol}function fb(a){var b=a.forwardSegs,c=0,d;if(void 0===a.forwardPressure){for(d=0;d<b.length;d++){var e=b[d];fb(e);c=Math.max(c,1+e.forwardPressure)}a.forwardPressure=
c}}function gb(a,b,c){c=c||[];for(var d=0;d<b.length;d++){var e=b[d];a.bottom>e.top&&a.top<e.bottom&&c.push(b[d])}return c}function hb(a){this.items=a||[]}function ib(a,b){function c(){f&&(f.remove(),f=e.el=null)}function d(c){var d=g('<div class="fc-'+c+'"/>');(c=b.layout[c])&&g.each(c.split(" "),function(b){var c=g(),e=!0;g.each(this.split(","),function(b,d){var f;if("title"==d)c=c.add(g("<h2>&nbsp;</h2>")),e=!1;else{if(f=(a.options.customButtons||{})[d]){var u=function(a){f.click&&f.click.call(m[0],
a)};var h="";var H=f.text}else(b=a.getViewSpec(d))?(u=function(){a.changeView(d)},p.push(d),h=b.buttonTextOverride,H=b.buttonTextDefault):a[d]&&(u=function(){a[d]()},h=(a.overrides.buttonText||{})[d],H=a.options.buttonText[d]);if(u){b=f?f.themeIcon:a.options.themeButtonIcons[d];var k=f?f.icon:a.options.buttonIcons[d];h=h?q(h):b&&a.options.theme?"<span class='ui-icon ui-icon-"+b+"'></span>":k&&!a.options.theme?"<span class='fc-icon fc-icon-"+k+"'></span>":q(H);H=["fc-"+d+"-button",l+"-button",l+"-state-default"];
var m=g('<button type="button" class="'+H.join(" ")+'">'+h+"</button>").click(function(a){m.hasClass(l+"-state-disabled")||(u(a),(m.hasClass(l+"-state-active")||m.hasClass(l+"-state-disabled"))&&m.removeClass(l+"-state-hover"))}).mousedown(function(){m.not("."+l+"-state-active").not("."+l+"-state-disabled").addClass(l+"-state-down")}).mouseup(function(){m.removeClass(l+"-state-down")}).hover(function(){m.not("."+l+"-state-active").not("."+l+"-state-disabled").addClass(l+"-state-hover")},function(){m.removeClass(l+
"-state-hover").removeClass(l+"-state-down")});c=c.add(m)}}});e&&c.first().addClass(l+"-corner-left").end().last().addClass(l+"-corner-right").end();1<c.length?(b=g("<div/>"),e&&b.addClass("fc-button-group"),b.append(c),d.append(b)):d.append(c)});return d}var e=this;e.setToolbarOptions=function(a){b=a};e.render=function(){var e=b.layout;l=a.options.theme?"ui":"fc";e?(f?f.empty():f=this.el=g("<div class='fc-toolbar "+b.extraClasses+"'/>"),f.append(d("left")).append(d("right")).append(d("center")).append('<div class="fc-clear"/>')):
c()};e.removeElement=c;e.updateTitle=function(a){f&&f.find("h2").text(a)};e.activateButton=function(a){f&&f.find(".fc-"+a+"-button").addClass(l+"-state-active")};e.deactivateButton=function(a){f&&f.find(".fc-"+a+"-button").removeClass(l+"-state-active")};e.disableButton=function(a){f&&f.find(".fc-"+a+"-button").prop("disabled",!0).addClass(l+"-state-disabled")};e.enableButton=function(a){f&&f.find(".fc-"+a+"-button").prop("disabled",!1).removeClass(l+"-state-disabled")};e.getViewsWithButtons=function(){return p};
e.el=null;var f,p=[],l}function jb(a){g.each(Cb,function(b,c){null==a[b]&&(a[b]=c(a))})}function Db(){function a(){var a=E,b=[],c;for(c=0;c<a.length;c++){var d=a[c];d.start.clone().stripZone()<M&&n.getEventEnd(d).stripZone()>O&&b.push(d)}Z=b;n.trigger("eventsReset",Z)}function b(a,b){return!O||a<O||b>M}function c(a,b){O=a;M=b;return d()}function d(){return e(C,"reset")}function e(a,b){"reset"===b?E=[]:"add"!==b&&(E=B(E,a));for(b=0;b<a.length;b++){var c=a[b];"pending"!==c._status&&y++;c._fetchId=(c._fetchId||
0)+1;c._status="pending"}for(b=0;b<a.length;b++)c=a[b],f(c,c._fetchId);return y?new t(function(a){n.one("eventsReceived",a)}):t.resolve(Z)}function f(a,b){u(a,function(c){var d=g.isArray(a.events),e;if(b===a._fetchId&&"rejected"!==a._status){a._status="resolved";if(c)for(e=0;e<c.length;e++){var f=c[e];(f=d?f:G(f,a))&&E.push.apply(E,K(f))}l()}})}function p(a){var b="pending"===a._status;a._status="rejected";b&&l()}function l(){y--;y||(a(E),n.trigger("eventsReceived",Z))}function u(a,b){var c,d=h.sourceFetchers;
for(c=0;c<d.length;c++){var e=d[c].call(n,a,O.clone(),M.clone(),n.options.timezone,b);if(!0===e)return;if("object"==typeof e){u(e,b);return}}if(c=a.events)g.isFunction(c)?(n.pushLoading(),c.call(n,O.clone(),M.clone(),n.options.timezone,function(a){b(a);n.popLoading()})):g.isArray(c)?b(c):b();else if(a.url){var f=a.success,N=a.error,p=a.complete;c=g.isFunction(a.data)?a.data():a.data;c=g.extend({},c||{});d=F(a.startParam,n.options.startParam);e=F(a.endParam,n.options.endParam);var l=F(a.timezoneParam,
n.options.timezoneParam);d&&(c[d]=O.format());e&&(c[e]=M.format());n.options.timezone&&"local"!=n.options.timezone&&(c[l]=n.options.timezone);n.pushLoading();g.ajax(g.extend({},Eb,a,{data:c,success:function(a){a=a||[];var c=ma(f,this,arguments);g.isArray(c)&&(a=c);b(a)},error:function(){ma(N,this,arguments);b()},complete:function(){ma(p,this,arguments);n.popLoading()}}))}else b()}function H(a){var b=h.sourceNormalizers,c;g.isFunction(a)||g.isArray(a)?c={events:a}:"string"===typeof a?c={url:a}:"object"===
typeof a&&(c=g.extend({},a));if(c){c.className?"string"===typeof c.className&&(c.className=c.className.split(/\s+/)):c.className=[];g.isArray(c.events)&&(c.origArray=c.events,c.events=g.map(c.events,function(a){return G(a,c)}));for(a=0;a<b.length;a++)b[a].call(n,c);return c}}function U(b,c){var d;for(d=0;d<b.length;d++)p(b[d]);c?(C=[],E=[]):(C=g.grep(C,function(a){for(d=0;d<b.length;d++)if(a===b[d])return!1;return!0}),E=B(E,b));a()}function q(a){return g.grep(C,function(b){return b.id&&b.id===a})[0]}
function r(a){a?g.isArray(a)||(a=[a]):a=[];var b=[],c;for(c=0;c<a.length;c++)b.push.apply(b,v(a[c]));return b}function v(a){var b;for(b=0;b<C.length;b++){var c=C[b];if(c===a)return[c]}return(c=q(a))?[c]:g.grep(C,function(b){return a&&b&&D(a)==D(b)})}function D(a){return("object"===typeof a?a.origArray||a.googleCalendarId||a.url||a.events:null)||a}function B(a,b){return g.grep(a,function(a){for(var c=0;c<b.length;c++)if(a.source===b[c])return!1;return!0})}function x(b){var c;for(c=0;c<b.length;c++){var d=
b[c];d.start=n.moment(d.start);d.end=d.end?n.moment(d.end):null;I(d,J(d))}a()}function J(a){var b={};g.each(a,function(a,c){/^_|^(id|allDay|start|end)$/.test(a)||void 0!==c&&/undefined|null|boolean|number|string/.test(g.type(c))&&(b[a]=c)});return b}function z(b,c){var d=[],e,f,g;for(f=0;f<b.length;f++)if(e=G(b[f])){e=K(e);for(g=0;g<e.length;g++){var p=e[g];p.source||(c&&(A.events.push(p),p.source=A),E.push(p))}d=d.concat(e)}d.length&&a();return d}function k(a){return g.isFunction(a)?g.grep(E,a):
null!=a?(a+="",g.grep(E,function(b){return b._id==a})):E}function G(a,b){var c={};n.options.eventDataTransform&&(a=n.options.eventDataTransform(a));b&&b.eventDataTransform&&(a=b.eventDataTransform(a));g.extend(c,a);b&&(c.source=b);c._id=a._id||(void 0===a.id?"_fc"+Fb++:a.id+"");c.className=a.className?"string"==typeof a.className?a.className.split(/\s+/):a.className:[];var d=a.start||a.date;var e=a.end;Ta(d)&&(d=m.duration(d));Ta(e)&&(e=m.duration(e));if(a.dow||m.isDuration(d)||m.isDuration(e))c.start=
d?m.duration(d):null,c.end=e?m.duration(e):null,c._recurring=!0;else{if(d&&(d=n.moment(d),!d.isValid()))return!1;e&&(e=n.moment(e),e.isValid()||(e=null));a=a.allDay;void 0===a&&(a=F(b?b.allDayDefault:void 0,n.options.allDayDefault));c.start=d;c.end=e;c.allDay=a;w(c);ca(c)}n.normalizeEvent(c);return c}function w(a){kb(a);a.end&&!a.end.isAfter(a.start)&&(a.end=null);a.end||(a.end=n.options.forceEventDuration?n.getDefaultEventEnd(a.allDay,a.start):null)}function kb(a){null==a.allDay&&(a.allDay=!(a.start.hasTime()||
a.end&&a.end.hasTime()));a.allDay?(a.start.stripTime(),a.end&&a.end.stripTime()):(a.start.hasTime()||(a.start=n.applyTimezone(a.start.time(0))),a.end&&!a.end.hasTime()&&(a.end=n.applyTimezone(a.end.time(0))))}function K(a,b,c){var d=[],e,f;b=b||O;c=c||M;if(a)if(a._recurring){if(e=a.dow){var p={};for(f=0;f<e.length;f++)p[e[f]]=!0}for(b=b.clone().stripTime();b.isBefore(c);){if(!p||p[b.day()]){var l=a.start;var N=a.end;e=b.clone();var k=null;l&&(e=e.time(l));N&&(k=b.clone().time(N));f=g.extend({},a);
l=!l&&!N;N=f;N.start=e;N.end=k;N.allDay=l;w(N);ca(N);d.push(f)}b.add(1,"days")}}else d.push(a);return d}function I(a,b,c){function d(a,d){return c?Sa(a,d,c):b.allDay?m.duration({days:a.clone().stripTime().diff(d.clone().stripTime(),"days")}):Ra(a,d)}var e={};b=b||{};b.start||(b.start=a.start.clone());void 0===b.end&&(b.end=a.end?a.end.clone():null);null==b.allDay&&(b.allDay=a.allDay);w(b);var f={start:a._start.clone(),end:a._end?a._end.clone():n.getDefaultEventEnd(a._allDay,a._start),allDay:b.allDay};
w(f);var p=null!==a._end&&null===b.end;var l=d(b.start,f.start);b.end?(f=d(b.end,f.end),f=f.subtract(l)):f=null;g.each(b,function(a,b){/^_|^(id|allDay|start|end)$/.test(a)||void 0!==b&&(e[a]=b)});a=Q(k(a._id),p,b.allDay,l,f,e);return{dateDelta:l,durationDelta:f,undo:a}}function Q(a,b,c,d,e,f){var p=n.getIsAmbigTimezone(),l=[];d&&!d.valueOf()&&(d=null);e&&!e.valueOf()&&(e=null);g.each(a,function(a,k){var N={start:k.start.clone(),end:k.end?k.end.clone():null,allDay:k.allDay};g.each(f,function(a){N[a]=
k[a]});a={start:k._start,end:k._end,allDay:c};w(a);b?a.end=null:e&&!a.end&&(a.end=n.getDefaultEventEnd(a.allDay,a.start));d&&(a.start.add(d),a.end&&a.end.add(d));e&&a.end.add(e);p&&!a.allDay&&(d||e)&&(a.start.stripZone(),a.end&&a.end.stripZone());g.extend(k,f,a);ca(k);l.push(function(){g.extend(k,N);ca(k)})});return function(){for(var a=0;a<l.length;a++)l[a]()}}var n=this;n.requestEvents=function(a,d){return!n.options.lazyFetching||b(a,d)?c(a,d):t.resolve(Z)};n.reportEventChange=a;n.isFetchNeeded=
b;n.fetchEvents=c;n.fetchEventSources=e;n.refetchEvents=d;n.refetchEventSources=function(a){return e(r(a))};n.getEventSources=function(){return C.slice(1)};n.getEventSourceById=q;n.addEventSource=function(a){if(a=H(a))C.push(a),e([a],"add")};n.removeEventSource=function(a){U(v(a))};n.removeEventSources=function(a){null==a?U(C,!0):U(r(a))};n.updateEvent=function(a){x([a])};n.updateEvents=x;n.renderEvent=function(a,b){return z([a],b)};n.renderEvents=z;n.removeEvents=function(b){var c;if(null==b)b=function(){return!0};
else if(!g.isFunction(b)){var d=b+"";b=function(a){return a._id==d}}E=g.grep(E,b,!0);for(c=0;c<C.length;c++)g.isArray(C[c].events)&&(C[c].events=g.grep(C[c].events,b,!0));a()};n.clientEvents=k;n.mutateEvent=I;n.normalizeEventDates=w;n.normalizeEventTimes=kb;var A={events:[]},C=[A],O,M,y=0,E=[],Z;g.each((n.options.events?[n.options.events]:[]).concat(n.options.eventSources||[]),function(a,b){(a=H(b))&&C.push(a)});n.getEventCache=function(){return E};n.getPrunedEventCache=function(){return Z};n.rezoneArrayEventSources=
function(){var a,b;for(a=0;a<C.length;a++){var c=C[a].events;if(g.isArray(c))for(b=0;b<c.length;b++){var d=c[b];d.start=n.moment(d.start);d.end&&(d.end=n.moment(d.end));ca(d)}}};n.buildEventFromInput=G;n.expandEvent=K}function ca(a){a._allDay=a.allDay;a._start=a.start.clone();a._end=a.end?a.end.clone():null}var h=g.fullCalendar={version:"3.1.0",internalApiVersion:7},J=h.views={};g.fn.fullCalendar=function(a){var b=Array.prototype.slice.call(arguments,1),c=this;this.each(function(d,e){e=g(e);var f=
e.data("fullCalendar");"string"===typeof a?f&&g.isFunction(f[a])&&(f=f[a].apply(f,b),d||(c=f),"destroy"===a&&e.removeData("fullCalendar")):f||(f=new r(e,a),e.data("fullCalendar",f),f.render())});return c};var da=["header","footer","buttonText","buttonIcons","themeButtonIcons"];h.intersectRanges=ka;h.applyAll=ma;h.debounce=ba;h.isInt=R;h.htmlEscape=q;h.cssToStr=na;h.proxy=X;h.capitaliseFirstLetter=Va;h.getOuterRect=ta;h.getClientRect=La;h.getContentRect=function(a,b){var c=a.offset(),d=c.left+(parseFloat(a.css("border-left-width"))||
0)+(parseFloat(a.css("padding-left"))||0)-(b?b.left:0);b=c.top+(parseFloat(a.css("border-top-width"))||0)+(parseFloat(a.css("padding-top"))||0)-(b?b.top:0);return{left:d,right:d+a.width(),top:b,bottom:b+a.height()}};h.getScrollbarWidths=ua;var va=null;h.preventDefault=ja;h.intersectRects=Ma;h.parseFieldSpecs=Na;h.compareByFieldSpecs=Oa;h.compareByFieldSpec=Pa;h.flexibleCompare=Qa;h.computeIntervalUnit=wa;h.divideRangeByDuration=function(a,b,c){if(V(c))return(b-a)/c;var d=c.asMonths();return 1<=Math.abs(d)&&
R(d)?b.diff(a,"months",!0)/d:b.diff(a,"days",!0)/c.asDays()};h.divideDurationByDuration=ya;h.multiplyDuration=function(a,b){if(V(a))return m.duration(a*b);var c=a.asMonths();return 1<=Math.abs(c)&&R(c)?m.duration({months:c*b}):m.duration({days:a.asDays()*b})};h.durationHasTime=V;var lb="sun mon tue wed thu fri sat".split(" "),xa="year month week day hour minute second millisecond".split(" ");h.log=function(){var a=window.console;if(a&&a.log)return a.log.apply(a,arguments)};h.warn=function(){var a=
window.console;return a&&a.warn?a.warn.apply(a,arguments):h.log.apply(h,arguments)};var Ua={}.hasOwnProperty;h.createObject=aa;var ub=/^\s*\d{4}-\d\d$/,vb=/^\s*\d{4}-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?)?$/,z=m.fn,L=g.extend({},z),Ea=m.momentProperties;Ea.push("_fullCalendar");Ea.push("_ambigTime");Ea.push("_ambigZone");h.moment=function(){return za(arguments)};h.moment.utc=function(){var a=za(arguments,!0);a.hasTime()&&a.utc();return a};h.moment.parseZone=
function(){return za(arguments,!0,!0)};z.week=z.weeks=function(a){var b=this._locale._fullCalendar_weekCalc;return null==a&&"function"===typeof b?b(this):"ISO"===b?L.isoWeek.apply(this,arguments):L.week.apply(this,arguments)};z.time=function(a){if(!this._fullCalendar)return L.time.apply(this,arguments);if(null==a)return m.duration({hours:this.hours(),minutes:this.minutes(),seconds:this.seconds(),milliseconds:this.milliseconds()});this._ambigTime=!1;m.isDuration(a)||m.isMoment(a)||(a=m.duration(a));
var b=0;m.isDuration(a)&&(b=24*Math.floor(a.asDays()));return this.hours(b+a.hours()).minutes(a.minutes()).seconds(a.seconds()).milliseconds(a.milliseconds())};z.stripTime=function(){this._ambigTime||(this.utc(!0),this.set({hours:0,minutes:0,seconds:0,ms:0}),this._ambigZone=this._ambigTime=!0);return this};z.hasTime=function(){return!this._ambigTime};z.stripZone=function(){if(!this._ambigZone){var a=this._ambigTime;this.utc(!0);this._ambigTime=a||!1;this._ambigZone=!0}return this};z.hasZone=function(){return!this._ambigZone};
z.local=function(a){L.local.call(this,this._ambigZone||a);this._ambigZone=this._ambigTime=!1;return this};z.utc=function(a){L.utc.call(this,a);this._ambigZone=this._ambigTime=!1;return this};z.utcOffset=function(a){null!=a&&(this._ambigZone=this._ambigTime=!1);return L.utcOffset.apply(this,arguments)};z.format=function(){return this._fullCalendar&&arguments[0]?Wa(this,Ba(arguments[0])):this._ambigTime?S(this,"YYYY-MM-DD"):this._ambigZone?S(this,"YYYY-MM-DD[T]HH:mm:ss"):L.format.apply(this,arguments)};
z.toISOString=function(){return this._ambigTime?S(this,"YYYY-MM-DD"):this._ambigZone?S(this,"YYYY-MM-DD[T]HH:mm:ss"):L.toISOString.apply(this,arguments)};var Xa={t:function(a){return S(a,"a").charAt(0)},T:function(a){return S(a,"A").charAt(0)}};h.formatRange=Ya;var wb={Y:"year",M:"month",D:"day",d:"day",A:"second",a:"second",T:"second",t:"second",H:"second",h:"second",m:"second",s:"second"},Ca={},Gb={Y:{value:1,unit:"year"},M:{value:2,unit:"month"},W:{value:3,unit:"week"},w:{value:3,unit:"week"},
D:{value:4,unit:"day"},d:{value:4,unit:"day"}};h.queryMostGranularFormatUnit=function(a){a=Ba(a);var b,c;for(b=0;b<a.length;b++){var d=a[b];d.token&&(d=Gb[d.token.charAt(0)])&&(!c||d.value>c.value)&&(c=d)}return c?c.unit:null};h.Class=w;w.extend=function(){var a=arguments.length,b;for(b=0;b<a;b++){var c=arguments[b];b<a-1&&la(c,this.prototype)}return xb(this,c||{})};w.mixin=function(a){la(a,this.prototype)};h.Promise=t;t.immediate=!0;t.resolve=function(a){if(a&&"function"===typeof a.resolve)return a.promise();
if(a&&"function"===typeof a.then)return a;var b=g.Deferred().resolve(a).promise();if(t.immediate){var c=b.then;b._value=a;b.then=function(d,e){return"function"===typeof d?t.resolve(d(a)):c.call(b,d,e)}}return b};t.reject=function(){return g.Deferred().reject().promise()};t.all=function(a){var b=!1,c,d;if(t.immediate){b=!0;var e=[];for(c=0;c<a.length;c++)if((d=a[c])&&"function"===typeof d.state&&"resolved"===d.state()&&"_value"in d)e.push(d._value);else if(d&&"function"===typeof d.then){b=!1;break}else e.push(d)}return b?
t.resolve(e):g.when.apply(g.when,a).then(function(){return g.when(g.makeArray(arguments))})};h.TaskQueue=Da;var mb=h.EmitterMixin={on:function(a,b){g(this).on(a,this._prepareIntercept(b));return this},one:function(a,b){g(this).one(a,this._prepareIntercept(b));return this},_prepareIntercept:function(a){var b=function(b,d){return a.apply(d.context||this,d.args||[])};a.guid||(a.guid=g.guid++);b.guid=a.guid;return b},off:function(a,b){g(this).off(a,b);return this},trigger:function(a){var b=Array.prototype.slice.call(arguments,
1);g(this).triggerHandler(a,{args:b});return this},triggerWith:function(a,b,c){g(this).triggerHandler(a,{context:b,args:c});return this}},ea=h.ListenerMixin=function(){var a=0;return{listenerId:null,listenTo:function(a,c,d){if("object"===typeof c)for(var b in c)c.hasOwnProperty(b)&&this.listenTo(a,b,c[b]);else if("string"===typeof c)a.on(c+"."+this.getListenerNamespace(),g.proxy(d,this))},stopListeningTo:function(a,c){a.off((c||"")+"."+this.getListenerNamespace())},getListenerNamespace:function(){null==
this.listenerId&&(this.listenerId=a++);return"_listener"+this.listenerId}}}(),nb={isIgnoringMouse:!1,delayUnignoreMouse:null,initMouseIgnoring:function(a){this.delayUnignoreMouse=ba(X(this,"unignoreMouse"),a||1E3)},tempIgnoreMouse:function(){this.isIgnoringMouse=!0;this.delayUnignoreMouse()},unignoreMouse:function(){this.isIgnoringMouse=!1}},Hb=w.extend(ea,{isHidden:!0,options:null,el:null,margin:10,constructor:function(a){this.options=a||{}},show:function(){this.isHidden&&(this.el||this.render(),
this.el.show(),this.position(),this.isHidden=!1,this.trigger("show"))},hide:function(){this.isHidden||(this.el.hide(),this.isHidden=!0,this.trigger("hide"))},render:function(){var a=this,b=this.options;this.el=g('<div class="fc-popover"/>').addClass(b.className||"").css({top:0,left:0}).append(b.content).appendTo(b.parentEl);this.el.on("click",".fc-close",function(){a.hide()});b.autoHide&&this.listenTo(g(document),"mousedown",this.documentMousedown)},documentMousedown:function(a){this.el&&!g(a.target).closest(this.el).length&&
this.hide()},removeElement:function(){this.hide();this.el&&(this.el.remove(),this.el=null);this.stopListeningTo(g(document),"mousedown")},position:function(){var a=this.options,b=this.el.offsetParent().offset(),c=this.el.outerWidth(),d=this.el.outerHeight(),e=g(window),f=sa(this.el),p;var l=a.top||0;var u=void 0!==a.left?a.left:void 0!==a.right?a.right-c:0;if(f.is(window)||f.is(document)){f=e;var h=p=0}else h=f.offset(),p=h.top,h=h.left;p+=e.scrollTop();h+=e.scrollLeft();!1!==a.viewportConstrain&&
(l=Math.min(l,p+f.outerHeight()-d-this.margin),l=Math.max(l,p+this.margin),u=Math.min(u,h+f.outerWidth()-c-this.margin),u=Math.max(u,h+this.margin));this.el.css({top:l-b.top,left:u-b.left})},trigger:function(a){this.options[a]&&this.options[a].apply(this,Array.prototype.slice.call(arguments,1))}}),oa=h.CoordCache=w.extend({els:null,forcedOffsetParentEl:null,origin:null,boundingRect:null,isHorizontal:!1,isVertical:!1,lefts:null,rights:null,tops:null,bottoms:null,constructor:function(a){this.els=g(a.els);
this.isHorizontal=a.isHorizontal;this.isVertical=a.isVertical;this.forcedOffsetParentEl=a.offsetParent?g(a.offsetParent):null},build:function(){var a=this.forcedOffsetParentEl;!a&&0<this.els.length&&(a=this.els.eq(0).offsetParent());this.origin=a?a.offset():null;this.boundingRect=this.queryBoundingRect();this.isHorizontal&&this.buildElHorizontals();this.isVertical&&this.buildElVerticals()},clear:function(){this.bottoms=this.tops=this.rights=this.lefts=this.boundingRect=this.origin=null},ensureBuilt:function(){this.origin||
this.build()},buildElHorizontals:function(){var a=[],b=[];this.els.each(function(c,d){d=g(d);c=d.offset().left;d=d.outerWidth();a.push(c);b.push(c+d)});this.lefts=a;this.rights=b},buildElVerticals:function(){var a=[],b=[];this.els.each(function(c,d){d=g(d);c=d.offset().top;d=d.outerHeight();a.push(c);b.push(c+d)});this.tops=a;this.bottoms=b},getHorizontalIndex:function(a){this.ensureBuilt();var b=this.lefts,c=this.rights,d=b.length,e;for(e=0;e<d;e++)if(a>=b[e]&&a<c[e])return e},getVerticalIndex:function(a){this.ensureBuilt();
var b=this.tops,c=this.bottoms,d=b.length,e;for(e=0;e<d;e++)if(a>=b[e]&&a<c[e])return e},getLeftOffset:function(a){this.ensureBuilt();return this.lefts[a]},getLeftPosition:function(a){this.ensureBuilt();return this.lefts[a]-this.origin.left},getRightOffset:function(a){this.ensureBuilt();return this.rights[a]},getRightPosition:function(a){this.ensureBuilt();return this.rights[a]-this.origin.left},getWidth:function(a){this.ensureBuilt();return this.rights[a]-this.lefts[a]},getTopOffset:function(a){this.ensureBuilt();
return this.tops[a]},getTopPosition:function(a){this.ensureBuilt();return this.tops[a]-this.origin.top},getBottomOffset:function(a){this.ensureBuilt();return this.bottoms[a]},getBottomPosition:function(a){this.ensureBuilt();return this.bottoms[a]-this.origin.top},getHeight:function(a){this.ensureBuilt();return this.bottoms[a]-this.tops[a]},queryBoundingRect:function(){if(0<this.els.length){var a=sa(this.els.eq(0));if(!a.is(document))return La(a)}return null},isPointInBounds:function(a,b){return this.isLeftInBounds(a)&&
this.isTopInBounds(b)},isLeftInBounds:function(a){return!this.boundingRect||a>=this.boundingRect.left&&a<this.boundingRect.right},isTopInBounds:function(a){return!this.boundingRect||a>=this.boundingRect.top&&a<this.boundingRect.bottom}}),K=h.DragListener=w.extend(ea,nb,{options:null,subjectEl:null,originX:null,originY:null,scrollEl:null,isInteracting:!1,isDistanceSurpassed:!1,isDelayEnded:!1,isDragging:!1,isTouch:!1,delay:null,delayTimeoutId:null,minDistance:null,handleTouchScrollProxy:null,constructor:function(a){this.options=
a||{};this.handleTouchScrollProxy=X(this,"handleTouchScroll");this.initMouseIgnoring(500)},startInteraction:function(a,b){var c=/^touch/.test(a.type);if("mousedown"===a.type){if(this.isIgnoringMouse||1!=a.which||a.ctrlKey)return;a.preventDefault()}this.isInteracting||(b=b||{},this.delay=F(b.delay,this.options.delay,0),this.minDistance=F(b.distance,this.options.distance,0),this.subjectEl=this.options.subjectEl,this.isInteracting=!0,this.isTouch=c,this.isDistanceSurpassed=this.isDelayEnded=!1,this.originX=
I(a),this.originY=A(a),this.scrollEl=sa(g(a.target)),this.bindHandlers(),this.initAutoScroll(),this.handleInteractionStart(a),this.startDelay(a),this.minDistance||this.handleDistanceSurpassed(a))},handleInteractionStart:function(a){this.trigger("interactionStart",a)},endInteraction:function(a,b){this.isInteracting&&(this.endDrag(a),this.delayTimeoutId&&(clearTimeout(this.delayTimeoutId),this.delayTimeoutId=null),this.destroyAutoScroll(),this.unbindHandlers(),this.isInteracting=!1,this.handleInteractionEnd(a,
b),this.isTouch&&this.tempIgnoreMouse())},handleInteractionEnd:function(a,b){this.trigger("interactionEnd",a,b||!1)},bindHandlers:function(){var a=this,b=1;if(this.isTouch){this.listenTo(g(document),{touchmove:this.handleTouchMove,touchend:this.endInteraction,touchcancel:this.endInteraction,touchstart:function(c){b?b--:a.endInteraction(c,!0)}});if(window.addEventListener){window.addEventListener("scroll",this.handleTouchScrollProxy,!0);var c=!0}else c=!1;!c&&this.scrollEl&&this.listenTo(this.scrollEl,
"scroll",this.handleTouchScroll)}else this.listenTo(g(document),{mousemove:this.handleMouseMove,mouseup:this.endInteraction});this.listenTo(g(document),{selectstart:ja,contextmenu:ja})},unbindHandlers:function(){this.stopListeningTo(g(document));window.removeEventListener&&window.removeEventListener("scroll",this.handleTouchScrollProxy,!0);this.scrollEl&&this.stopListeningTo(this.scrollEl,"scroll")},startDrag:function(a,b){this.startInteraction(a,b);this.isDragging||(this.isDragging=!0,this.handleDragStart(a))},
handleDragStart:function(a){this.trigger("dragStart",a)},handleMove:function(a){var b=I(a)-this.originX,c=A(a)-this.originY,d=this.minDistance;this.isDistanceSurpassed||b*b+c*c>=d*d&&this.handleDistanceSurpassed(a);this.isDragging&&this.handleDrag(b,c,a)},handleDrag:function(a,b,c){this.trigger("drag",a,b,c);this.updateAutoScroll(c)},endDrag:function(a){this.isDragging&&(this.isDragging=!1,this.handleDragEnd(a))},handleDragEnd:function(a){this.trigger("dragEnd",a)},startDelay:function(a){var b=this;
this.delay?this.delayTimeoutId=setTimeout(function(){b.handleDelayEnd(a)},this.delay):this.handleDelayEnd(a)},handleDelayEnd:function(a){this.isDelayEnded=!0;this.isDistanceSurpassed&&this.startDrag(a)},handleDistanceSurpassed:function(a){this.isDistanceSurpassed=!0;this.isDelayEnded&&this.startDrag(a)},handleTouchMove:function(a){this.isDragging&&a.preventDefault();this.handleMove(a)},handleMouseMove:function(a){this.handleMove(a)},handleTouchScroll:function(a){this.isDragging||this.endInteraction(a,
!0)},trigger:function(a){this.options[a]&&this.options[a].apply(this,Array.prototype.slice.call(arguments,1));this["_"+a]&&this["_"+a].apply(this,Array.prototype.slice.call(arguments,1))}});K.mixin({isAutoScroll:!1,scrollBounds:null,scrollTopVel:null,scrollLeftVel:null,scrollIntervalId:null,scrollSensitivity:30,scrollSpeed:200,scrollIntervalMs:50,initAutoScroll:function(){var a=this.scrollEl;(this.isAutoScroll=this.options.scroll&&a&&!a.is(window)&&!a.is(document))&&this.listenTo(a,"scroll",ba(this.handleDebouncedScroll,
100))},destroyAutoScroll:function(){this.endAutoScroll();this.isAutoScroll&&this.stopListeningTo(this.scrollEl,"scroll")},computeScrollBounds:function(){this.isAutoScroll&&(this.scrollBounds=ta(this.scrollEl))},updateAutoScroll:function(a){var b=this.scrollSensitivity,c=this.scrollBounds,d=0,e=0;if(c){var f=(b-(A(a)-c.top))/b;var g=(b-(c.bottom-A(a)))/b;var l=(b-(I(a)-c.left))/b;a=(b-(c.right-I(a)))/b;0<=f&&1>=f?d=f*this.scrollSpeed*-1:0<=g&&1>=g&&(d=g*this.scrollSpeed);0<=l&&1>=l?e=l*this.scrollSpeed*
-1:0<=a&&1>=a&&(e=a*this.scrollSpeed)}this.setScrollVel(d,e)},setScrollVel:function(a,b){this.scrollTopVel=a;this.scrollLeftVel=b;this.constrainScrollVel();!this.scrollTopVel&&!this.scrollLeftVel||this.scrollIntervalId||(this.scrollIntervalId=setInterval(X(this,"scrollIntervalFunc"),this.scrollIntervalMs))},constrainScrollVel:function(){var a=this.scrollEl;0>this.scrollTopVel?0>=a.scrollTop()&&(this.scrollTopVel=0):0<this.scrollTopVel&&a.scrollTop()+a[0].clientHeight>=a[0].scrollHeight&&(this.scrollTopVel=
0);0>this.scrollLeftVel?0>=a.scrollLeft()&&(this.scrollLeftVel=0):0<this.scrollLeftVel&&a.scrollLeft()+a[0].clientWidth>=a[0].scrollWidth&&(this.scrollLeftVel=0)},scrollIntervalFunc:function(){var a=this.scrollEl,b=this.scrollIntervalMs/1E3;this.scrollTopVel&&a.scrollTop(a.scrollTop()+this.scrollTopVel*b);this.scrollLeftVel&&a.scrollLeft(a.scrollLeft()+this.scrollLeftVel*b);this.constrainScrollVel();this.scrollTopVel||this.scrollLeftVel||this.endAutoScroll()},endAutoScroll:function(){this.scrollIntervalId&&
(clearInterval(this.scrollIntervalId),this.scrollIntervalId=null,this.handleScrollEnd())},handleDebouncedScroll:function(){this.scrollIntervalId||this.handleScrollEnd()},handleScrollEnd:function(){}});var pa=K.extend({component:null,origHit:null,hit:null,coordAdjust:null,constructor:function(a,b){K.call(this,b);this.component=a},handleInteractionStart:function(a){var b=this.subjectEl,c;this.computeCoords();if(a){var d=c={left:I(a),top:A(a)};if(b){var e=ta(b);d={left:Math.min(Math.max(d.left,e.left),
e.right),top:Math.min(Math.max(d.top,e.top),e.bottom)}}this.origHit=this.queryHit(d.left,d.top);b&&this.options.subjectCenter&&(this.origHit&&(e=Ma(this.origHit,e)||e),d={left:(e.left+e.right)/2,top:(e.top+e.bottom)/2});this.coordAdjust={left:d.left-c.left,top:d.top-c.top}}else this.coordAdjust=this.origHit=null;K.prototype.handleInteractionStart.apply(this,arguments)},computeCoords:function(){this.component.prepareHits();this.computeScrollBounds()},handleDragStart:function(a){var b;K.prototype.handleDragStart.apply(this,
arguments);(b=this.queryHit(I(a),A(a)))&&this.handleHitOver(b)},handleDrag:function(a,b,c){K.prototype.handleDrag.apply(this,arguments);var d=this.queryHit(I(c),A(c));ab(d,this.hit)||(this.hit&&this.handleHitOut(),d&&this.handleHitOver(d))},handleDragEnd:function(){this.handleHitDone();K.prototype.handleDragEnd.apply(this,arguments)},handleHitOver:function(a){var b=ab(a,this.origHit);this.hit=a;this.trigger("hitOver",this.hit,b,this.origHit)},handleHitOut:function(){this.hit&&(this.trigger("hitOut",
this.hit),this.handleHitDone(),this.hit=null)},handleHitDone:function(){this.hit&&this.trigger("hitDone",this.hit)},handleInteractionEnd:function(){K.prototype.handleInteractionEnd.apply(this,arguments);this.hit=this.origHit=null;this.component.releaseHits()},handleScrollEnd:function(){K.prototype.handleScrollEnd.apply(this,arguments);this.computeCoords()},queryHit:function(a,b){this.coordAdjust&&(a+=this.coordAdjust.left,b+=this.coordAdjust.top);return this.component.queryHit(a,b)}}),Ib=w.extend(ea,
{options:null,sourceEl:null,el:null,parentEl:null,top0:null,left0:null,y0:null,x0:null,topDelta:null,leftDelta:null,isFollowing:!1,isHidden:!1,isAnimating:!1,constructor:function(a,b){this.options=b=b||{};this.sourceEl=a;this.parentEl=b.parentEl?g(b.parentEl):a.parent()},start:function(a){this.isFollowing||(this.isFollowing=!0,this.y0=A(a),this.x0=I(a),this.leftDelta=this.topDelta=0,this.isHidden||this.updatePosition(),/^touch/.test(a.type)?this.listenTo(g(document),"touchmove",this.handleMove):this.listenTo(g(document),
"mousemove",this.handleMove))},stop:function(a,b){function c(){d.isAnimating=!1;d.removeElement();d.top0=d.left0=null;b&&b()}var d=this,e=this.options.revertDuration;this.isFollowing&&!this.isAnimating&&(this.isFollowing=!1,this.stopListeningTo(g(document)),a&&e&&!this.isHidden?(this.isAnimating=!0,this.el.animate({top:this.top0,left:this.left0},{duration:e,complete:c})):c())},getEl:function(){var a=this.el;a||(a=this.el=this.sourceEl.clone().addClass(this.options.additionalClass||"").css({position:"absolute",
visibility:"",display:this.isHidden?"none":"",margin:0,right:"auto",bottom:"auto",width:this.sourceEl.width(),height:this.sourceEl.height(),opacity:this.options.opacity||"",zIndex:this.options.zIndex}),a.addClass("fc-unselectable"),a.appendTo(this.parentEl));return a},removeElement:function(){this.el&&(this.el.remove(),this.el=null)},updatePosition:function(){this.getEl();if(null===this.top0){var a=this.sourceEl.offset();var b=this.el.offsetParent().offset();this.top0=a.top-b.top;this.left0=a.left-
b.left}this.el.css({top:this.top0+this.topDelta,left:this.left0+this.leftDelta})},handleMove:function(a){this.topDelta=A(a)-this.y0;this.leftDelta=I(a)-this.x0;this.isHidden||this.updatePosition()},hide:function(){this.isHidden||(this.isHidden=!0,this.el&&this.el.hide())},show:function(){this.isHidden&&(this.isHidden=!1,this.updatePosition(),this.getEl().show())}}),P=h.Grid=w.extend(ea,nb,{hasDayInteractions:!0,view:null,isRTL:null,start:null,end:null,el:null,elsByFill:null,eventTimeFormat:null,displayEventTime:null,
displayEventEnd:null,minResizeDuration:null,largeUnit:null,dayDragListener:null,segDragListener:null,segResizeListener:null,externalDragListener:null,constructor:function(a){this.view=a;this.isRTL=a.opt("isRTL");this.elsByFill={};this.dayDragListener=this.buildDayDragListener();this.initMouseIgnoring()},computeEventTimeFormat:function(){return this.view.opt("smallTimeFormat")},computeDisplayEventTime:function(){return!0},computeDisplayEventEnd:function(){return!0},setRange:function(a){this.start=
a.start.clone();this.end=a.end.clone();this.rangeUpdated();this.processRangeOptions()},rangeUpdated:function(){},processRangeOptions:function(){var a=this.view;this.eventTimeFormat=a.opt("eventTimeFormat")||a.opt("timeFormat")||this.computeEventTimeFormat();var b=a.opt("displayEventTime");null==b&&(b=this.computeDisplayEventTime());a=a.opt("displayEventEnd");null==a&&(a=this.computeDisplayEventEnd());this.displayEventTime=b;this.displayEventEnd=a},spanToSegs:function(a){},diffDates:function(a,b){return this.largeUnit?
Sa(a,b,this.largeUnit):Ra(a,b)},prepareHits:function(){},releaseHits:function(){},queryHit:function(a,b){},getHitSpan:function(a){},getHitEl:function(a){},setElement:function(a){this.el=a;this.hasDayInteractions&&(a.addClass("fc-unselectable").on("selectstart",ja),this.bindDayHandler("touchstart",this.dayTouchStart),this.bindDayHandler("mousedown",this.dayMousedown));this.bindSegHandlers();this.bindGlobalHandlers()},bindDayHandler:function(a,b){var c=this;this.el.on(a,function(a){if(!g(a.target).is(c.segSelector+
","+c.segSelector+" *,.fc-more,a[data-goto]"))return b.call(c,a)})},removeElement:function(){this.unbindGlobalHandlers();this.clearDragListeners();this.el.remove()},renderSkeleton:function(){},renderDates:function(){},unrenderDates:function(){},bindGlobalHandlers:function(){this.listenTo(g(document),{dragstart:this.externalDragStart,sortstart:this.externalDragStart})},unbindGlobalHandlers:function(){this.stopListeningTo(g(document))},dayMousedown:function(a){this.isIgnoringMouse||this.dayDragListener.startInteraction(a,
{})},dayTouchStart:function(a){var b=this.view,c=b.opt("selectLongPressDelay");(b.isSelected||b.selectedEvent)&&this.tempIgnoreMouse();null==c&&(c=b.opt("longPressDelay"));this.dayDragListener.startInteraction(a,{delay:c})},buildDayDragListener:function(){var a=this,b=this.view,c=b.opt("selectable"),d,e,f=new pa(this,{scroll:b.opt("dragScroll"),interactionStart:function(){d=f.origHit;e=null},dragStart:function(){b.unselect()},hitOver:function(b,f,g){g&&(f||(d=null),c&&((e=a.computeSelection(a.getHitSpan(g),
a.getHitSpan(b)))?a.renderSelection(e):!1===e&&fa()))},hitOut:function(){e=d=null;a.unrenderSelection()},hitDone:function(){ha()},interactionEnd:function(c,f){f||(d&&!a.isIgnoringMouse&&b.triggerDayClick(a.getHitSpan(d),a.getHitEl(d),c),e&&b.reportSelection(e,c))}});return f},clearDragListeners:function(){this.dayDragListener.endInteraction();this.segDragListener&&this.segDragListener.endInteraction();this.segResizeListener&&this.segResizeListener.endInteraction();this.externalDragListener&&this.externalDragListener.endInteraction()},
renderEventLocationHelper:function(a,b){a=this.fabricateHelperEvent(a,b);return this.renderHelper(a,b)},fabricateHelperEvent:function(a,b){var c=b?aa(b.event):{};c.start=a.start.clone();c.end=a.end?a.end.clone():null;c.allDay=null;this.view.calendar.normalizeEventDates(c);c.className=(c.className||[]).concat("fc-helper");b||(c.editable=!1);return c},renderHelper:function(a,b){},unrenderHelper:function(){},renderSelection:function(a){this.renderHighlight(a)},unrenderSelection:function(){this.unrenderHighlight()},
computeSelection:function(a,b){return(a=this.computeSelectionSpan(a,b))&&!this.view.calendar.isSelectionSpanAllowed(a)?!1:a},computeSelectionSpan:function(a,b){a=[a.start,a.end,b.start,b.end];a.sort(tb);return{start:a[0].clone(),end:a[3].clone()}},renderHighlight:function(a){this.renderFill("highlight",this.spanToSegs(a))},unrenderHighlight:function(){this.unrenderFill("highlight")},highlightSegClasses:function(){return["fc-highlight"]},renderBusinessHours:function(){},unrenderBusinessHours:function(){},
getNowIndicatorUnit:function(){},renderNowIndicator:function(a){},unrenderNowIndicator:function(){},renderFill:function(a,b){},unrenderFill:function(a){var b=this.elsByFill[a];b&&(b.remove(),delete this.elsByFill[a])},renderFillSegEls:function(a,b){var c=this,d=this[a+"SegEl"],e="",f=[],p;if(b.length){for(p=0;p<b.length;p++)e+=this.fillSegHtml(a,b[p]);g(e).each(function(a,e){a=b[a];e=g(e);d&&(e=d.call(c,a,e));e&&(e=g(e),e.is(c.fillSegTag)&&(a.el=e,f.push(a)))})}return f},fillSegTag:"div",fillSegHtml:function(a,
b){var c=this[a+"SegClasses"];a=this[a+"SegCss"];c=c?c.call(this,b):[];b=na(a?a.call(this,b):{});return"<"+this.fillSegTag+(c.length?' class="'+c.join(" ")+'"':"")+(b?' style="'+b+'"':"")+" />"},getDayClasses:function(a,b){var c=this.view,d=c.calendar.getNow(),e=["fc-"+lb[a.day()]];1==c.intervalDuration.as("months")&&a.month()!=c.intervalStart.month()&&e.push("fc-other-month");a.isSame(d,"day")?(e.push("fc-today"),!0!==b&&e.push(c.highlightStateClass)):a<d?e.push("fc-past"):e.push("fc-future");return e}});
P.mixin({segSelector:".fc-event-container > *",mousedOverSeg:null,isDraggingSeg:!1,isResizingSeg:!1,isDraggingExternal:!1,segs:null,renderEvents:function(a){var b=[],c=[],d;for(d=0;d<a.length;d++)(db(a[d])?b:c).push(a[d]);this.segs=[].concat(this.renderBgEvents(b),this.renderFgEvents(c))},renderBgEvents:function(a){a=this.eventsToSegs(a);return this.renderBgSegs(a)||a},renderFgEvents:function(a){a=this.eventsToSegs(a);return this.renderFgSegs(a)||a},unrenderEvents:function(){this.handleSegMouseout();
this.clearDragListeners();this.unrenderFgSegs();this.unrenderBgSegs();this.segs=null},getEventSegs:function(){return this.segs||[]},renderFgSegs:function(a){},unrenderFgSegs:function(){},renderFgSegEls:function(a,b){var c=this.view,d="",e=[],f;if(a.length){for(f=0;f<a.length;f++)d+=this.fgSegHtml(a[f],b);g(d).each(function(b,d){b=a[b];if(d=c.resolveEventEl(b.event,g(d)))d.data("fc-seg",b),b.el=d,e.push(b)})}return e},fgSegHtml:function(a,b){},renderBgSegs:function(a){return this.renderFill("bgEvent",
a)},unrenderBgSegs:function(){this.unrenderFill("bgEvent")},bgEventSegEl:function(a,b){return this.view.resolveEventEl(a.event,b)},bgEventSegClasses:function(a){a=a.event;return["fc-bgevent"].concat(a.className,(a.source||{}).className||[])},bgEventSegCss:function(a){return{"background-color":this.getSegSkinCss(a)["background-color"]}},businessHoursSegClasses:function(a){return["fc-nonbusiness","fc-bgevent"]},buildBusinessHourSegs:function(a,b){return this.eventsToSegs(this.buildBusinessHourEvents(a,
b))},buildBusinessHourEvents:function(a,b){var c=this.view.calendar;null==b&&(b=c.options.businessHours);a=c.computeBusinessHourEvents(a,b);!a.length&&b&&(a=[g.extend({},ob,{start:this.view.end,end:this.view.end,dow:null})]);return a},bindSegHandlers:function(){this.bindSegHandlersToEl(this.el)},bindSegHandlersToEl:function(a){this.bindSegHandlerToEl(a,"touchstart",this.handleSegTouchStart);this.bindSegHandlerToEl(a,"touchend",this.handleSegTouchEnd);this.bindSegHandlerToEl(a,"mouseenter",this.handleSegMouseover);
this.bindSegHandlerToEl(a,"mouseleave",this.handleSegMouseout);this.bindSegHandlerToEl(a,"mousedown",this.handleSegMousedown);this.bindSegHandlerToEl(a,"click",this.handleSegClick)},bindSegHandlerToEl:function(a,b,c){var d=this;a.on(b,this.segSelector,function(a){var b=g(this).data("fc-seg");if(b&&!d.isDraggingSeg&&!d.isResizingSeg)return c.call(d,b,a)})},handleSegClick:function(a,b){!1===this.view.publiclyTrigger("eventClick",a.el[0],a.event,b)&&b.preventDefault()},handleSegMouseover:function(a,
b){this.isIgnoringMouse||this.mousedOverSeg||(this.mousedOverSeg=a,this.view.isEventResizable(a.event)&&a.el.addClass("fc-allow-mouse-resize"),this.view.publiclyTrigger("eventMouseover",a.el[0],a.event,b))},handleSegMouseout:function(a,b){b=b||{};this.mousedOverSeg&&(a=a||this.mousedOverSeg,this.mousedOverSeg=null,this.view.isEventResizable(a.event)&&a.el.removeClass("fc-allow-mouse-resize"),this.view.publiclyTrigger("eventMouseout",a.el[0],a.event,b))},handleSegMousedown:function(a,b){!this.startSegResize(a,
b,{distance:5})&&this.view.isEventDraggable(a.event)&&this.buildSegDragListener(a).startInteraction(b,{distance:5})},handleSegTouchStart:function(a,b){var c=this.view,d=a.event,e=c.isEventSelected(d),f=c.isEventDraggable(d);d=c.isEventResizable(d);var g=!1;e&&d&&(g=this.startSegResize(a,b));g||!f&&!d||(d=c.opt("eventLongPressDelay"),null==d&&(d=c.opt("longPressDelay")),a=f?this.buildSegDragListener(a):this.buildSegSelectListener(a),a.startInteraction(b,{delay:e?0:d}));this.tempIgnoreMouse()},handleSegTouchEnd:function(a,
b){this.tempIgnoreMouse()},startSegResize:function(a,b,c){return g(b.target).is(".fc-resizer")?(this.buildSegResizeListener(a,g(b.target).is(".fc-start-resizer")).startInteraction(b,c),!0):!1},buildSegDragListener:function(a){var b=this,c=this.view,d=c.calendar,e=a.el,f=a.event,g,l,h;if(this.segDragListener)return this.segDragListener;var m=this.segDragListener=new pa(c,{scroll:c.opt("dragScroll"),subjectEl:e,subjectCenter:!0,interactionStart:function(d){a.component=b;g=!1;l=new Ib(a.el,{additionalClass:"fc-dragging",
parentEl:c.el,opacity:m.isTouch?null:c.opt("dragOpacity"),revertDuration:c.opt("dragRevertDuration"),zIndex:2});l.hide();l.start(d)},dragStart:function(d){m.isTouch&&!c.isEventSelected(f)&&c.selectEvent(f);g=!0;b.handleSegMouseout(a,d);b.segDragStart(a,d);c.hideEvent(f)},hitOver:function(e,g,p){var u;a.hit&&(p=a.hit);(h=b.computeEventDrop(p.component.getHitSpan(p),e.component.getHitSpan(e),f))&&!d.isEventSpanAllowed(b.eventToSpan(h),f)&&(fa(),h=null);h&&(u=c.renderDrag(h,a))?(u.addClass("fc-dragging"),
m.isTouch||b.applyDragOpacity(u),l.hide()):l.show();g&&(h=null)},hitOut:function(){c.unrenderDrag();l.show();h=null},hitDone:function(){ha()},interactionEnd:function(d){delete a.component;l.stop(!h,function(){g&&(c.unrenderDrag(),b.segDragStop(a,d));h?c.reportEventDrop(f,h,b.largeUnit,e,d):c.showEvent(f)});b.segDragListener=null}});return m},buildSegSelectListener:function(a){var b=this,c=this.view,d=a.event;if(this.segDragListener)return this.segDragListener;var e=this.segDragListener=new K({dragStart:function(a){e.isTouch&&
!c.isEventSelected(d)&&c.selectEvent(d)},interactionEnd:function(a){b.segDragListener=null}});return e},segDragStart:function(a,b){this.isDraggingSeg=!0;this.view.publiclyTrigger("eventDragStart",a.el[0],a.event,b,{})},segDragStop:function(a,b){this.isDraggingSeg=!1;this.view.publiclyTrigger("eventDragStop",a.el[0],a.event,b,{})},computeEventDrop:function(a,b,c){var d=this.view.calendar;a=a.start;b=b.start;a.hasTime()===b.hasTime()?(b=this.diffDates(b,a),c.allDay&&V(b)?(c={start:c.start.clone(),end:d.getEventEnd(c),
allDay:!1},d.normalizeEventTimes(c)):c=cb(c),c.start.add(b),c.end&&c.end.add(b)):c={start:b.clone(),end:null,allDay:!b.hasTime()};return c},applyDragOpacity:function(a){var b=this.view.opt("dragOpacity");null!=b&&a.css("opacity",b)},externalDragStart:function(a,b){var c=this.view;if(c.opt("droppable")){var d=g((b?b.item:null)||a.target);c=c.opt("dropAccept");if(g.isFunction(c)?c.call(d[0],d):d.is(c))this.isDraggingExternal||this.listenToExternalDrag(d,a,b)}},listenToExternalDrag:function(a,b,c){var d=
this,e=this.view.calendar,f=Ab(a),g;(d.externalDragListener=new pa(this,{interactionStart:function(){d.isDraggingExternal=!0},hitOver:function(a){(g=d.computeExternalDrop(a.component.getHitSpan(a),f))&&!e.isExternalSpanAllowed(d.eventToSpan(g),g,f.eventProps)&&(fa(),g=null);g&&d.renderDrag(g)},hitOut:function(){g=null},hitDone:function(){ha();d.unrenderDrag()},interactionEnd:function(b){g&&d.view.reportExternalDrop(f,g,a,b,c);d.isDraggingExternal=!1;d.externalDragListener=null}})).startDrag(b)},computeExternalDrop:function(a,
b){a={start:this.view.calendar.applyTimezone(a.start),end:null};b.startTime&&!a.start.hasTime()&&a.start.time(b.startTime);b.duration&&(a.end=a.start.clone().add(b.duration));return a},renderDrag:function(a,b){},unrenderDrag:function(){},buildSegResizeListener:function(a,b){var c=this,d=this.view,e=d.calendar,f=a.el,g=a.event,l=e.getEventEnd(g),h,m;return this.segResizeListener=new pa(this,{scroll:d.opt("dragScroll"),subjectEl:f,interactionStart:function(){h=!1},dragStart:function(b){h=!0;c.handleSegMouseout(a,
b);c.segResizeStart(a,b)},hitOver:function(f,p,h){p=c.getHitSpan(h);f=c.getHitSpan(f);if(m=b?c.computeEventStartResize(p,f,g):c.computeEventEndResize(p,f,g))e.isEventSpanAllowed(c.eventToSpan(m),g)?m.start.isSame(g.start.clone().stripZone())&&m.end.isSame(l.clone().stripZone())&&(m=null):(fa(),m=null);m&&(d.hideEvent(g),c.renderEventResize(m,a))},hitOut:function(){m=null;d.showEvent(g)},hitDone:function(){c.unrenderEventResize();ha()},interactionEnd:function(b){h&&c.segResizeStop(a,b);m?d.reportEventResize(g,
m,c.largeUnit,f,b):d.showEvent(g);c.segResizeListener=null}})},segResizeStart:function(a,b){this.isResizingSeg=!0;this.view.publiclyTrigger("eventResizeStart",a.el[0],a.event,b,{})},segResizeStop:function(a,b){this.isResizingSeg=!1;this.view.publiclyTrigger("eventResizeStop",a.el[0],a.event,b,{})},computeEventStartResize:function(a,b,c){return this.computeEventResize("start",a,b,c)},computeEventEndResize:function(a,b,c){return this.computeEventResize("end",a,b,c)},computeEventResize:function(a,b,
c,d){var e=this.view.calendar;c=this.diffDates(c[a],b[a]);b={start:d.start.clone(),end:e.getEventEnd(d),allDay:d.allDay};b.allDay&&V(c)&&(b.allDay=!1,e.normalizeEventTimes(b));b[a].add(c);b.start.isBefore(b.end)||(d=this.minResizeDuration||(d.allDay?e.defaultAllDayEventDuration:e.defaultTimedEventDuration),"start"==a?b.start=b.end.clone().subtract(d):b.end=b.start.clone().add(d));return b},renderEventResize:function(a,b){},unrenderEventResize:function(){},getEventTimeText:function(a,b,c){null==b&&
(b=this.eventTimeFormat);null==c&&(c=this.displayEventEnd);return this.displayEventTime&&a.start.hasTime()?c&&a.end?this.view.formatRange(a,b):a.start.format(b):""},getSegClasses:function(a,b,c){var d=this.view,e=["fc-event",a.isStart?"fc-start":"fc-not-start",a.isEnd?"fc-end":"fc-not-end"].concat(this.getSegCustomClasses(a));b&&e.push("fc-draggable");c&&e.push("fc-resizable");d.isEventSelected(a.event)&&e.push("fc-selected");return e},getSegCustomClasses:function(a){a=a.event;return[].concat(a.className,
a.source?a.source.className:[])},getSegSkinCss:function(a){return{"background-color":this.getSegBackgroundColor(a),"border-color":this.getSegBorderColor(a),color:this.getSegTextColor(a)}},getSegBackgroundColor:function(a){return a.event.backgroundColor||a.event.color||this.getSegDefaultBackgroundColor(a)},getSegDefaultBackgroundColor:function(a){a=a.event.source||{};return a.backgroundColor||a.color||this.view.opt("eventBackgroundColor")||this.view.opt("eventColor")},getSegBorderColor:function(a){return a.event.borderColor||
a.event.color||this.getSegDefaultBorderColor(a)},getSegDefaultBorderColor:function(a){a=a.event.source||{};return a.borderColor||a.color||this.view.opt("eventBorderColor")||this.view.opt("eventColor")},getSegTextColor:function(a){return a.event.textColor||this.getSegDefaultTextColor(a)},getSegDefaultTextColor:function(a){return(a.event.source||{}).textColor||this.view.opt("eventTextColor")},eventToSegs:function(a){return this.eventsToSegs([a])},eventToSpan:function(a){return this.eventToSpans(a)[0]},
eventToSpans:function(a){var b=this.eventToRange(a);return this.eventRangeToSpans(b,a)},eventsToSegs:function(a,b){var c=this;a=yb(a);var d=[];g.each(a,function(a,f){a=[];var e;for(e=0;e<f.length;e++)a.push(c.eventToRange(f[e]));if("inverse-background"===eb(f[0]))for(a=c.invertRanges(a),e=0;e<a.length;e++)d.push.apply(d,c.eventRangeToSegs(a[e],f[0],b));else for(e=0;e<a.length;e++)d.push.apply(d,c.eventRangeToSegs(a[e],f[e],b))});return d},eventToRange:function(a){var b=this.view.calendar,c=a.start.clone().stripZone();
a=(a.end?a.end.clone():b.getDefaultEventEnd(null!=a.allDay?a.allDay:!a.start.hasTime(),a.start)).stripZone();b.localizeMoment(c);b.localizeMoment(a);return{start:c,end:a}},eventRangeToSegs:function(a,b,c){a=this.eventRangeToSpans(a,b);var d=[],e;for(e=0;e<a.length;e++)d.push.apply(d,this.eventSpanToSegs(a[e],b,c));return d},eventRangeToSpans:function(a,b){return[g.extend({},a)]},eventSpanToSegs:function(a,b,c){c=c?c(a):this.spanToSegs(a);var d;for(d=0;d<c.length;d++){var e=c[d];e.event=b;e.eventStartMS=
+a.start;e.eventDurationMS=a.end-a.start}return c},invertRanges:function(a){var b=this.view,c=b.start.clone();b=b.end.clone();var d=[],e;a.sort(zb);for(e=0;e<a.length;e++){var f=a[e];f.start>c&&d.push({start:c,end:f.start});c=f.end}c<b&&d.push({start:c,end:b});return d},sortEventSegs:function(a){a.sort(X(this,"compareEventSegs"))},compareEventSegs:function(a,b){return a.eventStartMS-b.eventStartMS||b.eventDurationMS-a.eventDurationMS||b.event.allDay-a.event.allDay||Oa(a.event,b.event,this.view.eventOrderSpecs)}});
h.pluckEventDateProps=cb;h.isBgEvent=db;h.dataAttrPrefix="";var pb=h.DayTableMixin={breakOnWeeks:!1,dayDates:null,dayIndices:null,daysPerRow:null,rowCnt:null,colCnt:null,colHeadFormat:null,updateDayTable:function(){for(var a=this.view,b=this.start.clone(),c=-1,d=[],e=[];b.isBefore(this.end);)a.isHiddenDay(b)?d.push(c+.5):(c++,d.push(c),e.push(b.clone())),b.add(1,"days");if(this.breakOnWeeks){b=e[0].day();for(a=1;a<e.length&&e[a].day()!=b;a++);b=Math.ceil(e.length/a)}else b=1,a=e.length;this.dayDates=
e;this.dayIndices=d;this.daysPerRow=a;this.rowCnt=b;this.updateDayTableCols()},updateDayTableCols:function(){this.colCnt=this.computeColCnt();this.colHeadFormat=this.view.opt("columnFormat")||this.computeColHeadFormat()},computeColCnt:function(){return this.daysPerRow},getCellDate:function(a,b){return this.dayDates[this.getCellDayIndex(a,b)].clone()},getCellRange:function(a,b){a=this.getCellDate(a,b);b=a.clone().add(1,"days");return{start:a,end:b}},getCellDayIndex:function(a,b){return a*this.daysPerRow+
this.getColDayIndex(b)},getColDayIndex:function(a){return this.isRTL?this.colCnt-1-a:a},getDateDayIndex:function(a){var b=this.dayIndices;a=a.diff(this.start,"days");return 0>a?b[0]-1:a>=b.length?b[b.length-1]+1:b[a]},computeColHeadFormat:function(){return 1<this.rowCnt||10<this.colCnt?"ddd":1<this.colCnt?this.view.opt("dayOfMonthFormat"):"dddd"},sliceRangeByRow:function(a){var b=this.daysPerRow,c=this.view.computeDayRange(a);a=this.getDateDayIndex(c.start);c=this.getDateDayIndex(c.end.clone().subtract(1,
"days"));var d=[],e;for(e=0;e<this.rowCnt;e++){var f=e*b;var g=f+b-1;var l=Math.max(a,f);g=Math.min(c,g);l=Math.ceil(l);g=Math.floor(g);l<=g&&d.push({row:e,firstRowDayIndex:l-f,lastRowDayIndex:g-f,isStart:l===a,isEnd:g===c})}return d},sliceRangeByDay:function(a){var b=this.daysPerRow,c=this.view.computeDayRange(a);a=this.getDateDayIndex(c.start);c=this.getDateDayIndex(c.end.clone().subtract(1,"days"));var d=[],e,f;for(e=0;e<this.rowCnt;e++){var g=e*b;var l=g+b-1;for(f=g;f<=l;f++){var h=Math.max(a,
f);var m=Math.min(c,f);h=Math.ceil(h);m=Math.floor(m);h<=m&&d.push({row:e,firstRowDayIndex:h-g,lastRowDayIndex:m-g,isStart:h===a,isEnd:m===c})}}return d},renderHeadHtml:function(){return'<div class="fc-row '+this.view.widgetHeaderClass+'"><table><thead>'+this.renderHeadTrHtml()+"</thead></table></div>"},renderHeadIntroHtml:function(){return this.renderIntroHtml()},renderHeadTrHtml:function(){return"<tr>"+(this.isRTL?"":this.renderHeadIntroHtml())+this.renderHeadDateCellsHtml()+(this.isRTL?this.renderHeadIntroHtml():
"")+"</tr>"},renderHeadDateCellsHtml:function(){var a=[],b;for(b=0;b<this.colCnt;b++){var c=this.getCellDate(0,b);a.push(this.renderHeadDateCellHtml(c))}return a.join("")},renderHeadDateCellHtml:function(a,b,c){var d=this.view,e=["fc-day-header",d.widgetHeaderClass];1===this.rowCnt?e=e.concat(this.getDayClasses(a,!0)):e.push("fc-"+lb[a.day()]);return'<th class="'+e.join(" ")+'"'+(1===this.rowCnt?' data-date="'+a.format("YYYY-MM-DD")+'"':"")+(1<b?' colspan="'+b+'"':"")+(c?" "+c:"")+">"+d.buildGotoAnchorHtml({date:a,
forceOff:1<this.rowCnt||1===this.colCnt},q(a.format(this.colHeadFormat)))+"</th>"},renderBgTrHtml:function(a){return"<tr>"+(this.isRTL?"":this.renderBgIntroHtml(a))+this.renderBgCellsHtml(a)+(this.isRTL?this.renderBgIntroHtml(a):"")+"</tr>"},renderBgIntroHtml:function(a){return this.renderIntroHtml()},renderBgCellsHtml:function(a){var b=[],c;for(c=0;c<this.colCnt;c++){var d=this.getCellDate(a,c);b.push(this.renderBgCellHtml(d))}return b.join("")},renderBgCellHtml:function(a,b){var c=this.view,d=this.getDayClasses(a);
d.unshift("fc-day",c.widgetContentClass);return'<td class="'+d.join(" ")+'" data-date="'+a.format("YYYY-MM-DD")+'"'+(b?" "+b:"")+"></td>"},renderIntroHtml:function(){},bookendCells:function(a){var b=this.renderIntroHtml();b&&(this.isRTL?a.append(b):a.prepend(b))}},qa=h.DayGrid=P.extend(pb,{numbersVisible:!1,bottomCoordPadding:0,rowEls:null,cellEls:null,helperEls:null,rowCoordCache:null,colCoordCache:null,renderDates:function(a){var b=this.view,c=this.rowCnt,d=this.colCnt,e="",f;for(f=0;f<c;f++)e+=
this.renderDayRowHtml(f,a);this.el.html(e);this.rowEls=this.el.find(".fc-row");this.cellEls=this.el.find(".fc-day");this.rowCoordCache=new oa({els:this.rowEls,isVertical:!0});this.colCoordCache=new oa({els:this.cellEls.slice(0,this.colCnt),isHorizontal:!0});for(f=0;f<c;f++)for(a=0;a<d;a++)b.publiclyTrigger("dayRender",null,this.getCellDate(f,a),this.getCellEl(f,a))},unrenderDates:function(){this.removeSegPopover()},renderBusinessHours:function(){var a=this.buildBusinessHourSegs(!0);this.renderFill("businessHours",
a,"bgevent")},unrenderBusinessHours:function(){this.unrenderFill("businessHours")},renderDayRowHtml:function(a,b){var c=["fc-row","fc-week",this.view.widgetContentClass];b&&c.push("fc-rigid");return'<div class="'+c.join(" ")+'"><div class="fc-bg"><table>'+this.renderBgTrHtml(a)+'</table></div><div class="fc-content-skeleton"><table>'+(this.numbersVisible?"<thead>"+this.renderNumberTrHtml(a)+"</thead>":"")+"</table></div></div>"},renderNumberTrHtml:function(a){return"<tr>"+(this.isRTL?"":this.renderNumberIntroHtml(a))+
this.renderNumberCellsHtml(a)+(this.isRTL?this.renderNumberIntroHtml(a):"")+"</tr>"},renderNumberIntroHtml:function(a){return this.renderIntroHtml()},renderNumberCellsHtml:function(a){var b=[],c;for(c=0;c<this.colCnt;c++){var d=this.getCellDate(a,c);b.push(this.renderNumberCellHtml(d))}return b.join("")},renderNumberCellHtml:function(a){var b="",c;if(!this.view.dayNumbersVisible&&!this.view.cellWeekNumbersVisible)return"<td/>";var d=this.getDayClasses(a);d.unshift("fc-day-top");this.view.cellWeekNumbersVisible&&
(c="ISO"===a._locale._fullCalendar_weekCalc?1:a._locale.firstDayOfWeek());b+='<td class="'+d.join(" ")+'" data-date="'+a.format()+'">';this.view.cellWeekNumbersVisible&&a.day()==c&&(b+=this.view.buildGotoAnchorHtml({date:a,type:"week"},{"class":"fc-week-number"},a.format("w")));this.view.dayNumbersVisible&&(b+=this.view.buildGotoAnchorHtml(a,{"class":"fc-day-number"},a.date()));return b+"</td>"},computeEventTimeFormat:function(){return this.view.opt("extraSmallTimeFormat")},computeDisplayEventEnd:function(){return 1==
this.colCnt},rangeUpdated:function(){this.updateDayTable()},spanToSegs:function(a){a=this.sliceRangeByRow(a);var b;for(b=0;b<a.length;b++){var c=a[b];this.isRTL?(c.leftCol=this.daysPerRow-1-c.lastRowDayIndex,c.rightCol=this.daysPerRow-1-c.firstRowDayIndex):(c.leftCol=c.firstRowDayIndex,c.rightCol=c.lastRowDayIndex)}return a},prepareHits:function(){this.colCoordCache.build();this.rowCoordCache.build();this.rowCoordCache.bottoms[this.rowCnt-1]+=this.bottomCoordPadding},releaseHits:function(){this.colCoordCache.clear();
this.rowCoordCache.clear()},queryHit:function(a,b){if(this.colCoordCache.isLeftInBounds(a)&&this.rowCoordCache.isTopInBounds(b)&&(a=this.colCoordCache.getHorizontalIndex(a),b=this.rowCoordCache.getVerticalIndex(b),null!=b&&null!=a))return this.getCellHit(b,a)},getHitSpan:function(a){return this.getCellRange(a.row,a.col)},getHitEl:function(a){return this.getCellEl(a.row,a.col)},getCellHit:function(a,b){return{row:a,col:b,component:this,left:this.colCoordCache.getLeftOffset(b),right:this.colCoordCache.getRightOffset(b),
top:this.rowCoordCache.getTopOffset(a),bottom:this.rowCoordCache.getBottomOffset(a)}},getCellEl:function(a,b){return this.cellEls.eq(a*this.colCnt+b)},renderDrag:function(a,b){this.renderHighlight(this.eventToSpan(a));if(b&&b.component!==this)return this.renderEventLocationHelper(a,b)},unrenderDrag:function(){this.unrenderHighlight();this.unrenderHelper()},renderEventResize:function(a,b){this.renderHighlight(this.eventToSpan(a));return this.renderEventLocationHelper(a,b)},unrenderEventResize:function(){this.unrenderHighlight();
this.unrenderHelper()},renderHelper:function(a,b){var c=[];a=this.eventToSegs(a);a=this.renderFgSegEls(a);var d=this.renderSegRows(a);this.rowEls.each(function(a,f){f=g(f);var e=g('<div class="fc-helper-skeleton"><table/></div>');var l=b&&b.row===a?b.el.position().top:f.find(".fc-content-skeleton tbody").position().top;e.css("top",l).find("table").append(d[a].tbodyEl);f.append(e);c.push(e[0])});return this.helperEls=g(c)},unrenderHelper:function(){this.helperEls&&(this.helperEls.remove(),this.helperEls=
null)},fillSegTag:"td",renderFill:function(a,b,c){var d=[],e;b=this.renderFillSegEls(a,b);for(e=0;e<b.length;e++){var f=b[e];var p=this.renderFillRow(a,f,c);this.rowEls.eq(f.row).append(p);d.push(p[0])}this.elsByFill[a]=g(d);return b},renderFillRow:function(a,b,c){var d=this.colCnt,e=b.leftCol,f=b.rightCol+1;c=c||a.toLowerCase();a=g('<div class="fc-'+c+'-skeleton"><table><tr/></table></div>');c=a.find("tr");0<e&&c.append('<td colspan="'+e+'"/>');c.append(b.el.attr("colspan",f-e));f<d&&c.append('<td colspan="'+
(d-f)+'"/>');this.bookendCells(c);return a}});qa.mixin({rowStructs:null,unrenderEvents:function(){this.removeSegPopover();P.prototype.unrenderEvents.apply(this,arguments)},getEventSegs:function(){return P.prototype.getEventSegs.call(this).concat(this.popoverSegs||[])},renderBgSegs:function(a){a=g.grep(a,function(a){return a.event.allDay});return P.prototype.renderBgSegs.call(this,a)},renderFgSegs:function(a){a=this.renderFgSegEls(a);var b=this.rowStructs=this.renderSegRows(a);this.rowEls.each(function(a,
d){g(d).find(".fc-content-skeleton > table").append(b[a].tbodyEl)});return a},unrenderFgSegs:function(){for(var a=this.rowStructs||[],b;b=a.pop();)b.tbodyEl.remove();this.rowStructs=null},renderSegRows:function(a){var b=[],c;a=this.groupSegRows(a);for(c=0;c<a.length;c++)b.push(this.renderSegRow(c,a[c]));return b},fgSegHtml:function(a,b){var c=this.view,d=a.event,e=c.isEventDraggable(d),f=!b&&d.allDay&&a.isStart&&c.isEventResizableFromStart(d);b=!b&&d.allDay&&a.isEnd&&c.isEventResizableFromEnd(d);
e=this.getSegClasses(a,e,f||b);c=na(this.getSegSkinCss(a));var g="";e.unshift("fc-day-grid-event","fc-h-event");a.isStart&&(a=this.getEventTimeText(d))&&(g='<span class="fc-time">'+q(a)+"</span>");a='<span class="fc-title">'+(q(d.title||"")||"&nbsp;")+"</span>";return'<a class="'+e.join(" ")+'"'+(d.url?' href="'+q(d.url)+'"':"")+(c?' style="'+c+'"':"")+'><div class="fc-content">'+(this.isRTL?a+" "+g:g+" "+a)+"</div>"+(f?'<div class="fc-resizer fc-start-resizer" />':"")+(b?'<div class="fc-resizer fc-end-resizer" />':
"")+"</a>"},renderSegRow:function(a,b){function c(a){for(;v<a;)(x=(m[q-1]||[])[v])?x.attr("rowspan",parseInt(x.attr("rowspan")||1,10)+1):(x=g("<td/>"),D.append(x)),h[q][v]=x,m[q][v]=x,v++}var d=this.colCnt,e=this.buildSegLevels(b),f=Math.max(1,e.length),p=g("<tbody/>"),l=[],h=[],m=[],q,r;for(q=0;q<f;q++){var t=e[q];var v=0;var D=g("<tr/>");l.push([]);h.push([]);m.push([]);if(t)for(r=0;r<t.length;r++){var B=t[r];c(B.leftCol);var x=g('<td class="fc-event-container"/>').append(B.el);for(B.leftCol!=B.rightCol?
x.attr("colspan",B.rightCol-B.leftCol+1):m[q][v]=x;v<=B.rightCol;)h[q][v]=x,l[q][v]=B,v++;D.append(x)}c(d);this.bookendCells(D);p.append(D)}return{row:a,tbodyEl:p,cellMatrix:h,segMatrix:l,segLevels:e,segs:b}},buildSegLevels:function(a){var b=[],c,d;this.sortEventSegs(a);for(c=0;c<a.length;c++){var e=a[c];for(d=0;d<b.length;d++){a:{var f,g=b[d];for(f=0;f<g.length;f++){var l=g[f];if(l.leftCol<=e.rightCol&&l.rightCol>=e.leftCol){l=!0;break a}}l=!1}if(!l)break}e.level=d;(b[d]||(b[d]=[])).push(e)}for(d=
0;d<b.length;d++)b[d].sort(Bb);return b},groupSegRows:function(a){var b=[],c;for(c=0;c<this.rowCnt;c++)b.push([]);for(c=0;c<a.length;c++)b[a[c].row].push(a[c]);return b}});qa.mixin({segPopover:null,popoverSegs:null,removeSegPopover:function(){this.segPopover&&this.segPopover.hide()},limitRows:function(a){var b=this.rowStructs||[],c;for(c=0;c<b.length;c++){this.unlimitRow(c);var d=a?"number"===typeof a?a:this.computeRowLevelLimit(c):!1;!1!==d&&this.limitRow(c,d)}},computeRowLevelLimit:function(a){function b(a,
b){f=Math.max(f,g(b).outerHeight())}var c=this.rowEls.eq(a).height();a=this.rowStructs[a].tbodyEl.children();var d;for(d=0;d<a.length;d++){var e=a.eq(d).removeClass("fc-limited");var f=0;e.find("> td > :first-child").each(b);if(e.position().top+f>c)return d}return!1},limitRow:function(a,b){function c(c){for(;p<c;)B=d.getCellSegs(a,p,b),B.length&&(x=r[b-1][p],k=d.renderMoreLink(a,p,B),G=g("<div/>").append(k),x.append(G),f.push(G[0])),p++}var d=this,e=this.rowStructs[a],f=[],p=0,l,h,m;if(b&&b<e.segLevels.length){var q=
e.segLevels[b-1];var r=e.cellMatrix;var t=e.tbodyEl.children().slice(b).addClass("fc-limited").get();for(l=0;l<q.length;l++){var v=q[l];c(v.leftCol);var D=[];for(h=0;p<=v.rightCol;){var B=this.getCellSegs(a,p,b);D.push(B);h+=B.length;p++}if(h){var x=r[b-1][v.leftCol];h=x.attr("rowspan")||1;var w=[];for(m=0;m<D.length;m++){var z=g('<td class="fc-more-cell"/>').attr("rowspan",h);B=D[m];var k=this.renderMoreLink(a,v.leftCol+m,[v].concat(B));var G=g("<div/>").append(k);z.append(G);w.push(z[0]);f.push(z[0])}x.addClass("fc-limited").after(g(w));
t.push(x[0])}}c(this.colCnt);e.moreEls=g(f);e.limitedEls=g(t)}},unlimitRow:function(a){a=this.rowStructs[a];a.moreEls&&(a.moreEls.remove(),a.moreEls=null);a.limitedEls&&(a.limitedEls.removeClass("fc-limited"),a.limitedEls=null)},renderMoreLink:function(a,b,c){var d=this,e=this.view;return g('<a class="fc-more"/>').text(this.getMoreLinkText(c.length)).on("click",function(f){var p=e.opt("eventLimitClick"),l=d.getCellDate(a,b),h=g(this),m=d.getCellEl(a,b),q=d.getCellSegs(a,b);q=d.resliceDaySegs(q,l);
var r=d.resliceDaySegs(c,l);"function"===typeof p&&(p=e.publiclyTrigger("eventLimitClick",null,{date:l,dayEl:m,moreEl:h,segs:q,hiddenSegs:r},f));"popover"===p?d.showSegPopover(a,b,h,q):"string"===typeof p&&e.calendar.zoomTo(l,p)})},showSegPopover:function(a,b,c,d){var e=this,f=this.view;c=c.parent();var g=1==this.rowCnt?f.el:this.rowEls.eq(a);a={className:"fc-more-popover",content:this.renderSegPopoverContent(a,b,d),parentEl:this.view.el,top:g.offset().top,autoHide:!0,viewportConstrain:f.opt("popoverViewportConstrain"),
hide:function(){if(e.popoverSegs)for(var a,b=0;b<e.popoverSegs.length;++b)a=e.popoverSegs[b],f.publiclyTrigger("eventDestroy",a.event,a.event,a.el);e.segPopover.removeElement();e.segPopover=null;e.popoverSegs=null}};this.isRTL?a.right=c.offset().left+c.outerWidth()+1:a.left=c.offset().left-1;this.segPopover=new Hb(a);this.segPopover.show();this.bindSegHandlersToEl(this.segPopover.el)},renderSegPopoverContent:function(a,b,c){var d=this.view,e=d.opt("theme"),f=this.getCellDate(a,b).format(d.opt("dayPopoverFormat"));
d=g('<div class="fc-header '+d.widgetHeaderClass+'"><span class="fc-close '+(e?"ui-icon ui-icon-closethick":"fc-icon fc-icon-x")+'"></span><span class="fc-title">'+q(f)+'</span><div class="fc-clear"/></div><div class="fc-body '+d.widgetContentClass+'"><div class="fc-event-container"></div></div>');e=d.find(".fc-event-container");this.popoverSegs=c=this.renderFgSegEls(c,!0);for(f=0;f<c.length;f++)this.prepareHits(),c[f].hit=this.getCellHit(a,b),this.releaseHits(),e.append(c[f].el);return d},resliceDaySegs:function(a,
b){a=g.map(a,function(a){return a.event});b=b.clone();var c=b.clone().add(1,"days"),d={start:b,end:c};a=this.eventsToSegs(a,function(a){return(a=ka(a,d))?[a]:[]});this.sortEventSegs(a);return a},getMoreLinkText:function(a){var b=this.view.opt("eventLimitText");return"function"===typeof b?b(a):"+"+a+" "+b},getCellSegs:function(a,b,c){a=this.rowStructs[a].segMatrix;c=c||0;for(var d=[],e;c<a.length;)(e=a[c][b])&&d.push(e),c++;return d}});var rb=h.TimeGrid=P.extend(pb,{slotDuration:null,snapDuration:null,
snapsPerSlot:null,minTime:null,maxTime:null,labelFormat:null,labelInterval:null,colEls:null,slatContainerEl:null,slatEls:null,nowIndicatorEls:null,colCoordCache:null,slatCoordCache:null,constructor:function(){P.apply(this,arguments);this.processOptions()},renderDates:function(){this.el.html(this.renderHtml());this.colEls=this.el.find(".fc-day");this.slatContainerEl=this.el.find(".fc-slats");this.slatEls=this.slatContainerEl.find("tr");this.colCoordCache=new oa({els:this.colEls,isHorizontal:!0});this.slatCoordCache=
new oa({els:this.slatEls,isVertical:!0});this.renderContentSkeleton()},renderHtml:function(){return'<div class="fc-bg"><table>'+this.renderBgTrHtml(0)+'</table></div><div class="fc-slats"><table>'+this.renderSlatRowHtml()+"</table></div>"},renderSlatRowHtml:function(){for(var a=this.view,b=this.isRTL,c="",d=m.duration(+this.minTime),e,f,g;d<this.maxTime;)e=this.start.clone().time(d),f=R(ya(d,this.labelInterval)),g='<td class="fc-axis fc-time '+a.widgetContentClass+'" '+a.axisStyleAttr()+">"+(f?"<span>"+
q(e.format(this.labelFormat))+"</span>":"")+"</td>",c+='<tr data-time="'+e.format("HH:mm:ss")+'"'+(f?"":' class="fc-minor"')+">"+(b?"":g)+'<td class="'+a.widgetContentClass+'"/>'+(b?g:"")+"</tr>",d.add(this.slotDuration);return c},processOptions:function(){var a=this.view,b=a.opt("slotDuration"),c=a.opt("snapDuration");b=m.duration(b);c=c?m.duration(c):b;this.slotDuration=b;this.snapDuration=c;this.snapsPerSlot=b/c;this.minResizeDuration=c;this.minTime=m.duration(a.opt("minTime"));this.maxTime=m.duration(a.opt("maxTime"));
c=a.opt("slotLabelFormat");g.isArray(c)&&(c=c[c.length-1]);this.labelFormat=c||a.opt("smallTimeFormat");this.labelInterval=(c=a.opt("slotLabelInterval"))?m.duration(c):this.computeLabelInterval(b)},computeLabelInterval:function(a){var b;for(b=qb.length-1;0<=b;b--){var c=m.duration(qb[b]);var d=ya(c,a);if(R(d)&&1<d)return c}return m.duration(a)},computeEventTimeFormat:function(){return this.view.opt("noMeridiemTimeFormat")},computeDisplayEventEnd:function(){return!0},prepareHits:function(){this.colCoordCache.build();
this.slatCoordCache.build()},releaseHits:function(){this.colCoordCache.clear()},queryHit:function(a,b){var c=this.snapsPerSlot,d=this.colCoordCache,e=this.slatCoordCache;if(d.isLeftInBounds(a)&&e.isTopInBounds(b)){a=d.getHorizontalIndex(a);var f=e.getVerticalIndex(b);if(null!=a&&null!=f){var g=e.getTopOffset(f);e=e.getHeight(f);b=Math.floor((b-g)/e*c);var l=g+b/c*e;g+=(b+1)/c*e;return{col:a,snap:f*c+b,component:this,left:d.getLeftOffset(a),right:d.getRightOffset(a),top:l,bottom:g}}}},getHitSpan:function(a){var b=
this.getCellDate(0,a.col);a=this.computeSnapTime(a.snap);b.time(a);a=b.clone().add(this.snapDuration);return{start:b,end:a}},getHitEl:function(a){return this.colEls.eq(a.col)},rangeUpdated:function(){this.updateDayTable()},computeSnapTime:function(a){return m.duration(this.minTime+this.snapDuration*a)},spanToSegs:function(a){a=this.sliceRangeByTimes(a);var b;for(b=0;b<a.length;b++)a[b].col=this.isRTL?this.daysPerRow-1-a[b].dayIndex:a[b].dayIndex;return a},sliceRangeByTimes:function(a){var b=[],c;
for(c=0;c<this.daysPerRow;c++){var d=this.dayDates[c].clone();d={start:d.clone().time(this.minTime),end:d.clone().time(this.maxTime)};if(d=ka(a,d))d.dayIndex=c,b.push(d)}return b},updateSize:function(a){this.slatCoordCache.build();a&&this.updateSegVerticals([].concat(this.fgSegs||[],this.bgSegs||[],this.businessSegs||[]))},getTotalSlatHeight:function(){return this.slatContainerEl.outerHeight()},computeDateTop:function(a,b){return this.computeTimeTop(m.duration(a-b.clone().stripTime()))},computeTimeTop:function(a){var b=
this.slatEls.length,c=(a-this.minTime)/this.slotDuration;c=Math.max(0,c);c=Math.min(b,c);a=Math.floor(c);a=Math.min(a,b-1);b=c-a;return this.slatCoordCache.getTopPosition(a)+this.slatCoordCache.getHeight(a)*b},renderDrag:function(a,b){if(b)return this.renderEventLocationHelper(a,b);this.renderHighlight(this.eventToSpan(a))},unrenderDrag:function(){this.unrenderHelper();this.unrenderHighlight()},renderEventResize:function(a,b){return this.renderEventLocationHelper(a,b)},unrenderEventResize:function(){this.unrenderHelper()},
renderHelper:function(a,b){return this.renderHelperSegs(this.eventToSegs(a),b)},unrenderHelper:function(){this.unrenderHelperSegs()},renderBusinessHours:function(){this.renderBusinessSegs(this.buildBusinessHourSegs())},unrenderBusinessHours:function(){this.unrenderBusinessSegs()},getNowIndicatorUnit:function(){return"minute"},renderNowIndicator:function(a){var b=this.spanToSegs({start:a,end:a});a=this.computeDateTop(a,a);var c=[],d;for(d=0;d<b.length;d++)c.push(g('<div class="fc-now-indicator fc-now-indicator-line"></div>').css("top",
a).appendTo(this.colContainerEls.eq(b[d].col))[0]);0<b.length&&c.push(g('<div class="fc-now-indicator fc-now-indicator-arrow"></div>').css("top",a).appendTo(this.el.find(".fc-content-skeleton"))[0]);this.nowIndicatorEls=g(c)},unrenderNowIndicator:function(){this.nowIndicatorEls&&(this.nowIndicatorEls.remove(),this.nowIndicatorEls=null)},renderSelection:function(a){this.view.opt("selectHelper")?this.renderEventLocationHelper(a):this.renderHighlight(a)},unrenderSelection:function(){this.unrenderHelper();
this.unrenderHighlight()},renderHighlight:function(a){this.renderHighlightSegs(this.spanToSegs(a))},unrenderHighlight:function(){this.unrenderHighlightSegs()}});rb.mixin({colContainerEls:null,fgContainerEls:null,bgContainerEls:null,helperContainerEls:null,highlightContainerEls:null,businessContainerEls:null,fgSegs:null,bgSegs:null,helperSegs:null,highlightSegs:null,businessSegs:null,renderContentSkeleton:function(){var a="",b;for(b=0;b<this.colCnt;b++)a+='<td><div class="fc-content-col"><div class="fc-event-container fc-helper-container"></div><div class="fc-event-container"></div><div class="fc-highlight-container"></div><div class="fc-bgevent-container"></div><div class="fc-business-container"></div></div></td>';
a=g('<div class="fc-content-skeleton"><table><tr>'+a+"</tr></table></div>");this.colContainerEls=a.find(".fc-content-col");this.helperContainerEls=a.find(".fc-helper-container");this.fgContainerEls=a.find(".fc-event-container:not(.fc-helper-container)");this.bgContainerEls=a.find(".fc-bgevent-container");this.highlightContainerEls=a.find(".fc-highlight-container");this.businessContainerEls=a.find(".fc-business-container");this.bookendCells(a.find("tr"));this.el.append(a)},renderFgSegs:function(a){return this.fgSegs=
a=this.renderFgSegsIntoContainers(a,this.fgContainerEls)},unrenderFgSegs:function(){this.unrenderNamedSegs("fgSegs")},renderHelperSegs:function(a,b){var c=[],d;a=this.renderFgSegsIntoContainers(a,this.helperContainerEls);for(d=0;d<a.length;d++){var e=a[d];if(b&&b.col===e.col){var f=b.el;e.el.css({left:f.css("left"),right:f.css("right"),"margin-left":f.css("margin-left"),"margin-right":f.css("margin-right")})}c.push(e.el[0])}this.helperSegs=a;return g(c)},unrenderHelperSegs:function(){this.unrenderNamedSegs("helperSegs")},
renderBgSegs:function(a){a=this.renderFillSegEls("bgEvent",a);this.updateSegVerticals(a);this.attachSegsByCol(this.groupSegsByCol(a),this.bgContainerEls);return this.bgSegs=a},unrenderBgSegs:function(){this.unrenderNamedSegs("bgSegs")},renderHighlightSegs:function(a){a=this.renderFillSegEls("highlight",a);this.updateSegVerticals(a);this.attachSegsByCol(this.groupSegsByCol(a),this.highlightContainerEls);this.highlightSegs=a},unrenderHighlightSegs:function(){this.unrenderNamedSegs("highlightSegs")},
renderBusinessSegs:function(a){a=this.renderFillSegEls("businessHours",a);this.updateSegVerticals(a);this.attachSegsByCol(this.groupSegsByCol(a),this.businessContainerEls);this.businessSegs=a},unrenderBusinessSegs:function(){this.unrenderNamedSegs("businessSegs")},groupSegsByCol:function(a){var b=[],c;for(c=0;c<this.colCnt;c++)b.push([]);for(c=0;c<a.length;c++)b[a[c].col].push(a[c]);return b},attachSegsByCol:function(a,b){var c,d;for(c=0;c<this.colCnt;c++){var e=a[c];for(d=0;d<e.length;d++)b.eq(c).append(e[d].el)}},
unrenderNamedSegs:function(a){var b=this[a],c;if(b){for(c=0;c<b.length;c++)b[c].el.remove();this[a]=null}},renderFgSegsIntoContainers:function(a,b){var c;a=this.renderFgSegEls(a);var d=this.groupSegsByCol(a);for(c=0;c<this.colCnt;c++)this.updateFgSegCoords(d[c]);this.attachSegsByCol(d,b);return a},fgSegHtml:function(a,b){var c=this.view,d=a.event,e=c.isEventDraggable(d),f=!b&&a.isStart&&c.isEventResizableFromStart(d);b=!b&&a.isEnd&&c.isEventResizableFromEnd(d);e=this.getSegClasses(a,e,f||b);f=na(this.getSegSkinCss(a));
e.unshift("fc-time-grid-event","fc-v-event");if(c.isMultiDayEvent(d)){if(a.isStart||a.isEnd){var g=this.getEventTimeText(a);var l=this.getEventTimeText(a,"LT");var h=this.getEventTimeText(a,null,!1)}}else g=this.getEventTimeText(d),l=this.getEventTimeText(d,"LT"),h=this.getEventTimeText(d,null,!1);return'<a class="'+e.join(" ")+'"'+(d.url?' href="'+q(d.url)+'"':"")+(f?' style="'+f+'"':"")+'><div class="fc-content">'+(g?'<div class="fc-time" data-start="'+q(h)+'" data-full="'+q(l)+'"><span>'+q(g)+
"</span></div>":"")+(d.title?'<div class="fc-title">'+q(d.title)+"</div>":"")+'</div><div class="fc-bg"/>'+(b?'<div class="fc-resizer fc-end-resizer" />':"")+"</a>"},updateSegVerticals:function(a){this.computeSegVerticals(a);this.assignSegVerticals(a)},computeSegVerticals:function(a){var b;for(b=0;b<a.length;b++){var c=a[b];c.top=this.computeDateTop(c.start,c.start);c.bottom=this.computeDateTop(c.end,c.start)}},assignSegVerticals:function(a){var b;for(b=0;b<a.length;b++){var c=a[b];c.el.css(this.generateSegVerticalCss(c))}},
generateSegVerticalCss:function(a){return{top:a.top,bottom:-a.bottom}},updateFgSegCoords:function(a){this.computeSegVerticals(a);this.computeFgSegHorizontals(a);this.assignSegVerticals(a);this.assignFgSegHorizontals(a)},computeFgSegHorizontals:function(a){this.sortEventSegs(a);var b=[];var c,d;for(c=0;c<a.length;c++){var e=a[c];for(d=0;d<b.length&&gb(e,b[d]).length;d++);e.level=d;(b[d]||(b[d]=[])).push(e)}var f;for(a=0;a<b.length;a++)for(c=b[a],e=0;e<c.length;e++)for(d=c[e],d.forwardSegs=[],f=a+1;f<
b.length;f++)gb(d,b[f],d.forwardSegs);if(b=b[0]){for(a=0;a<b.length;a++)fb(b[a]);for(a=0;a<b.length;a++)this.computeFgSegForwardBack(b[a],0,0)}},computeFgSegForwardBack:function(a,b,c){var d=a.forwardSegs;if(void 0===a.forwardCoord)for(d.length?(this.sortForwardSegs(d),this.computeFgSegForwardBack(d[0],b+1,c),a.forwardCoord=d[0].backwardCoord):a.forwardCoord=1,a.backwardCoord=a.forwardCoord-(a.forwardCoord-c)/(b+1),b=0;b<d.length;b++)this.computeFgSegForwardBack(d[b],0,a.forwardCoord)},sortForwardSegs:function(a){a.sort(X(this,
"compareForwardSegs"))},compareForwardSegs:function(a,b){return b.forwardPressure-a.forwardPressure||(a.backwardCoord||0)-(b.backwardCoord||0)||this.compareEventSegs(a,b)},assignFgSegHorizontals:function(a){var b;for(b=0;b<a.length;b++){var c=a[b];c.el.css(this.generateFgSegHorizontalCss(c));30>c.bottom-c.top&&c.el.addClass("fc-short")}},generateFgSegHorizontalCss:function(a){var b=this.view.opt("slotEventOverlap"),c=a.backwardCoord,d=a.forwardCoord,e=this.generateSegVerticalCss(a);b&&(d=Math.min(1,
c+2*(d-c)));if(this.isRTL)var f=1-d;else f=c,c=1-d;e.zIndex=a.level+1;e.left=100*f+"%";e.right=100*c+"%";b&&a.forwardPressure&&(e[this.isRTL?"marginLeft":"marginRight"]=20);return e}});var T=h.View=w.extend(mb,ea,{type:null,name:null,title:null,calendar:null,options:null,el:null,isDateSet:!1,isDateRendered:!1,dateRenderQueue:null,isEventsBound:!1,isEventsSet:!1,isEventsRendered:!1,eventRenderQueue:null,start:null,end:null,intervalStart:null,intervalEnd:null,intervalDuration:null,intervalUnit:null,
isRTL:!1,isSelected:!1,selectedEvent:null,eventOrderSpecs:null,widgetHeaderClass:null,widgetContentClass:null,highlightStateClass:null,nextDayThreshold:null,isHiddenDayHash:null,isNowIndicatorRendered:null,initialNowDate:null,initialNowQueriedMs:null,nowIndicatorTimeoutID:null,nowIndicatorIntervalID:null,constructor:function(a,b,c,d){this.calendar=a;this.type=this.name=b;this.options=c;this.intervalDuration=d||m.duration(1,"day");this.nextDayThreshold=m.duration(this.opt("nextDayThreshold"));this.initThemingProps();
this.initHiddenDays();this.isRTL=this.opt("isRTL");this.eventOrderSpecs=Na(this.opt("eventOrder"));this.dateRenderQueue=new Da;this.eventRenderQueue=new Da(this.opt("eventRenderWait"));this.initialize()},initialize:function(){},opt:function(a){return this.options[a]},publiclyTrigger:function(a,b){var c=this.calendar;return c.publiclyTrigger.apply(c,[a,b||this].concat(Array.prototype.slice.call(arguments,2),[this]))},rejectOn:function(a,b){var c=this;return new t(function(d,e){c.one(a,e);b.then(function(b){c.off(a,
e);d(b)},function(){c.off(a,e);e()})})},setRange:function(a){g.extend(this,a);this.updateTitle()},computeRange:function(a){var b=wa(this.intervalDuration);a=a.clone().startOf(b);var c=a.clone().add(this.intervalDuration);/year|month|week|day/.test(b)?(a.stripTime(),c.stripTime()):(a.hasTime()||(a=this.calendar.time(0)),c.hasTime()||(c=this.calendar.time(0)));var d=a.clone();d=this.skipHiddenDays(d);var e=c.clone();e=this.skipHiddenDays(e,-1,!0);return{intervalUnit:b,intervalStart:a,intervalEnd:c,
start:d,end:e}},computePrevDate:function(a){return this.massageCurrentDate(a.clone().startOf(this.intervalUnit).subtract(this.intervalDuration),-1)},computeNextDate:function(a){return this.massageCurrentDate(a.clone().startOf(this.intervalUnit).add(this.intervalDuration))},massageCurrentDate:function(a,b){1>=this.intervalDuration.as("days")&&this.isHiddenDay(a)&&(a=this.skipHiddenDays(a,b),a.startOf("day"));return a},updateTitle:function(){this.title=this.computeTitle();this.calendar.setToolbarsTitle(this.title)},
computeTitle:function(){return this.formatRange({start:this.calendar.applyTimezone(this.intervalStart),end:this.calendar.applyTimezone(this.intervalEnd)},this.opt("titleFormat")||this.computeTitleFormat(),this.opt("titleRangeSeparator"))},computeTitleFormat:function(){return"year"==this.intervalUnit?"YYYY":"month"==this.intervalUnit?this.opt("monthYearFormat"):1<this.intervalDuration.as("days")?"ll":"LL"},formatRange:function(a,b,c){var d=a.end;d.hasTime()||(d=d.clone().subtract(1));return Ya(a.start,
d,b,c,this.opt("isRTL"))},getAllDayHtml:function(){return this.opt("allDayHtml")||q(this.opt("allDayText"))},buildGotoAnchorHtml:function(a,b,c){if(g.isPlainObject(a)){var d=a.date;var e=a.type;var f=a.forceOff}else d=a;d=h.moment(d);a={date:d.format("YYYY-MM-DD"),type:e||"day"};"string"===typeof b&&(c=b,b=null);b=b?" "+sb(b):"";c=c||"";return!f&&this.opt("navLinks")?"<a"+b+' data-goto="'+q(JSON.stringify(a))+'">'+c+"</a>":"<span"+b+">"+c+"</span>"},setElement:function(a){this.el=a;this.bindGlobalHandlers();
this.renderSkeleton()},removeElement:function(){this.unsetDate();this.unrenderSkeleton();this.unbindGlobalHandlers();this.el.remove()},renderSkeleton:function(){},unrenderSkeleton:function(){},setDate:function(a){var b=this.isDateSet;this.isDateSet=!0;this.handleDate(a,b);this.trigger(b?"dateReset":"dateSet",a)},unsetDate:function(){this.isDateSet&&(this.isDateSet=!1,this.handleDateUnset(),this.trigger("dateUnset"))},handleDate:function(a,b){var c=this;this.unbindEvents();this.requestDateRender(a).then(function(){c.bindEvents()})},
handleDateUnset:function(){this.unbindEvents();this.requestDateUnrender()},requestDateRender:function(a){var b=this;return this.dateRenderQueue.add(function(){return b.executeDateRender(a)})},requestDateUnrender:function(){var a=this;return this.dateRenderQueue.add(function(){return a.executeDateUnrender()})},executeDateRender:function(a){var b=this;a?this.captureInitialScroll():this.captureScroll();this.freezeHeight();return this.executeDateUnrender().then(function(){a&&b.setRange(b.computeRange(a));
b.render&&b.render();b.renderDates();b.updateSize();b.renderBusinessHours();b.startNowIndicator();b.thawHeight();b.releaseScroll();b.isDateRendered=!0;b.onDateRender();b.trigger("dateRender")})},executeDateUnrender:function(){var a=this;return a.isDateRendered?this.requestEventsUnrender().then(function(){a.unselect();a.stopNowIndicator();a.triggerUnrender();a.unrenderBusinessHours();a.unrenderDates();a.destroy&&a.destroy();a.isDateRendered=!1;a.trigger("dateUnrender")}):t.resolve()},onDateRender:function(){this.triggerRender()},
renderDates:function(){},unrenderDates:function(){},triggerRender:function(){this.publiclyTrigger("viewRender",this,this,this.el)},triggerUnrender:function(){this.publiclyTrigger("viewDestroy",this,this,this.el)},bindGlobalHandlers:function(){this.listenTo(g(document),"mousedown",this.handleDocumentMousedown);this.listenTo(g(document),"touchstart",this.processUnselect)},unbindGlobalHandlers:function(){this.stopListeningTo(g(document))},initThemingProps:function(){var a=this.opt("theme")?"ui":"fc";
this.widgetHeaderClass=a+"-widget-header";this.widgetContentClass=a+"-widget-content";this.highlightStateClass=a+"-state-highlight"},renderBusinessHours:function(){},unrenderBusinessHours:function(){},startNowIndicator:function(){var a=this,b;if(this.opt("nowIndicator")&&(b=this.getNowIndicatorUnit())){var c=X(this,"updateNowIndicator");this.initialNowDate=this.calendar.getNow();this.initialNowQueriedMs=+new Date;this.renderNowIndicator(this.initialNowDate);this.isNowIndicatorRendered=!0;var d=this.initialNowDate.clone().startOf(b).add(1,
b)-this.initialNowDate;this.nowIndicatorTimeoutID=setTimeout(function(){a.nowIndicatorTimeoutID=null;c();d=+m.duration(1,b);d=Math.max(100,d);a.nowIndicatorIntervalID=setInterval(c,d)},d)}},updateNowIndicator:function(){this.isNowIndicatorRendered&&(this.unrenderNowIndicator(),this.renderNowIndicator(this.initialNowDate.clone().add(new Date-this.initialNowQueriedMs)))},stopNowIndicator:function(){this.isNowIndicatorRendered&&(this.nowIndicatorTimeoutID&&(clearTimeout(this.nowIndicatorTimeoutID),this.nowIndicatorTimeoutID=
null),this.nowIndicatorIntervalID&&(clearTimeout(this.nowIndicatorIntervalID),this.nowIndicatorIntervalID=null),this.unrenderNowIndicator(),this.isNowIndicatorRendered=!1)},getNowIndicatorUnit:function(){},renderNowIndicator:function(a){},unrenderNowIndicator:function(){},updateSize:function(a){a&&this.captureScroll();this.updateHeight(a);this.updateWidth(a);this.updateNowIndicator();a&&this.releaseScroll()},updateWidth:function(a){},updateHeight:function(a){a=this.calendar;this.setHeight(a.getSuggestedViewHeight(),
a.isHeightAuto())},setHeight:function(a,b){},capturedScroll:null,capturedScrollDepth:0,captureScroll:function(){return this.capturedScrollDepth++?!1:(this.capturedScroll=this.isDateRendered?this.queryScroll():{},!0)},captureInitialScroll:function(a){this.captureScroll()&&(this.capturedScroll.isInitial=!0,a?g.extend(this.capturedScroll,a):this.capturedScroll.isComputed=!0)},releaseScroll:function(){var a=this.capturedScroll,b=this.discardScroll();a.isComputed&&(b?g.extend(a,this.computeInitialScroll()):
a=null);a&&(a.isInitial?this.hardSetScroll(a):this.setScroll(a))},discardScroll:function(){return--this.capturedScrollDepth?!1:(this.capturedScroll=null,!0)},computeInitialScroll:function(){return{}},queryScroll:function(){return{}},hardSetScroll:function(a){var b=this,c=function(){b.setScroll(a)};c();setTimeout(c,0)},setScroll:function(a){},freezeHeight:function(){this.calendar.freezeContentHeight()},thawHeight:function(){this.calendar.thawContentHeight()},bindEvents:function(){var a=this;this.isEventsBound||
(this.isEventsBound=!0,this.rejectOn("eventsUnbind",this.requestEvents()).then(function(b){a.listenTo(a.calendar,"eventsReset",a.setEvents);a.setEvents(b)}))},unbindEvents:function(){this.isEventsBound&&(this.isEventsBound=!1,this.stopListeningTo(this.calendar,"eventsReset"),this.unsetEvents(),this.trigger("eventsUnbind"))},setEvents:function(a){var b=this.isEventSet;this.isEventsSet=!0;this.handleEvents(a,b);this.trigger(b?"eventsReset":"eventsSet",a)},unsetEvents:function(){this.isEventsSet&&(this.isEventsSet=
!1,this.handleEventsUnset(),this.trigger("eventsUnset"))},whenEventsSet:function(){var a=this;return this.isEventsSet?t.resolve(this.getCurrentEvents()):new t(function(b){a.one("eventsSet",b)})},handleEvents:function(a,b){this.requestEventsRender(a)},handleEventsUnset:function(){this.requestEventsUnrender()},requestEventsRender:function(a){var b=this;return this.eventRenderQueue.add(function(){return b.executeEventsRender(a)})},requestEventsUnrender:function(){var a=this;return this.isEventsRendered?
this.eventRenderQueue.addQuickly(function(){return a.executeEventsUnrender()}):t.resolve()},requestCurrentEventsRender:function(){if(this.isEventsSet)this.requestEventsRender(this.getCurrentEvents());else return t.reject()},executeEventsRender:function(a){var b=this;this.captureScroll();this.freezeHeight();return this.executeEventsUnrender().then(function(){b.renderEvents(a);b.thawHeight();b.releaseScroll();b.isEventsRendered=!0;b.onEventsRender();b.trigger("eventsRender")})},executeEventsUnrender:function(){this.isEventsRendered&&
(this.onBeforeEventsUnrender(),this.captureScroll(),this.freezeHeight(),this.destroyEvents&&this.destroyEvents(),this.unrenderEvents(),this.thawHeight(),this.releaseScroll(),this.isEventsRendered=!1,this.trigger("eventsUnrender"));return t.resolve()},onEventsRender:function(){this.renderedEventSegEach(function(a){this.publiclyTrigger("eventAfterRender",a.event,a.event,a.el)});this.publiclyTrigger("eventAfterAllRender")},onBeforeEventsUnrender:function(){this.renderedEventSegEach(function(a){this.publiclyTrigger("eventDestroy",
a.event,a.event,a.el)})},renderEvents:function(a){},unrenderEvents:function(){},requestEvents:function(){return this.calendar.requestEvents(this.start,this.end)},getCurrentEvents:function(){return this.calendar.getPrunedEventCache()},resolveEventEl:function(a,b){a=this.publiclyTrigger("eventRender",a,a,b);!1===a?b=null:a&&!0!==a&&(b=g(a));return b},showEvent:function(a){this.renderedEventSegEach(function(a){a.el.css("visibility","")},a)},hideEvent:function(a){this.renderedEventSegEach(function(a){a.el.css("visibility",
"hidden")},a)},renderedEventSegEach:function(a,b){var c=this.getEventSegs(),d;for(d=0;d<c.length;d++)b&&c[d].event._id!==b._id||c[d].el&&a.call(this,c[d])},getEventSegs:function(){return[]},isEventDraggable:function(a){return this.isEventStartEditable(a)},isEventStartEditable:function(a){return F(a.startEditable,(a.source||{}).startEditable,this.opt("eventStartEditable"),this.isEventGenerallyEditable(a))},isEventGenerallyEditable:function(a){return F(a.editable,(a.source||{}).editable,this.opt("editable"))},
reportEventDrop:function(a,b,c,d,e){var f=this.calendar,g=f.mutateEvent(a,b,c);this.triggerEventDrop(a,g.dateDelta,function(){g.undo();f.reportEventChange()},d,e);f.reportEventChange()},triggerEventDrop:function(a,b,c,d,e){this.publiclyTrigger("eventDrop",d[0],a,b,c,e,{})},reportExternalDrop:function(a,b,c,d,e){var f=a.eventProps;if(f){f=g.extend({},f,b);var h=this.calendar.renderEvent(f,a.stick)[0]}this.triggerExternalDrop(h,b,c,d,e)},triggerExternalDrop:function(a,b,c,d,e){this.publiclyTrigger("drop",
c[0],b.start,d,e);a&&this.publiclyTrigger("eventReceive",null,a)},renderDrag:function(a,b){},unrenderDrag:function(){},isEventResizableFromStart:function(a){return this.opt("eventResizableFromStart")&&this.isEventResizable(a)},isEventResizableFromEnd:function(a){return this.isEventResizable(a)},isEventResizable:function(a){var b=a.source||{};return F(a.durationEditable,b.durationEditable,this.opt("eventDurationEditable"),a.editable,b.editable,this.opt("editable"))},reportEventResize:function(a,b,
c,d,e){var f=this.calendar,g=f.mutateEvent(a,b,c);this.triggerEventResize(a,g.durationDelta,function(){g.undo();f.reportEventChange()},d,e);f.reportEventChange()},triggerEventResize:function(a,b,c,d,e){this.publiclyTrigger("eventResize",d[0],a,b,c,e,{})},select:function(a,b){this.unselect(b);this.renderSelection(a);this.reportSelection(a,b)},renderSelection:function(a){},reportSelection:function(a,b){this.isSelected=!0;this.triggerSelect(a,b)},triggerSelect:function(a,b){this.publiclyTrigger("select",
null,this.calendar.applyTimezone(a.start),this.calendar.applyTimezone(a.end),b)},unselect:function(a){this.isSelected&&(this.isSelected=!1,this.destroySelection&&this.destroySelection(),this.unrenderSelection(),this.publiclyTrigger("unselect",null,a))},unrenderSelection:function(){},selectEvent:function(a){this.selectedEvent&&this.selectedEvent===a||(this.unselectEvent(),this.renderedEventSegEach(function(a){a.el.addClass("fc-selected")},a),this.selectedEvent=a)},unselectEvent:function(){this.selectedEvent&&
(this.renderedEventSegEach(function(a){a.el.removeClass("fc-selected")},this.selectedEvent),this.selectedEvent=null)},isEventSelected:function(a){return this.selectedEvent&&this.selectedEvent._id===a._id},handleDocumentMousedown:function(a){1!=a.which||a.ctrlKey||this.processUnselect(a)},processUnselect:function(a){this.processRangeUnselect(a);this.processEventUnselect(a)},processRangeUnselect:function(a){var b;this.isSelected&&this.opt("unselectAuto")&&((b=this.opt("unselectCancel"))&&g(a.target).closest(b).length||
this.unselect(a))},processEventUnselect:function(a){this.selectedEvent&&(g(a.target).closest(".fc-selected").length||this.unselectEvent())},triggerDayClick:function(a,b,c){this.publiclyTrigger("dayClick",b,this.calendar.applyTimezone(a.start),c)},initHiddenDays:function(){var a=this.opt("hiddenDays")||[],b=[],c=0,d;!1===this.opt("weekends")&&a.push(0,6);for(d=0;7>d;d++)(b[d]=-1!==g.inArray(d,a))||c++;if(!c)throw"invalid hiddenDays";this.isHiddenDayHash=b},isHiddenDay:function(a){m.isMoment(a)&&(a=
a.day());return this.isHiddenDayHash[a]},skipHiddenDays:function(a,b,c){a=a.clone();for(b=b||1;this.isHiddenDayHash[(a.day()+(c?b:0)+7)%7];)a.add(b,"days");return a},computeDayRange:function(a){var b=a.start.clone().stripTime();a=a.end;var c=null,d;a&&(c=a.clone().stripTime(),(d=+a.time())&&d>=this.nextDayThreshold&&c.add(1,"days"));if(!a||c<=b)c=b.clone().add(1,"days");return{start:b,end:c}},isMultiDayEvent:function(a){a=this.computeDayRange(a);return 1<a.end.diff(a.start,"days")}}),Fa=h.Scroller=
w.extend({el:null,scrollEl:null,overflowX:null,overflowY:null,constructor:function(a){a=a||{};this.overflowX=a.overflowX||a.overflow||"auto";this.overflowY=a.overflowY||a.overflow||"auto"},render:function(){this.el=this.renderEl();this.applyOverflow()},renderEl:function(){return this.scrollEl=g('<div class="fc-scroller"></div>')},clear:function(){this.setHeight("auto");this.applyOverflow()},destroy:function(){this.el.remove()},applyOverflow:function(){this.scrollEl.css({"overflow-x":this.overflowX,
"overflow-y":this.overflowY})},lockOverflow:function(a){var b=this.overflowX,c=this.overflowY;a=a||this.getScrollbarWidths();"auto"===b&&(b=a.top||a.bottom||this.scrollEl[0].scrollWidth-1>this.scrollEl[0].clientWidth?"scroll":"hidden");"auto"===c&&(c=a.left||a.right||this.scrollEl[0].scrollHeight-1>this.scrollEl[0].clientHeight?"scroll":"hidden");this.scrollEl.css({"overflow-x":b,"overflow-y":c})},setHeight:function(a){this.scrollEl.height(a)},getScrollTop:function(){return this.scrollEl.scrollTop()},
setScrollTop:function(a){this.scrollEl.scrollTop(a)},getClientWidth:function(){return this.scrollEl[0].clientWidth},getClientHeight:function(){return this.scrollEl[0].clientHeight},getScrollbarWidths:function(){return ua(this.scrollEl)}});hb.prototype.proxyCall=function(a){var b=Array.prototype.slice.call(arguments,1),c=[];this.items.forEach(function(d){c.push(d[a].apply(d,b))});return c};var r=h.Calendar=w.extend({dirDefaults:null,localeDefaults:null,overrides:null,dynamicOverrides:null,options:null,
viewSpecCache:null,view:null,header:null,footer:null,loadingLevel:0,constructor:function(a,b){function c(a){a._locale=G}function d(){a.addClass("fc");a.on("click.fc","a[data-goto]",function(a){var b=g(this).data("goto"),c=k.moment(b.date);b=b.type;var d=n.opt("navLink"+Va(b)+"Click");"function"===typeof d?d(c,a):("string"===typeof d&&(b=d),B(c,b))});k.bindOption("theme",function(b){a.toggleClass("ui-widget",b);a.toggleClass("fc-unthemed",!b)});k.bindOptions(["isRTL","locale"],function(b){a.toggleClass("fc-ltr",
!b);a.toggleClass("fc-rtl",b)});Q=g("<div class='fc-view-container'/>").prependTo(a);var b=[new ib(k,w()),new ib(k,z())];A=new hb(b);I=k.header=b[0];L=k.footer=b[1];v();D();f(k.options.defaultView);k.options.handleWindowResize&&(O=ba(t,k.options.windowResizeDelay),g(window).resize(O))}function e(){return a.is(":visible")}function f(a,b){M++;var c=n&&a&&n.type!==a;c&&(x(),p());!n&&a&&(n=k.view=P[a]||(P[a]=k.instantiateView(a)),n.setElement(g("<div class='fc-view fc-"+a+"-view' />").appendTo(Q)),A.proxyCall("activateButton",
a));n&&(y=n.massageCurrentDate(y),n.isDateSet&&y>=n.intervalStart&&y<n.intervalEnd||!e()||(b&&n.captureInitialScroll(b),n.setDate(y,b),b&&n.releaseScroll(),a=k.getNow(),a>=n.intervalStart&&a<n.intervalEnd?A.proxyCall("disableButton","today"):A.proxyCall("enableButton","today")));c&&F();M--}function p(){A.proxyCall("deactivateButton",n.type);n.removeElement();n=k.view=null}function l(a){if(e())return a&&q(),M++,n.updateSize(!0),M--,!0}function q(){var b=k.options.contentHeight,c=k.options.height;C=
"number"===typeof b?b:"function"===typeof b?b():"number"===typeof c?c-r():"function"===typeof c?c()-r():"parent"===c?a.parent().height()-r():Math.round(Q.width()/Math.max(k.options.aspectRatio,.5))}function r(){return A.items.reduce(function(a,b){b=b.el?b.el.outerHeight(!0):0;return a+b},0)}function t(a){!M&&a.target===window&&n.start&&l(!0)&&n.publiclyTrigger("windowResize",K)}function w(){return{extraClasses:"fc-header-toolbar",layout:k.options.header}}function z(){return{extraClasses:"fc-footer-toolbar",
layout:k.options.footer}}function v(){I.setToolbarOptions(w());I.render();I.el&&a.prepend(I.el)}function D(){L.setToolbarOptions(z());L.render();L.el&&a.append(L.el)}function B(a,b){b=b||"day";b=k.getViewSpec(b)||k.getUnitViewSpec(b);y=a.clone();f(b?b.type:null)}function x(){E++||Q.css({width:"100%",height:Q.height(),overflow:"hidden"})}function F(){--E||Q.css({width:"",height:"",overflow:""})}function J(a){var b=0,c;for(c in a)k.dynamicOverrides[c]=a[c];k.viewSpecCache={};k.populateOptionsHash();
for(c in a)k.triggerOptionHandlers(c),b++;if(1===b){if("height"===c||"contentHeight"===c||"aspectRatio"===c){l(!0);return}if("defaultDate"===c)return;if("businessHours"===c){n&&(n.unrenderBusinessHours(),n.renderBusinessHours());return}if("timezone"===c){k.rezoneArrayEventSources();k.refetchEvents();return}}v();D();P={};M++;x();a=n.type;b=n.queryScroll();p();e()&&q();f(a,b);F();M--}var k=this;k.render=function(){Q?e()&&(e()&&q(),f()):d()};k.destroy=function(){n&&n.removeElement();A.proxyCall("removeElement");
Q.remove();a.removeClass("fc fc-ltr fc-rtl fc-unthemed ui-widget");a.off(".fc");O&&g(window).unbind("resize",O)};k.rerenderEvents=function(){e()&&k.reportEventChange()};k.changeView=f;k.select=function(a,b){n.select(k.buildSelectSpan.apply(k,arguments))};k.unselect=function(){n&&n.unselect()};k.prev=function(){y=n.computePrevDate(y);f()};k.next=function(){y=n.computeNextDate(y);f()};k.prevYear=function(){y.add(-1,"years");f()};k.nextYear=function(){y.add(1,"years");f()};k.today=function(){y=k.getNow();
f()};k.gotoDate=function(a){y=k.moment(a).stripZone();f()};k.incrementDate=function(a){y.add(m.duration(a));f()};k.zoomTo=B;k.getDate=function(){return k.applyTimezone(y)};k.getCalendar=function(){return k};k.getView=function(){return n};k.option=function(a,b){if("string"===typeof a){if(void 0===b)return k.options[a];var c={};c[a]=b;J(c)}else"object"===typeof a&&J(a)};k.publiclyTrigger=function(a,b){var c=Array.prototype.slice.call(arguments,2);b=b||K;this.triggerWith(a,b,c);if(k.options[a])return k.options[a].apply(b,
c)};k.dynamicOverrides={};k.viewSpecCache={};k.optionHandlers={};k.overrides=g.extend({},b);k.populateOptionsHash();var G;k.bindOptions("locale monthNames monthNamesShort dayNames dayNamesShort firstDay weekNumberCalculation".split(" "),function(a,b,d,e,f,g,h){"iso"===h&&(h="ISO");G=aa(m.localeData(a)||m.localeData("en"));b&&(G._months=b);d&&(G._monthsShort=d);e&&(G._weekdays=e);f&&(G._weekdaysShort=f);null==g&&"ISO"===h&&(g=1);null!=g&&(a=aa(G._week),a.dow=g,G._week=a);if("ISO"===h||"local"===h||
"function"===typeof h)G._fullCalendar_weekCalc=h;y&&c(y)});k.defaultAllDayEventDuration=m.duration(k.options.defaultAllDayEventDuration);k.defaultTimedEventDuration=m.duration(k.options.defaultTimedEventDuration);k.moment=function(){if("local"===k.options.timezone){var a=h.moment.apply(null,arguments);a.hasTime()&&a.local()}else a="UTC"===k.options.timezone?h.moment.utc.apply(null,arguments):h.moment.parseZone.apply(null,arguments);c(a);return a};k.localizeMoment=c;k.getIsAmbigTimezone=function(){return"local"!==
k.options.timezone&&"UTC"!==k.options.timezone};k.applyTimezone=function(a){if(!a.hasTime())return a.clone();var b=k.moment(a.toArray()),c=a.time()-b.time();c&&(c=b.clone().add(c),0===a.time()-c.time()&&(b=c));return b};k.getNow=function(){var a=k.options.now;"function"===typeof a&&(a=a());return k.moment(a).stripZone()};k.getEventEnd=function(a){return a.end?a.end.clone():k.getDefaultEventEnd(a.allDay,a.start)};k.getDefaultEventEnd=function(a,b){b=b.clone();a?b.stripTime().add(k.defaultAllDayEventDuration):
b.add(k.defaultTimedEventDuration);k.getIsAmbigTimezone()&&b.stripZone();return b};k.humanizeDuration=function(a){return a.locale(k.options.locale).humanize()};Db.call(k);var K=a[0],A,I,L,Q,n,P={},C,O,M=0;var y=null!=k.options.defaultDate?k.moment(k.options.defaultDate).stripZone():k.getNow();k.getSuggestedViewHeight=function(){void 0===C&&e()&&q();return C};k.isHeightAuto=function(){return"auto"===k.options.contentHeight||"auto"===k.options.height};k.setToolbarsTitle=function(a){A.proxyCall("updateTitle",
a)};k.freezeContentHeight=x;k.thawContentHeight=F;var E=0;k.initialize()},initialize:function(){},populateOptionsHash:function(){var a;var b=F(this.dynamicOverrides.locale,this.overrides.locale);b=Y[b];b||(b=r.defaults.locale,b=Y[b]||{});this.dirDefaults=a=F(this.dynamicOverrides.isRTL,this.overrides.isRTL,b.isRTL,r.defaults.isRTL)?r.rtlDefaults:{};this.localeDefaults=b;this.options=W([r.defaults,a,b,this.overrides,this.dynamicOverrides],da);jb(this.options)},getViewSpec:function(a){var b=this.viewSpecCache;
return b[a]||(b[a]=this.buildViewSpec(a))},getUnitViewSpec:function(a){var b,c;if(-1!=g.inArray(a,xa)){var d=this.header.getViewsWithButtons();g.each(h.views,function(a){d.push(a)});for(b=0;b<d.length;b++)if((c=this.getViewSpec(d[b]))&&c.singleUnit==a)return c}},buildViewSpec:function(a){for(var b=this.overrides.views||{},c=[],d=[],e=[],f=a,g,h,q;f;)g=J[f],h=b[f],f=null,"function"===typeof g&&(g={"class":g}),g&&(c.unshift(g),d.unshift(g.defaults||{}),q=q||g.duration,f=f||g.type),h&&(e.unshift(h),
q=q||h.duration,f=f||h.type);g=W(c);g.type=a;if(!g["class"])return!1;q&&(q=m.duration(q),q.valueOf()&&(g.duration=q,c=wa(q),1===q.as(c)&&(g.singleUnit=c,e.unshift(b[c]||{}))));g.defaults=W(d,da);g.overrides=W(e,da);this.buildViewSpecOptions(g);this.buildViewSpecButtonText(g,a);return g},buildViewSpecOptions:function(a){a.options=W([r.defaults,a.defaults,this.dirDefaults,this.localeDefaults,this.overrides,a.overrides,this.dynamicOverrides],da);jb(a.options)},buildViewSpecButtonText:function(a,b){function c(c){c=
c.buttonText||{};return c[b]||(a.buttonTextKey?c[a.buttonTextKey]:null)||(a.singleUnit?c[a.singleUnit]:null)}a.buttonTextOverride=c(this.dynamicOverrides)||c(this.overrides)||a.overrides.buttonText;a.buttonTextDefault=c(this.localeDefaults)||c(this.dirDefaults)||a.defaults.buttonText||c(r.defaults)||(a.duration?this.humanizeDuration(a.duration):null)||b},instantiateView:function(a){var b=this.getViewSpec(a);return new b["class"](this,a,b.options,b.duration)},isValidViewType:function(a){return!!this.getViewSpec(a)},
pushLoading:function(){this.loadingLevel++||this.publiclyTrigger("loading",null,!0,this.view)},popLoading:function(){--this.loadingLevel||this.publiclyTrigger("loading",null,!1,this.view)},buildSelectSpan:function(a,b){a=this.moment(a).stripZone();b=b?this.moment(b).stripZone():a.hasTime()?a.clone().add(this.defaultTimedEventDuration):a.clone().add(this.defaultAllDayEventDuration);return{start:a,end:b}}});r.mixin(mb);r.mixin({optionHandlers:null,bindOption:function(a,b){this.bindOptions([a],b)},bindOptions:function(a,
b){b={func:b,names:a};var c;for(c=0;c<a.length;c++)this.registerOptionHandlerObj(a[c],b);this.triggerOptionHandlerObj(b)},registerOptionHandlerObj:function(a,b){(this.optionHandlers[a]||(this.optionHandlers[a]=[])).push(b)},triggerOptionHandlers:function(a){a=this.optionHandlers[a]||[];var b;for(b=0;b<a.length;b++)this.triggerOptionHandlerObj(a[b])},triggerOptionHandlerObj:function(a){var b=a.names,c=[],d;for(d=0;d<b.length;d++)c.push(this.options[b[d]]);a.func.apply(this,c)}});r.defaults={titleRangeSeparator:"  ",
monthYearFormat:"MMMM YYYY",defaultTimedEventDuration:"02:00:00",defaultAllDayEventDuration:{days:1},forceEventDuration:!1,nextDayThreshold:"09:00:00",defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberTitle:"W",weekNumberCalculation:"local",scrollTime:"06:00:00",lazyFetching:!0,startParam:"start",endParam:"end",timezoneParam:"timezone",timezone:!1,isRTL:!1,buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",
year:"year",today:"today",month:"month",week:"week",day:"day"},buttonIcons:{prev:"left-single-arrow",next:"right-single-arrow",prevYear:"left-double-arrow",nextYear:"right-double-arrow"},allDayText:"all-day",theme:!1,themeButtonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e",prevYear:"seek-prev",nextYear:"seek-next"},dragOpacity:.75,dragRevertDuration:500,dragScroll:!0,unselectAuto:!0,dropAccept:"*",eventOrder:"title",eventLimit:!1,eventLimitText:"more",eventLimitClick:"popover",dayPopoverFormat:"LL",
handleWindowResize:!0,windowResizeDelay:100,longPressDelay:1E3};r.englishDefaults={dayPopoverFormat:"dddd, MMMM D"};r.rtlDefaults={header:{left:"next,prev today",center:"",right:"title"},buttonIcons:{prev:"right-single-arrow",next:"left-single-arrow",prevYear:"right-double-arrow",nextYear:"left-double-arrow"},themeButtonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w",nextYear:"seek-prev",prevYear:"seek-next"}};var Y=h.locales={};h.datepickerLocale=function(a,b,c){var d=Y[a]||(Y[a]={});d.isRTL=
c.isRTL;d.weekNumberTitle=c.weekHeader;g.each(Jb,function(a,b){d[a]=b(c)});g.datepicker&&(g.datepicker.regional[b]=g.datepicker.regional[a]=c,g.datepicker.regional.en=g.datepicker.regional[""],g.datepicker.setDefaults(c))};h.locale=function(a,b){var c=Y[a]||(Y[a]={});b&&(c=Y[a]=W([c,b],da));var d=m.localeData(a)||m.localeData("en");g.each(Kb,function(a,b){null==c[a]&&(c[a]=b(d,c))});r.defaults.locale=a};var Jb={buttonText:function(a){return{prev:a.prevText.replace(/&.*?;/g,""),next:a.nextText.replace(/&.*?;/g,
""),today:a.currentText.replace(/&.*?;/g,"")}},monthYearFormat:function(a){return a.showMonthAfterYear?"YYYY["+a.yearSuffix+"] MMMM":"MMMM YYYY["+a.yearSuffix+"]"}},Kb={dayOfMonthFormat:function(a,b){a=a.longDateFormat("l");a=a.replace(/^Y+[^\w\s]*|[^\w\s]*Y+$/g,"");return a=b.isRTL?a+" ddd":"ddd "+a},mediumTimeFormat:function(a){return a.longDateFormat("LT").replace(/\s*a$/i,"a")},smallTimeFormat:function(a){return a.longDateFormat("LT").replace(":mm","(:mm)").replace(/(\Wmm)$/,"($1)").replace(/\s*a$/i,
"a")},extraSmallTimeFormat:function(a){return a.longDateFormat("LT").replace(":mm","(:mm)").replace(/(\Wmm)$/,"($1)").replace(/\s*a$/i,"t")},hourFormat:function(a){return a.longDateFormat("LT").replace(":mm","").replace(/(\Wmm)$/,"").replace(/\s*a$/i,"a")},noMeridiemTimeFormat:function(a){return a.longDateFormat("LT").replace(/\s*a$/i,"")}},Cb={smallDayDateFormat:function(a){return a.isRTL?"D dd":"dd D"},weekFormat:function(a){return a.isRTL?"w[ "+a.weekNumberTitle+"]":"["+a.weekNumberTitle+" ]w"},
smallWeekFormat:function(a){return a.isRTL?"w["+a.weekNumberTitle+"]":"["+a.weekNumberTitle+"]w"}};h.locale("en",r.englishDefaults);h.sourceNormalizers=[];h.sourceFetchers=[];var Eb={dataType:"json",cache:!1},Fb=1;r.prototype.normalizeEvent=function(a){};r.prototype.spanContainsSpan=function(a,b){var c=a.start.clone().stripZone();a=this.getEventEnd(a).stripZone();return b.start>=c&&b.end<=a};r.prototype.getPeerEvents=function(a,b){a=this.getEventCache();var c=[],d;for(d=0;d<a.length;d++){var e=a[d];
b&&b._id===e._id||c.push(e)}return c};r.prototype.isEventSpanAllowed=function(a,b){var c=b.source||{},d=F(b.constraint,c.constraint,this.options.eventConstraint);c=F(b.overlap,c.overlap,this.options.eventOverlap);return this.isSpanAllowed(a,d,c,b)&&(!this.options.eventAllow||!1!==this.options.eventAllow(a,b))};r.prototype.isExternalSpanAllowed=function(a,b,c){if(c){b=g.extend({},c,b);var d=this.expandEvent(this.buildEventFromInput(b))[0]}return d?this.isEventSpanAllowed(a,d):this.isSelectionSpanAllowed(a)};
r.prototype.isSelectionSpanAllowed=function(a){return this.isSpanAllowed(a,this.options.selectConstraint,this.options.selectOverlap)&&(!this.options.selectAllow||!1!==this.options.selectAllow(a))};r.prototype.isSpanAllowed=function(a,b,c,d){var e;if(null!=b&&(e=this.constraintToEvents(b))){var f=!1;for(b=0;b<e.length;b++)if(this.spanContainsSpan(e[b],a)){f=!0;break}if(!f)return!1}e=this.getPeerEvents(a,d);for(b=0;b<e.length;b++)if(f=e[b],this.eventIntersectsRange(f,a)){if(!1===c||"function"===typeof c&&
!c(f,d))return!1;if(d){var g=F(f.overlap,(f.source||{}).overlap);if(!1===g||"function"===typeof g&&!g(d,f))return!1}}return!0};r.prototype.constraintToEvents=function(a){return"businessHours"===a?this.getCurrentBusinessHourEvents():"object"===typeof a?null!=a.start?this.expandEvent(this.buildEventFromInput(a)):null:this.clientEvents(a)};r.prototype.eventIntersectsRange=function(a,b){var c=a.start.clone().stripZone();a=this.getEventEnd(a).stripZone();return b.start<a&&b.end>c};var ob={id:"_fcBusinessHours",
start:"09:00",end:"17:00",dow:[1,2,3,4,5],rendering:"inverse-background"};r.prototype.getCurrentBusinessHourEvents=function(a){return this.computeBusinessHourEvents(a,this.options.businessHours)};r.prototype.computeBusinessHourEvents=function(a,b){return!0===b?this.expandBusinessHourEvents(a,[{}]):g.isPlainObject(b)?this.expandBusinessHourEvents(a,[b]):g.isArray(b)?this.expandBusinessHourEvents(a,b,!0):[]};r.prototype.expandBusinessHourEvents=function(a,b,c){var d=this.getView(),e=[],f;for(f=0;f<
b.length;f++){var h=b[f];if(!c||h.dow)h=g.extend({},ob,h),a&&(h.start=null,h.end=null),e.push.apply(e,this.expandEvent(this.buildEventFromInput(h),d.start,d.end))}return e};var Ga=h.BasicView=T.extend({scroller:null,dayGridClass:qa,dayGrid:null,dayNumbersVisible:!1,colWeekNumbersVisible:!1,cellWeekNumbersVisible:!1,weekNumberWidth:null,headContainerEl:null,headRowEl:null,initialize:function(){this.dayGrid=this.instantiateDayGrid();this.scroller=new Fa({overflowX:"hidden",overflowY:"auto"})},instantiateDayGrid:function(){return new (this.dayGridClass.extend(Lb))(this)},
setRange:function(a){T.prototype.setRange.call(this,a);this.dayGrid.breakOnWeeks=/year|month|week/.test(this.intervalUnit);this.dayGrid.setRange(a)},computeRange:function(a){a=T.prototype.computeRange.call(this,a);/year|month/.test(a.intervalUnit)&&(a.start.startOf("week"),a.start=this.skipHiddenDays(a.start),a.end.weekday()&&(a.end.add(1,"week").startOf("week"),a.end=this.skipHiddenDays(a.end,-1,!0)));return a},renderDates:function(){this.dayNumbersVisible=1<this.dayGrid.rowCnt;this.opt("weekNumbers")&&
(this.opt("weekNumbersWithinDays")?(this.cellWeekNumbersVisible=!0,this.colWeekNumbersVisible=!1):(this.cellWeekNumbersVisible=!1,this.colWeekNumbersVisible=!0));this.dayGrid.numbersVisible=this.dayNumbersVisible||this.cellWeekNumbersVisible||this.colWeekNumbersVisible;this.el.addClass("fc-basic-view").html(this.renderSkeletonHtml());this.renderHead();this.scroller.render();var a=this.scroller.el.addClass("fc-day-grid-container"),b=g('<div class="fc-day-grid" />').appendTo(a);this.el.find(".fc-body > tr > td").append(a);
this.dayGrid.setElement(b);this.dayGrid.renderDates(this.hasRigidRows())},renderHead:function(){this.headContainerEl=this.el.find(".fc-head-container").html(this.dayGrid.renderHeadHtml());this.headRowEl=this.headContainerEl.find(".fc-row")},unrenderDates:function(){this.dayGrid.unrenderDates();this.dayGrid.removeElement();this.scroller.destroy()},renderBusinessHours:function(){this.dayGrid.renderBusinessHours()},unrenderBusinessHours:function(){this.dayGrid.unrenderBusinessHours()},renderSkeletonHtml:function(){return'<table><thead class="fc-head"><tr><td class="fc-head-container '+
this.widgetHeaderClass+'"></td></tr></thead><tbody class="fc-body"><tr><td class="'+this.widgetContentClass+'"></td></tr></tbody></table>'},weekNumberStyleAttr:function(){return null!==this.weekNumberWidth?'style="width:'+this.weekNumberWidth+'px"':""},hasRigidRows:function(){var a=this.opt("eventLimit");return a&&"number"!==typeof a},updateWidth:function(){this.colWeekNumbersVisible&&(this.weekNumberWidth=Ka(this.el.find(".fc-week-number")))},setHeight:function(a,b){var c=this.opt("eventLimit");
this.scroller.clear();Ia(this.headRowEl);this.dayGrid.removeSegPopover();c&&"number"===typeof c&&this.dayGrid.limitRows(c);var d=this.computeScrollerHeight(a);this.setGridHeight(d,b);c&&"number"!==typeof c&&this.dayGrid.limitRows(c);if(!b){this.scroller.setHeight(d);b=this.scroller.getScrollbarWidths();if(b.left||b.right)Ha(this.headRowEl,b),d=this.computeScrollerHeight(a),this.scroller.setHeight(d);this.scroller.lockOverflow(b)}},computeScrollerHeight:function(a){return a-ra(this.el,this.scroller.el)},
setGridHeight:function(a,b){b?this.dayGrid.rowEls.height(""):Ja(this.dayGrid.rowEls,a,!0)},computeInitialScroll:function(){return{top:0}},queryScroll:function(){return{top:this.scroller.getScrollTop()}},setScroll:function(a){this.scroller.setScrollTop(a.top)},prepareHits:function(){this.dayGrid.prepareHits()},releaseHits:function(){this.dayGrid.releaseHits()},queryHit:function(a,b){return this.dayGrid.queryHit(a,b)},getHitSpan:function(a){return this.dayGrid.getHitSpan(a)},getHitEl:function(a){return this.dayGrid.getHitEl(a)},
renderEvents:function(a){this.dayGrid.renderEvents(a);this.updateHeight()},getEventSegs:function(){return this.dayGrid.getEventSegs()},unrenderEvents:function(){this.dayGrid.unrenderEvents()},renderDrag:function(a,b){return this.dayGrid.renderDrag(a,b)},unrenderDrag:function(){this.dayGrid.unrenderDrag()},renderSelection:function(a){this.dayGrid.renderSelection(a)},unrenderSelection:function(){this.dayGrid.unrenderSelection()}}),Lb={renderHeadIntroHtml:function(){var a=this.view;return a.colWeekNumbersVisible?
'<th class="fc-week-number '+a.widgetHeaderClass+'" '+a.weekNumberStyleAttr()+"><span>"+q(a.opt("weekNumberTitle"))+"</span></th>":""},renderNumberIntroHtml:function(a){var b=this.view;a=this.getCellDate(a,0);return b.colWeekNumbersVisible?'<td class="fc-week-number" '+b.weekNumberStyleAttr()+">"+b.buildGotoAnchorHtml({date:a,type:"week",forceOff:1===this.colCnt},a.format("w"))+"</td>":""},renderBgIntroHtml:function(){var a=this.view;return a.colWeekNumbersVisible?'<td class="fc-week-number '+a.widgetContentClass+
'" '+a.weekNumberStyleAttr()+"></td>":""},renderIntroHtml:function(){var a=this.view;return a.colWeekNumbersVisible?'<td class="fc-week-number" '+a.weekNumberStyleAttr()+"></td>":""}},Mb=h.MonthView=Ga.extend({computeRange:function(a){a=Ga.prototype.computeRange.call(this,a);if(this.isFixedWeeks()){var b=Math.ceil(a.end.diff(a.start,"weeks",!0));a.end.add(6-b,"weeks")}return a},setGridHeight:function(a,b){b&&(a*=this.rowCnt/6);Ja(this.dayGrid.rowEls,a,!b)},isFixedWeeks:function(){return this.opt("fixedWeekCount")}});
J.basic={"class":Ga};J.basicDay={type:"basic",duration:{days:1}};J.basicWeek={type:"basic",duration:{weeks:1}};J.month={"class":Mb,duration:{months:1},defaults:{fixedWeekCount:!0}};var Qb=h.AgendaView=T.extend({scroller:null,timeGridClass:rb,timeGrid:null,dayGridClass:qa,dayGrid:null,axisWidth:null,headContainerEl:null,noScrollRowEls:null,bottomRuleEl:null,initialize:function(){this.timeGrid=this.instantiateTimeGrid();this.opt("allDaySlot")&&(this.dayGrid=this.instantiateDayGrid());this.scroller=
new Fa({overflowX:"hidden",overflowY:"auto"})},instantiateTimeGrid:function(){return new (this.timeGridClass.extend(Nb))(this)},instantiateDayGrid:function(){return new (this.dayGridClass.extend(Ob))(this)},setRange:function(a){T.prototype.setRange.call(this,a);this.timeGrid.setRange(a);this.dayGrid&&this.dayGrid.setRange(a)},renderDates:function(){this.el.addClass("fc-agenda-view").html(this.renderSkeletonHtml());this.renderHead();this.scroller.render();var a=this.scroller.el.addClass("fc-time-grid-container"),
b=g('<div class="fc-time-grid" />').appendTo(a);this.el.find(".fc-body > tr > td").append(a);this.timeGrid.setElement(b);this.timeGrid.renderDates();this.bottomRuleEl=g('<hr class="fc-divider '+this.widgetHeaderClass+'"/>').appendTo(this.timeGrid.el);this.dayGrid&&(this.dayGrid.setElement(this.el.find(".fc-day-grid")),this.dayGrid.renderDates(),this.dayGrid.bottomCoordPadding=this.dayGrid.el.next("hr").outerHeight());this.noScrollRowEls=this.el.find(".fc-row:not(.fc-scroller *)")},renderHead:function(){this.headContainerEl=
this.el.find(".fc-head-container").html(this.timeGrid.renderHeadHtml())},unrenderDates:function(){this.timeGrid.unrenderDates();this.timeGrid.removeElement();this.dayGrid&&(this.dayGrid.unrenderDates(),this.dayGrid.removeElement());this.scroller.destroy()},renderSkeletonHtml:function(){return'<table><thead class="fc-head"><tr><td class="fc-head-container '+this.widgetHeaderClass+'"></td></tr></thead><tbody class="fc-body"><tr><td class="'+this.widgetContentClass+'">'+(this.dayGrid?'<div class="fc-day-grid"/><hr class="fc-divider '+
this.widgetHeaderClass+'"/>':"")+"</td></tr></tbody></table>"},axisStyleAttr:function(){return null!==this.axisWidth?'style="width:'+this.axisWidth+'px"':""},renderBusinessHours:function(){this.timeGrid.renderBusinessHours();this.dayGrid&&this.dayGrid.renderBusinessHours()},unrenderBusinessHours:function(){this.timeGrid.unrenderBusinessHours();this.dayGrid&&this.dayGrid.unrenderBusinessHours()},getNowIndicatorUnit:function(){return this.timeGrid.getNowIndicatorUnit()},renderNowIndicator:function(a){this.timeGrid.renderNowIndicator(a)},
unrenderNowIndicator:function(){this.timeGrid.unrenderNowIndicator()},updateSize:function(a){this.timeGrid.updateSize(a);T.prototype.updateSize.call(this,a)},updateWidth:function(){this.axisWidth=Ka(this.el.find(".fc-axis"))},setHeight:function(a,b){var c;this.bottomRuleEl.hide();this.scroller.clear();Ia(this.noScrollRowEls);this.dayGrid&&(this.dayGrid.removeSegPopover(),(c=this.opt("eventLimit"))&&"number"!==typeof c&&(c=Pb),c&&this.dayGrid.limitRows(c));if(!b){b=this.computeScrollerHeight(a);this.scroller.setHeight(b);
c=this.scroller.getScrollbarWidths();if(c.left||c.right)Ha(this.noScrollRowEls,c),b=this.computeScrollerHeight(a),this.scroller.setHeight(b);this.scroller.lockOverflow(c);this.timeGrid.getTotalSlatHeight()<b&&this.bottomRuleEl.show()}},computeScrollerHeight:function(a){return a-ra(this.el,this.scroller.el)},computeInitialScroll:function(){var a=m.duration(this.opt("scrollTime"));a=this.timeGrid.computeTimeTop(a);(a=Math.ceil(a))&&a++;return{top:a}},queryScroll:function(){return{top:this.scroller.getScrollTop()}},
setScroll:function(a){this.scroller.setScrollTop(a.top)},prepareHits:function(){this.timeGrid.prepareHits();this.dayGrid&&this.dayGrid.prepareHits()},releaseHits:function(){this.timeGrid.releaseHits();this.dayGrid&&this.dayGrid.releaseHits()},queryHit:function(a,b){var c=this.timeGrid.queryHit(a,b);!c&&this.dayGrid&&(c=this.dayGrid.queryHit(a,b));return c},getHitSpan:function(a){return a.component.getHitSpan(a)},getHitEl:function(a){return a.component.getHitEl(a)},renderEvents:function(a){var b=[],
c=[],d;for(d=0;d<a.length;d++)a[d].allDay?b.push(a[d]):c.push(a[d]);this.timeGrid.renderEvents(c);this.dayGrid&&this.dayGrid.renderEvents(b);this.updateHeight()},getEventSegs:function(){return this.timeGrid.getEventSegs().concat(this.dayGrid?this.dayGrid.getEventSegs():[])},unrenderEvents:function(){this.timeGrid.unrenderEvents();this.dayGrid&&this.dayGrid.unrenderEvents()},renderDrag:function(a,b){if(a.start.hasTime())return this.timeGrid.renderDrag(a,b);if(this.dayGrid)return this.dayGrid.renderDrag(a,
b)},unrenderDrag:function(){this.timeGrid.unrenderDrag();this.dayGrid&&this.dayGrid.unrenderDrag()},renderSelection:function(a){a.start.hasTime()||a.end.hasTime()?this.timeGrid.renderSelection(a):this.dayGrid&&this.dayGrid.renderSelection(a)},unrenderSelection:function(){this.timeGrid.unrenderSelection();this.dayGrid&&this.dayGrid.unrenderSelection()}}),Nb={renderHeadIntroHtml:function(){var a=this.view;if(a.opt("weekNumbers")){var b=this.start.format(a.opt("smallWeekFormat"));return'<th class="fc-axis fc-week-number '+
a.widgetHeaderClass+'" '+a.axisStyleAttr()+">"+a.buildGotoAnchorHtml({date:this.start,type:"week",forceOff:1<this.colCnt},q(b))+"</th>"}return'<th class="fc-axis '+a.widgetHeaderClass+'" '+a.axisStyleAttr()+"></th>"},renderBgIntroHtml:function(){var a=this.view;return'<td class="fc-axis '+a.widgetContentClass+'" '+a.axisStyleAttr()+"></td>"},renderIntroHtml:function(){return'<td class="fc-axis" '+this.view.axisStyleAttr()+"></td>"}},Ob={renderBgIntroHtml:function(){var a=this.view;return'<td class="fc-axis '+
a.widgetContentClass+'" '+a.axisStyleAttr()+"><span>"+a.getAllDayHtml()+"</span></td>"},renderIntroHtml:function(){return'<td class="fc-axis" '+this.view.axisStyleAttr()+"></td>"}},Pb=5,qb=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}];J.agenda={"class":Qb,defaults:{allDaySlot:!0,slotDuration:"00:30:00",minTime:"00:00:00",maxTime:"24:00:00",slotEventOverlap:!0}};J.agendaDay={type:"agenda",duration:{days:1}};J.agendaWeek={type:"agenda",duration:{weeks:1}};var Sb=T.extend({grid:null,
scroller:null,initialize:function(){this.grid=new Rb(this);this.scroller=new Fa({overflowX:"hidden",overflowY:"auto"})},setRange:function(a){T.prototype.setRange.call(this,a);this.grid.setRange(a)},renderSkeleton:function(){this.el.addClass("fc-list-view "+this.widgetContentClass);this.scroller.render();this.scroller.el.appendTo(this.el);this.grid.setElement(this.scroller.scrollEl)},unrenderSkeleton:function(){this.scroller.destroy()},setHeight:function(a,b){this.scroller.setHeight(this.computeScrollerHeight(a))},
computeScrollerHeight:function(a){return a-ra(this.el,this.scroller.el)},renderEvents:function(a){this.grid.renderEvents(a)},unrenderEvents:function(){this.grid.unrenderEvents()},isEventResizable:function(a){return!1},isEventDraggable:function(a){return!1}}),Rb=P.extend({segSelector:".fc-list-item",hasDayInteractions:!1,spanToSegs:function(a){for(var b=this.view,c=b.start.clone().time(0),d=0,e,f=[];c<b.end;){if(e=ka(a,{start:c,end:c.clone().add(1,"day")}))e.dayIndex=d,f.push(e);c.add(1,"day");d++;
if(e&&!e.isEnd&&a.end.hasTime()&&a.end<c.clone().add(this.view.nextDayThreshold)){e.end=a.end.clone();e.isEnd=!0;break}}return f},computeEventTimeFormat:function(){return this.view.opt("mediumTimeFormat")},handleSegClick:function(a,b){var c;P.prototype.handleSegClick.apply(this,arguments);g(b.target).closest("a[href]").length||(c=a.event.url)&&!b.isDefaultPrevented()&&(window.location.href=c)},renderFgSegs:function(a){a=this.renderFgSegEls(a);a.length?this.renderSegList(a):this.renderEmptyMessage();
return a},renderEmptyMessage:function(){this.el.html('<div class="fc-list-empty-wrap2"><div class="fc-list-empty-wrap1"><div class="fc-list-empty">'+q(this.view.opt("noEventsMessage"))+"</div></div></div>")},renderSegList:function(a){a=this.groupSegsByDay(a);var b,c,d,e=g('<table class="fc-list-table"><tbody/></table>'),f=e.find("tbody");for(b=0;b<a.length;b++)if(c=a[b])for(f.append(this.dayHeaderHtml(this.view.start.clone().add(b,"days"))),this.sortEventSegs(c),d=0;d<c.length;d++)f.append(c[d].el);
this.el.empty().append(e)},groupSegsByDay:function(a){var b=[],c;for(c=0;c<a.length;c++){var d=a[c];(b[d.dayIndex]||(b[d.dayIndex]=[])).push(d)}return b},dayHeaderHtml:function(a){var b=this.view,c=b.opt("listDayFormat"),d=b.opt("listDayAltFormat");return'<tr class="fc-list-heading" data-date="'+a.format("YYYY-MM-DD")+'"><td class="'+b.widgetHeaderClass+'" colspan="3">'+(c?b.buildGotoAnchorHtml(a,{"class":"fc-list-heading-main"},q(a.format(c))):"")+(d?b.buildGotoAnchorHtml(a,{"class":"fc-list-heading-alt"},
q(a.format(d))):"")+"</td></tr>"},fgSegHtml:function(a){var b=this.view,c=["fc-list-item"].concat(this.getSegCustomClasses(a)),d=this.getSegBackgroundColor(a),e=a.event,f=e.url;e=e.allDay?b.getAllDayHtml():b.isMultiDayEvent(e)?a.isStart||a.isEnd?q(this.getEventTimeText(a)):b.getAllDayHtml():q(this.getEventTimeText(e));f&&c.push("fc-has-url");return'<tr class="'+c.join(" ")+'">'+(this.displayEventTime?'<td class="fc-list-item-time '+b.widgetContentClass+'">'+(e||"")+"</td>":"")+'<td class="fc-list-item-marker '+
b.widgetContentClass+'"><span class="fc-event-dot"'+(d?' style="background-color:'+d+'"':"")+'></span></td><td class="fc-list-item-title '+b.widgetContentClass+'"><a'+(f?' href="'+q(f)+'"':"")+">"+q(a.event.title||"")+"</a></td></tr>"}});J.list={"class":Sb,buttonTextKey:"list",defaults:{buttonText:"list",listDayFormat:"LL",noEventsMessage:"No events to display"}};J.listDay={type:"list",duration:{days:1},defaults:{listDayFormat:"dddd"}};J.listWeek={type:"list",duration:{weeks:1},defaults:{listDayFormat:"dddd",
listDayAltFormat:"LL"}};J.listMonth={type:"list",duration:{month:1},defaults:{listDayAltFormat:"dddd"}};J.listYear={type:"list",duration:{year:1},defaults:{listDayAltFormat:"dddd"}};return h});
